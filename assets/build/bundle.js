(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){

},{}],2:[function(require,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){var r,e,t=getLens(o),n=t[0],u=t[1],p=new Arr(_byteLength(o,n,u)),a=0,h=u>0?n-4:n;for(e=0;e<h;e+=4)r=revLookup[o.charCodeAt(e)]<<18|revLookup[o.charCodeAt(e+1)]<<12|revLookup[o.charCodeAt(e+2)]<<6|revLookup[o.charCodeAt(e+3)],p[a++]=r>>16&255,p[a++]=r>>8&255,p[a++]=255&r;return 2===u&&(r=revLookup[o.charCodeAt(e)]<<2|revLookup[o.charCodeAt(e+1)]>>4,p[a++]=255&r),1===u&&(r=revLookup[o.charCodeAt(e)]<<10|revLookup[o.charCodeAt(e+1)]<<4|revLookup[o.charCodeAt(e+2)]>>2,p[a++]=r>>8&255,p[a++]=255&r),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],3:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,numberIsNaN(r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(e,a)===i(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(e,a+l)!==i(t,l)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i=e[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=e[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=e[f+1],a=e[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=e[f+1],a=e[f+2],h=e[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=e.split("=")[0],e=e.trim().replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!==e}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;

}).call(this)}).call(this,require("buffer").Buffer)

},{"base64-js":2,"buffer":3,"ieee754":5}],4:[function(require,module,exports){
"use strict";function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}function EventEmitter(){EventEmitter.init.call(this)}function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,n,r){var i,o,s;if(checkListener(n),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=_getMaxListeners(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,ProcessEmitWarning(u)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=onceWrapper.bind(r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function arrayClone(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function once(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),"error"!==t&&addErrorHandlerIfEventEmitter(e,i,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,n){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,n)}function eventTargetAgnosticAddListener(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}var R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},ReflectOwnKeys;ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var NumberIsNaN=Number.isNaN||function(e){return e!==e};module.exports=EventEmitter,module.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)ReflectApply(u,this,t);else for(var f=u.length,v=arrayClone(u,f),n=0;n<f;++n)ReflectApply(v[n],this,t);return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o,s;if(checkListener(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():spliceOne(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};

},{}],5:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],6:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],7:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],8:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],9:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":7,"./encode":8}],10:[function(require,module,exports){
(function (setImmediate,clearImmediate){(function (){
function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};

}).call(this)}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":6,"timers":10}],11:[function(require,module,exports){
"use strict";var Info=function(t,e){var i=document.title,s=$(e.appendCredits);e.appendCredits&&$(".credits").append(s),e.title&&$("#info-title").text(e.title),e.subtitle&&$("#info-subtitle").text(e.subtitle),e.titleCss&&$("#info-title").css(e.titleCss),e.subtitleCss&&$("#info-subtitle").css(e.subtitleCss),e.documentTitle&&(document.title=e.documentTitle),e.showArrowNext&&$(".arrow-next").show(),$("#info").show(),t.emitter.on("destroy",function(){document.title=i,$("#info-title").text(""),$("#info-subtitle").text(""),$("#info-title").attr("style",""),$("#info-subtitle").attr("style",""),$(".arrow-next").hide(),$("#info").hide(),s.remove()})};module.exports=Info;

},{}],12:[function(require,module,exports){
"use strict";var Stars=function(t){this.poem=t,this.object=null,this.count=3e4,this.depth=5e3,this.minDepth=700,this.color=11184810,this.addObject()};module.exports=Stars,Stars.prototype={generateGeometry:function(){var t,e,o,i,h,s;s=new THREE.Geometry;for(var r=0;r<this.count;r++)t=Math.random()*this.depth+this.minDepth,e=2*Math.random()*Math.PI,o=Math.cos(e)*t,h=Math.sin(e)*t,i=(.5-Math.random())*this.depth,s.vertices.push(new THREE.Vector3(o,i,h));return s},addObject:function(){var t;t=this.generateGeometry(),this.object=new THREE.PointCloud(t,new THREE.PointCloudMaterial({size:3*this.poem.ratio,color:this.color,fog:!1})),this.poem.scene.add(this.object)}};

},{}],13:[function(require,module,exports){
"use strict";function setupTexture(e,t,n){var o=new Image,i=new THREE.Texture(o);return o.src="assets/images/cloud1024.png",$("body").append(o),i.wrapS=THREE.RepeatWrapping,i.wrapT=THREE.RepeatWrapping,$(o).on("load",function(){n.needsUpdate=!0,i.needsUpdate=!0}),t.add(e),i}var Clouds=function(e,t){var n=_.extend({width:500,offset:new THREE.Vector2(1,1),color:new THREE.Vector4(.5,1,.7,1),height:-200,rotation:Math.PI/2},t),o=new THREE.PlaneGeometry(n.width,n.width),i=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\t\n\tvUv = uv;\n\t\n\tgl_Position = projectionMatrix *\n\t\tmodelViewMatrix *\n\t\tvec4( position, 1.0);\n\t\t\n}",fragmentShader:"#define GLSLIFY 1\nuniform float time;\nuniform vec4 color;\nuniform vec2 offset;\nuniform sampler2D texture;\n\nvarying vec2 vUv;\n\nvoid main() {\n\t\n\tvec4 texel = \n\t\ttexture2D( texture, vUv * 0.1 + ( offset + time * 0.00001) * offset ) +\n\t\ttexture2D( texture, vUv * 0.22 + ( offset + time * 0.0000055) * offset );\n\t\n\tfloat edges = 0.5 - length(vUv - 0.5);\n\t\n  gl_FragColor = color * edges * vec4( 1.0, 1.0, 1.0, texel.w * texel.w * 2.5 );\n\t\n}",transparent:!0,blending:THREE.AdditiveBlending,side:THREE.DoubleSide,depthTest:!1,uniforms:{time:{type:"f",value:0},texture:{type:"t",value:null},offset:{type:"v2",value:n.offset},color:{type:"v4",value:n.color}},attributes:{}}),r=new THREE.Mesh(o,i);r.rotation.x=n.rotation,r.position.y=n.height,r.scale.multiplyScalar(10),i.uniforms.texture.value=setupTexture(r,e.scene,i),e.emitter.on("update",function(t){var n=e.camera.object.position;i.uniforms.time.value=t.elapsed,r.position.set(n.x,r.position.y,n.z)})};module.exports=Clouds;

},{}],14:[function(require,module,exports){
"use strict";var Sky=function(n,e){var t=_.extend({width:5e3},e),i=new THREE.SphereGeometry(t.width,64,30),o=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform float time;\nvarying vec4 vColor;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nfloat mod289_1_0(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat permute_1_1(float x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat taylorInvSqrt_1_2(float r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 grad4_1_3(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;\n\n  return p;\n  }\n\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise_1_4(vec4 v)\n  {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n// First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n// Other corners\n\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n//  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n// Permutations\n  i = mod289_1_0(i);\n  float j0 = permute_1_1( permute_1_1( permute_1_1( permute_1_1(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute_1_1( permute_1_1( permute_1_1( permute_1_1 (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0_1_5 = grad4_1_3(j0,   ip);\n  vec4 p1 = grad4_1_3(j1.x, ip);\n  vec4 p2 = grad4_1_3(j1.y, ip);\n  vec4 p3 = grad4_1_3(j1.z, ip);\n  vec4 p4 = grad4_1_3(j1.w, ip);\n\n// Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_5,p0_1_5), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_5 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt_1_2(dot(p4,p4));\n\n// Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0_1_5, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n  }\n\n\n\nvec3 hsv2rgb_2_6(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n\n\nfloat inRange( in float value, in float start, in float stop ) {\n\t\n\treturn min( 1.0, max( 0.0,\n\t\t(value - start) / (stop - start)\n\t));\n\t\n}\n\nvec4 calculateColor( in vec2 uv, in vec3 position ) {\n\t\n\tfloat gradient =\n\t\tinRange( uv.y, 0.55, 0.7 ) +\n\t\tinRange( uv.y, 0.45, 0.3 ) ;\n\t\n\tfloat noise = snoise_1_4( vec4( position * 0.03, time * 0.0001 ) );\n\t\n\tvec3 color = hsv2rgb_2_6(vec3(\n\t\tmax(0.0, noise) * 0.2 + 0.4,\n\t\t1.0,\n\t\t1.0\n\t));\n\t\n\treturn vec4(\n\t\tcolor,\n\t\tnoise * gradient\n\t);\n\t\n}\n\nvoid main() {\n\t\n\tvColor = calculateColor( uv, position );\n\t\n\tgl_Position = projectionMatrix *\n\t\tmodelViewMatrix *\n\t\tvec4( position, 1.0);\n\t\t\n}",fragmentShader:"#define GLSLIFY 1\nvarying vec4 vColor;\n\n// float remap( in float value, in float start, in float stop ) {\n// \treturn start + value * ( stop - start );\n// }\n\nvoid main() {\n\t\n\tgl_FragColor = vColor;\n\t\n}",side:THREE.BackSide,transparent:!0,depthTest:!1,uniforms:{time:{type:"f",value:0}},attributes:{}}),r=new THREE.Mesh(i,o);n.scene.add(r),n.emitter.on("update",function(e){o.uniforms.time.value=e.elapsed,r.position.copy(n.camera.object.position)})};module.exports=Sky;

},{}],15:[function(require,module,exports){
"use strict";function _createMaterial(n,e){return new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform float elapsed;\nuniform float uRange;\nattribute float size;\nattribute float aOffset;\n\nvarying float vOffset;\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvoid main() {\n\n\t// vec3 movement = vec3(0.0, elapsed * 0.001, 0.0);\n\tvec3 movement = vec3(\n\t\tsin( elapsed * 0.002 * aOffset) * uRange * 0.003,\n\t\telapsed * (-uRange / 100000.0 - uRange / 100000.0 * aOffset),\n\t\tcos( elapsed * 0.002 * aOffset ) * uRange * 0.003\n\t);\n\t\n\tvec3 range = vec3(uRange, uRange * 0.3, uRange);\n\t\n\tvec3 cameraOffset = cameraPosition - range;\n\t\n\tvec3 moduloPosition = mod( position + movement - cameraOffset, range * 2.0 ) + cameraOffset;\n\tvec4 mvPosition = modelViewMatrix * vec4( moduloPosition, 1.0 );\n\t\n\tvOffset = aOffset;\n\t\n\tgl_PointSize = size * ( uRange / (length( mvPosition.xyz ) + 1.0) );\n\tgl_Position = projectionMatrix * mvPosition;\n\n}",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\nuniform float elapsed;\nvarying float vOffset;\n\nvec2 doModel(vec3 p);\n\n// Originally sourced from https://www.shadertoy.com/view/ldfSWs\n// Thank you Iñigo :)\n\nvec2 calcRayIntersection_3_0(vec3 rayOrigin, vec3 rayDir, float maxd, float precis) {\n  float latest = precis * 2.0;\n  float dist   = +0.0;\n  float type   = -1.0;\n  vec2  res    = vec2(-1.0, -1.0);\n\n  for (int i = 0; i < 30; i++) {\n    if (latest < precis || dist > maxd) break;\n\n    vec2 result = doModel(rayOrigin + rayDir * dist);\n\n    latest = result.x;\n    type   = result.y;\n    dist  += latest;\n  }\n\n  if (dist < maxd) {\n    res = vec2(dist, type);\n  }\n\n  return res;\n}\n\nvec2 calcRayIntersection_3_0(vec3 rayOrigin, vec3 rayDir) {\n  return calcRayIntersection_3_0(rayOrigin, rayDir, 20.0, 0.001);\n}\n\n\n\n// Originally sourced from https://www.shadertoy.com/view/ldfSWs\n// Thank you Iñigo :)\n\nvec3 calcNormal_5_1(vec3 pos, float eps) {\n  const vec3 v1 = vec3( 1.0,-1.0,-1.0);\n  const vec3 v2 = vec3(-1.0,-1.0, 1.0);\n  const vec3 v3 = vec3(-1.0, 1.0,-1.0);\n  const vec3 v4 = vec3( 1.0, 1.0, 1.0);\n\n  return normalize( v1 * doModel( pos + v1*eps ).x +\n                    v2 * doModel( pos + v2*eps ).x +\n                    v3 * doModel( pos + v3*eps ).x +\n                    v4 * doModel( pos + v4*eps ).x );\n}\n\nvec3 calcNormal_5_1(vec3 pos) {\n  return calcNormal_5_1(pos, 0.002);\n}\n\n\n\nvec2 squareFrame_6_2(vec2 screenSize) {\n  vec2 position = 2.0 * (gl_FragCoord.xy / screenSize.xy) - 1.0;\n  position.x *= screenSize.x / screenSize.y;\n  return position;\n}\n\nvec2 squareFrame_6_2(vec2 screenSize, vec2 coord) {\n  vec2 position = 2.0 * (coord.xy / screenSize.xy) - 1.0;\n  position.x *= screenSize.x / screenSize.y;\n  return position;\n}\n\n\n\nmat3 calcLookAtMatrix_7_3(vec3 origin, vec3 target, float roll) {\n  vec3 rr = vec3(sin(roll), cos(roll), 0.0);\n  vec3 ww = normalize(target - origin);\n  vec3 uu = normalize(cross(ww, rr));\n  vec3 vv = normalize(cross(uu, ww));\n\n  return mat3(uu, vv, ww);\n}\n\n\n\n\nvec3 getRay_4_4(mat3 camMat, vec2 screenPos, float lensLength) {\n  return normalize(camMat * vec3(screenPos, lensLength));\n}\n\nvec3 getRay_4_4(vec3 origin, vec3 target, vec2 screenPos, float lensLength) {\n  mat3 camMat = calcLookAtMatrix_7_3(origin, target, 0.0);\n  return getRay_4_4(camMat, screenPos, lensLength);\n}\n\n\n\n\nvoid orbitCamera_2_5(\n  in float camAngle,\n  in float camHeight,\n  in float camDistance,\n  in vec2 screenResolution,\n  out vec3 rayOrigin,\n  out vec3 rayDirection\n) {\n  vec2 screenPos = squareFrame_6_2(screenResolution);\n  vec3 rayTarget = vec3(0.0);\n\n  rayOrigin = vec3(\n    camDistance * sin(camAngle),\n    camHeight,\n    camDistance * cos(camAngle)\n  );\n\n  rayDirection = getRay_4_4(rayOrigin, rayTarget, screenPos, 2.0);\n}\n\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289_1_6(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nfloat mod289_1_6(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nvec4 permute_1_7(vec4 x) {\n     return mod289_1_6(((x*34.0)+1.0)*x);\n}\n\nfloat permute_1_7(float x) {\n     return mod289_1_6(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_8(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat taylorInvSqrt_1_8(float r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 grad4_1_9(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;\n\n  return p;\n  }\n\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise_1_10(vec4 v)\n  {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n// First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n// Other corners\n\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n//  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n// Permutations\n  i = mod289_1_6(i);\n  float j0 = permute_1_7( permute_1_7( permute_1_7( permute_1_7(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute_1_7( permute_1_7( permute_1_7( permute_1_7 (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0_1_11 = grad4_1_9(j0,   ip);\n  vec4 p1 = grad4_1_9(j1.x, ip);\n  vec4 p2 = grad4_1_9(j1.y, ip);\n  vec4 p3 = grad4_1_9(j1.z, ip);\n  vec4 p4 = grad4_1_9(j1.w, ip);\n\n// Normalise gradients\n  vec4 norm = taylorInvSqrt_1_8(vec4(dot(p0_1_11,p0_1_11), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_11 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt_1_8(dot(p4,p4));\n\n// Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0_1_11, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n  }\n\n\n\n\n\nvec2 doModel(vec3 p) {\n\tfloat r  = 1.0 + snoise_1_10(vec4(p, elapsed / 1000.0)) * 0.25;\n\tfloat d  = length(p) - r;\n\tfloat id = 0.0;\n\n\treturn vec2(d, id);\n}\n\nvec2 squareFrame(vec2 screenSize, vec2 screenPosition) {\n\tvec2 position = 2.0 * (screenPosition.xy / screenSize.xy) - 1.0;\n\tposition.x *= screenSize.x / screenSize.y;\n\treturn position;\n}\n\n\nvoid orbitCamera(\n\tin float camAngle,\n\tin float camHeight,\n\tin float camDistance,\n\tin vec2 screenResolution,\n\tin vec2 screenPosition,\n\tout vec3 rayOrigin,\n\tout vec3 rayDirection\n) {\n\tvec2 screenPos = squareFrame(screenResolution, screenPosition);\n\tvec3 rayTarget = vec3(0.0);\n \n\trayOrigin = vec3(\n\t\tcamDistance * sin(camAngle),\n\t\tcamHeight,\n\t\tcamDistance * cos(camAngle)\n\t);\n \n\trayDirection = getRay_4_4(rayOrigin, rayTarget, screenPos, 2.0);\n}\n\n\nvoid main() {\n\tvec3 color = vec3(0.0);\n\tvec3 rayOrigin, rayDirection;\n\n\tfloat rotation = elapsed / 1000.0;\n\tfloat height   = 0.0;\n\tfloat dist     = 3.0;\n\tvec2 iResolution = vec2( 1.0, 1.0 );\n\t\n\torbitCamera(rotation + vOffset * 100.0, height, dist, iResolution, gl_PointCoord, rayOrigin, rayDirection);\n\n\tvec2 t = calcRayIntersection_3_0(rayOrigin, rayDirection);\n\tif (t.x > -0.5) {\n\t\tvec3 pos = rayOrigin + rayDirection * t.x;\n\t\tvec3 nor = calcNormal_5_1(pos);\n\n\t\tcolor = nor * 0.5 + 0.5;\n\t}\n\n\tgl_FragColor.rgb = color;\n\tgl_FragColor.a\t = length(color) * 10.0;\n}\n\n// Old shader:\n//\n// uniform vec3 color;\n// uniform sampler2D texture;\n// uniform float elapsed;\n//\n// varying float vAlpha;\n//\n// void main() {\n//\n// \tgl_FragColor = vec4(color, 1.0);\n//\n// }\n// ",depthTest:!1,blending:THREE.AdditiveBlending,transparent:!0,uniforms:{elapsed:{type:"f",value:n},uRange:{type:"f",value:e}},attributes:{size:{type:"f",value:[]},aOffset:{type:"f",value:[]}}})}function _createGeometry(n,e,t,r,o){for(var i=new THREE.BufferGeometry,a=new Float32Array(3*e),c=new Float32Array(e),s=new Float32Array(e),v=0;v<e;v++)a[3*v+0]=Random.range(-t,t),a[3*v+1]=.3*Random.range(-t,t),a[3*v+2]=Random.range(-t,t),c[v]=Random.range(r[0],r[1])*o,s[v]=Random.range(0,1);return i.addAttribute("position",new THREE.BufferAttribute(a,3)),i.addAttribute("size",new THREE.BufferAttribute(c,1)),i.addAttribute("aOffset",new THREE.BufferAttribute(s,1)),i}function _createMeshAndStart(n,e,t){var r=new THREE.PointCloud(e,t);r.frustumCulled=!1;LoadTexture("assets/images/bokeh.png",t.uniforms.texture,"value").then(function(){n.scene.add(r),n.emitter.on("update",_updateFn(n,r))});return r}function _updateFn(n,e){return function(n){e.material.uniforms.elapsed.value=n.elapsed}}var LoadTexture=require("../../../utils/loadTexture"),Random=require("../../../utils/random");module.exports=function(n,e){var t=_.extend({count:1e3,color:new THREE.Color(7864319),range:300,sizeRange:[10,20]},e),r=_createMaterial(t.color,t.range),o=_createGeometry(r,t.count,t.range,t.sizeRange,n.ratio);_createMeshAndStart(n,o,r);return{}};

},{"../../../utils/loadTexture":77,"../../../utils/random":78}],16:[function(require,module,exports){
"use strict";function _createMaterial(e){return new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform float elapsed;\n\nattribute float size;\nattribute float opacity;\n\nvarying float vAlpha;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvoid main() {\n\n\tvAlpha = opacity;\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\n\tgl_PointSize = 100.0 * size / length( mvPosition.xyz );\n\t\n\tgl_Position = projectionMatrix * mvPosition;\n}",fragmentShader:"#define GLSLIFY 1\nuniform vec3 color;\nuniform sampler2D texture;\n// uniform float elapsed;\n\nvarying float vAlpha;\n\nvoid main() {\n\n\tgl_FragColor = vec4(color, vAlpha) * texture2D( texture, gl_PointCoord );\n\t\n}",depthTest:!1,blending:THREE.AdditiveBlending,transparent:!0,uniforms:{elapsed:{type:"f"},texture:{type:"t"},color:{type:"c",value:new THREE.Color(e)}},attributes:{size:{type:"f",value:[]},opacity:{type:"f",value:[]}}})}function _createGeometry(e,n){for(var t=new THREE.BufferGeometry,r=new Float32Array(3*e.segmentsCount),o=new Float32Array(e.segmentsCount),i=new Float32Array(e.segmentsCount),a=0;a<e.segmentsCount;a++){var s=a/e.segmentsCount;r[3*a+0]=0,r[3*a+1]=s*e.lightLength,r[3*a+2]=0,o[a]=10*n,i[a]=e.brightness*Math.pow(1-s,e.falloff)}return t.addAttribute("position",new THREE.BufferAttribute(r,3)),t.addAttribute("size",new THREE.BufferAttribute(o,1)),t.addAttribute("opacity",new THREE.BufferAttribute(i,1)),t}function _createMeshPromise(e,n,t,r){var o="assets/images/bokeh.png";return LoadTexture(o,r.uniforms.texture,"value").then(function(){var o=new THREE.PointCloud(t,r);return o.position.fromArray(n.position),o.frustumCulled=!1,o.name="lightBeam",e.scene.add(o),o}).then(null,function(){console.log("Could not load the texture for the lightbeam",o)})}function _sizeLightbeamFn(e,n){var t;return function(){if(n.sizeRange!==t){for(var r=0;r<e.array.length;r++){var o=r/e.array.length;e.array[r]=Lerp(n.sizeRange[0],n.sizeRange[1],o)}t=n.sizeRange,e.needsUpdate=!0}}}function _updateFn(e,n,t,r){var o=_sizeLightbeamFn(n.geometry.attributes.size,r),i=_undulateFn(n,t);return function(e){o(e),i(e),n.material.uniforms.elapsed.value=e.elapsed}}function _undulateFn(e,n){var t=n.undulation,r=Random.range(0,2*Math.PI),o=Random.range(0,2*Math.PI);return t?function(n){var i=t.xAmount*Math.sin(r+n.elapsed*t.xSpeed),a=t.zAmount*Math.sin(o+n.elapsed*t.zSpeed);e.rotation.set(i,0,a)}:function(){}}var LoadTexture=require("../../../utils/loadTexture"),Random=require("../../../utils/random"),Lerp=require("lerp");module.exports=function(e,n){var t=_.extend({position:[0,-100,0],segmentsCount:150,lightLength:200,brightness:2,color:13386769,sizeRange:[50,500],falloff:3,undulation:{xAmount:.1*Math.PI,zAmount:.1*Math.PI,xSpeed:8e-4,zSpeed:6e-4}},n),r={sizeRange:_.clone(t.sizeRange)},o=_createMaterial(t.color),i=_createGeometry(t,e.ratio);return _createMeshPromise(e,t,i,o).then(function(n){return e.emitter.on("update",_updateFn(e,n,t,r)),{mesh:n}})};

},{"../../../utils/loadTexture":77,"../../../utils/random":78,"lerp":138}],17:[function(require,module,exports){
"use strict";var LoadTexture=require("../../../utils/loadTexture"),Random=require("../../../utils/random"),internals={createMaterial:function(e,n){return new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform float elapsed;\nuniform float uRange;\nattribute float size;\nattribute float aOffset;\nvarying float vAlpha;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvoid main() {\n\n\t// vec3 movement = vec3(0.0, elapsed * 0.001, 0.0);\n\tvec3 movement = vec3(\n\t\tsin( elapsed * 0.002 * aOffset) * uRange * 0.003,\n\t\telapsed * (-uRange / 100000.0 - uRange / 100000.0 * aOffset),\n\t\tcos( elapsed * 0.002 * aOffset ) * uRange * 0.003\n\t);\n\t\n\tvec3 range = vec3(uRange, uRange * 0.3, uRange);\n\t\n\tvec3 cameraOffset = cameraPosition - range;\n\t\n\tvec3 moduloPosition = mod( position + movement - cameraOffset, range * 2.0 ) + cameraOffset;\n\tvec4 mvPosition = modelViewMatrix * vec4( moduloPosition, 1.0 );\n\t\n\tgl_PointSize = size * ( uRange / (length( mvPosition.xyz ) + 1.0) );\n\t\n\tfloat flicker = mix(0.6, 1.0, snoise_1_3( moduloPosition + elapsed * 0.0001 ));\n\t\n\tvAlpha = 0.5 * min(1.0, max(0.0,\n\t\t1.0 - (length( mvPosition.xyz ) / uRange)\n\t)) * flicker;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n}",fragmentShader:"#define GLSLIFY 1\nuniform vec3 color;\nuniform sampler2D texture;\nuniform float elapsed;\n\nvarying float vAlpha;\n\nvoid main() {\n\n\tgl_FragColor = vec4(color, vAlpha) * texture2D( texture, gl_PointCoord );\n\t\n}",blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0,uniforms:{elapsed:{type:"f"},texture:{type:"t"},color:{type:"c",value:e},uRange:{type:"f",value:n}},attributes:{position:{type:"v3"},size:{type:"f"},aOffset:{type:"f"}}})},createGeometry:function(e,n,t,r){for(var o=new THREE.BufferGeometry,a=new Float32Array(3*n),i=new Float32Array(n),s=new Float32Array(n),c=0;c<n;c++)a[3*c+0]=Random.range(-t,t),a[3*c+1]=.3*Random.range(-t,t),a[3*c+2]=Random.range(-t,t),i[c]=Random.range(r[0],r[1]),s[c]=Random.range(0,1);return o.addAttribute("position",new THREE.BufferAttribute(a,3)),o.addAttribute("size",new THREE.BufferAttribute(i,1)),o.addAttribute("aOffset",new THREE.BufferAttribute(s,1)),o},createMeshAndStart:function(e,n,t){var r=new THREE.PointCloud(n,t);r.frustumCulled=!1;LoadTexture("assets/images/bokeh.png",t.uniforms.texture,"value").then(function(){e.scene.add(r),e.emitter.on("update",internals.updateFn(e,r))});return r},updateFn:function(e,n){return function(e){n.material.uniforms.elapsed.value=e.elapsed}}};module.exports=function(e,n){var t=_.extend({count:3e3,color:new THREE.Color(7864319),range:300,sizeRange:[3,8]},n),r=internals.createMaterial(t.color,t.range),o=internals.createGeometry(r,t.count,t.range,t.sizeRange);internals.createMeshAndStart(e,o,r);return{}};

},{"../../../utils/loadTexture":77,"../../../utils/random":78}],18:[function(require,module,exports){
"use strict";var Eases=require("eases"),Lerp=require("lerp"),internals={updateObjectValue:function(e,n,t,r){var a=(e-t.start)/t.duration;r.obj[r.key]=Lerp(r.values[0],r.values[1],t.easing(a))},updateFunctionValue:function(e,n,t,r){var a=(e-t.start)/t.duration;r.obj[r.key](Lerp(r.values[0],r.values[1],t.easing(a)))},updateObjectValueOnce:function(e,n,t,r){t.start>=n&&t.start<e&&(r.obj[r.key]=r.values)},updateFunctionOnce:function(e,n,t,r){t.start>=n&&t.start<e&&r.obj[r.key](r.values)},updateFn:function(e,n,t,r){var a=0;return function(e){for(var i=e.elapsed/1e3*r%t,u=0;u<n.length;u++){var o=n[u];if(i>=o.start&&i<o.end)for(var s=0;s<o.actions.length;s++){var c=o.actions[s];c.update(i,a,o,c)}}a=i}},easingFn:function(e){var n,t;if(e&&!_.isString(e)||(n=e||"linear",t=Eases[n]),_.isFunction(e)&&(t=e,0!==t(0)||1!==t(1)))throw new Error("poem-animator received an easing function that didn't return a 0 and 1",e);if(!_.isFunction(t))throw new Error("poem-animator was not able to find the easing function "+e);return t},createAction:function(e,n){var t,r=n[0].split("."),a=r.slice(0,r.length-1),i=_.last(r),u=n[1],o=_.reduce(a,function(e,t){var r=e[t];if(!_.isObject(r))throw new Error("poem-animator was not able to create a reference",n);return r},e);return t=_.isFunction(o[i])?_.isArray(u)?internals.updateFunctionValue:internals.updateFunctionOnce:_.isArray(u)?internals.updateObjectValue:internals.updateObjectValueOnce,{obj:o,key:i,values:u,update:t}},calculateStartEndFn:function(){var e=0;return function(n){var t,r;return _.isNumber(n.start)?(t=n.start,r=t+n.duration):(t=e,r=t+n.duration,e=r),{start:t,end:r}}},isolateFilter:function(e){var n=_.find(e,function(e){return e.isolate});return n?[n]:e},startHereFilter:function(e){var n=_.find(e,function(e){return e.startHere});if(!n)return e;var t=e.indexOf(n);return e.slice(t)},processKeyframeConfig:function(e,n){var t=internals.calculateStartEndFn(),r=_.compose(internals.isolateFilter,internals.startHereFilter);return _.map(r(n),function(n){var r=t(n);return{start:r.start,end:r.end,duration:n.duration,easing:internals.easingFn(n.easing),actions:_.map(n.actions,_.partial(internals.createAction,e))}})},calcMaxTime:function(e,n){return n?_.reduce(e,function(e,n){return Math.max(e,n.end)},0):1/0}};module.exports=function(e,n){var t=_.extend({keyframes:[],loop:!0,speed:1},n);return e.emitter.on("promises",function(){var n=internals.processKeyframeConfig(e,t.keyframes),r=internals.calcMaxTime(n,t.loop);console.log(n),e.emitter.on("update",internals.updateFn(e,n,r,t.speed))}),{}};

},{"eases":117,"lerp":138}],19:[function(require,module,exports){
"use strict";var Camera=function(e,t,i){var o=_.extend({fov:50,near:3,far:1e4,aspectRatio:window.innerWidth/window.innerHeight},e);this.object=new THREE.PerspectiveCamera(o.fov,o.aspect,o.near,o.far),this.object.position.x=_.isNumber(e.x)?e.x:0,this.object.position.y=_.isNumber(e.y)?e.y:0,this.object.position.z=_.isNumber(e.z)?e.z:500,t.add(this.object),i.on("resize",this.resize.bind(this))};module.exports=Camera,Camera.prototype={resize:function(){this.object.aspect=window.innerWidth/window.innerHeight,this.object.updateProjectionMatrix()},setAndUpdateFov:function(e){this.object.fov=e,this.object.updateProjectionMatrix()}};

},{}],20:[function(require,module,exports){
"use strict";var OrbitControls=require("../../vendor/OrbitControls"),Controls=function(t,o){this.poem=t,this.properties=o,this.controls=new OrbitControls(this.poem.camera.object,this.poem.canvas),_.extend(this.controls,o),this.poem.emitter.on("update",this.controls.update.bind(this.controls))};module.exports=Controls;

},{"../../vendor/OrbitControls":81}],21:[function(require,module,exports){
"use strict";var OrbitControls=require("../../vendor/OrbitControls"),DeviceOrientationControls=require("../../vendor/DeviceOrientationControls"),_e;$(window).one("deviceorientation",function(t){_e=t});var Orientation=function(t){this.poem=t,this.camera=this.poem.camera.object,this.controls=new OrbitControls(this.camera,this.poem.canvas),this.controls.rotateUp(Math.PI/4),this.controls.target.set(this.camera.position.x+.1,this.camera.position.y,this.camera.position.z),this.controls.noZoom=!0,this.controls.noPan=!0,this.deviceOrientationHandler=this.setOrientationControls.bind(this),$(window).on("deviceorientation",this.deviceOrientationHandler),this.poem.emitter.on("update",this.update.bind(this)),this.poem.emitter.on("destroy",this.destroy.bind(this)),_e&&this.setOrientationControls(_e)};module.exports=Orientation,Orientation.prototype={setOrientationControls:function(t){this.controls=new DeviceOrientationControls(this.camera,!0),this.controls.connect(),this.controls.update(),$(window).off("deviceorientation",this.deviceOrientationHandler)},update:function(t){this.controls.update()},destroy:function(t){$(window).off("deviceorientation",this.deviceOrientationHandler)}};

},{"../../vendor/DeviceOrientationControls":80,"../../vendor/OrbitControls":81}],22:[function(require,module,exports){
"use strict";var internals={getXRotation:function(){var e=new THREE.Vector3;return function(n,o){return e.set(0,0,1),e.applyQuaternion(n),o&&e.applyQuaternion(o),-Math.atan2(e.y,e.z)}}(),getYRotation:function(){var e=new THREE.Vector3;return function(n,o){return e.set(1,0,0),e.applyQuaternion(n),o&&e.applyQuaternion(o),-Math.atan2(e.z,e.x)}}(),getZRotation:function(){var e=new THREE.Vector3;return function(n,o){return e.set(0,1,0),e.applyQuaternion(n),o&&e.applyQuaternion(o),-Math.atan2(e.x,e.y)}}(),mouseMove:function(e,n,o,t,a){return function(r){r.preventDefault();var u=r.pageX,i=r.pageY,s=n.x-u,m=n.y-i;o.mouseRotation.y+=s*t/(e.canvas.width/e.ratio),o.mouseRotation.x+=m*a/(e.canvas.height/e.ratio),e.canvas.width,e.ratio,e.canvas.width,e.ratio,n.x=u,n.y=i}},updateMouseQuaternion:function(){var e=new THREE.Vector3(1,0,0),n=new THREE.Vector3(0,1,0),o=new THREE.Quaternion,t=new THREE.Quaternion;return function(a,r){o.setFromAxisAngle(n,a.mouseRotation.y),t.setFromAxisAngle(e,a.mouseRotation.x),a.mouseQuaternion.copy(a.pathQuaternion),a.mouseQuaternion.multiply(o),a.mouseQuaternion.multiply(t),a.mouseRotation.multiplyScalar(.95*Math.min(1,r.unitDt))}}(),mouseUp:function(e,n){return function(){e.off("mouseleave",n.mouseUp),e.off("mouseup",n.mouseUp),e.off("mousemove",n.mouseMove)}},mouseDown:function(e,n,o){return function(t){t.preventDefault(),o.x=t.pageX,o.y=t.pageY,e.on("mouseleave",n.mouseUp),e.on("mouseup",n.mouseUp),e.on("mousemove",n.mouseMove)}},stopHandlers:function(e,n){return function(){e.off("mouseleave",n.mouseUp),e.off("mouseup",n.mouseUp),e.off("mousemove",n.mouseMove),e.off("mousedown",n.mouseDown)}},startMouseHandlers:function(e,n,o,t,a){var r={x:0,y:0},u=$(e.canvas),i={};o.mouseQuaternion.copy(n.quaternion);i.mouseMove=internals.mouseMove(e,r,o,t,a),i.mouseUp=internals.mouseUp(u,i),i.mouseDown=internals.mouseDown(u,i,r),u.on("mousedown",i.mouseDown),e.emitter.on("destroy",internals.stopHandlers(u,i))},updateCameraFn:function(e,n,o){var t=new THREE.Quaternion,a=e.cameraQuaternion,r=e.pathQuaternion,u=e.mouseQuaternion,i=e.rotation;return function(o){r.setFromEuler(i),internals.updateMouseQuaternion(e,o);var s=Math.max(0,THREE.Vector4.prototype.dot.call(r,u));t.copy(r).slerp(u,s),u.copy(t),a.slerp(t,n*o.unitDt)}},rotateAll:function(e,n){console.log("hello"),e.mouseRotation.set(0,0,0),e.rotation.setFromVector3(n),e.cameraQuaternion.setFromEuler(e.rotation),e.pathQuaternion.copy(e.cameraQuaternion),e.mouseQuaternion.copy(e.cameraQuaternion)}};module.exports=function(e,n){var o=_.extend({easing:.05,revertSpeed:2,speedX:1,speedY:.5},n),t={rotation:new THREE.Euler(0,0,0,"ZYX"),mouseRotation:new THREE.Vector3,pathQuaternion:new THREE.Quaternion,mouseQuaternion:new THREE.Quaternion,cameraQuaternion:e.camera.object.quaternion};return internals.startMouseHandlers(e,e.camera.object,t,o.speedX,o.speedY),e.emitter.on("update",internals.updateCameraFn(t,o.easing,o.revertSpeed)),{pathQuaternion:t.pathQuaternion,mouseQuaternion:t.mouseQuaternion,rotation:t.rotation,rotateAll:_.partial(internals.rotateAll,t)}};

},{}],23:[function(require,module,exports){
"use strict";var RotateAroundOrigin=function(o){var t=o.camera.object,i=t.position.y,n=t.position.z/2;o.emitter.on("update",function(e){o.grid.grid.rotation.y+=5e-5*e.dt,o.pointcloud.object&&(o.pointcloud.object.rotation.y+=5e-5*e.dt),t.position.y=i+200*Math.sin(5e-5*e.now*10),t.position.z=i+Math.sin(5e-5*e.now*10)*n})};module.exports=RotateAroundOrigin,RotateAroundOrigin.prototype={};

},{}],24:[function(require,module,exports){
"use strict";function _generatePositionFn(e){return function(e,t){e[t+0]=.01*Math.random()+3*(Math.cos(.02*t)+.01*Math.cos(.2*t)),e[t+1]=.01*Math.random()+3*(Math.sin(.02*t)+.01*Math.sin(.2*t)),e[t+2]=.01*Math.random()+2+2e-5*-t,e[t+0]+=.1*Math.sin(e[t+2])}}function _initPositioningPass(e,t){var n,r=new THREE.ShaderMaterial({vertexShader:PASS_THROUGH_VERT,fragmentShader:"#define GLSLIFY 1\nuniform float textureSideLength;\n\nuniform sampler2D textureCurrPosition;\nuniform sampler2D texturePrevPosition;\n\n\nvoid main() {\n\t\n\tvec2 uv = gl_FragCoord.xy / textureSideLength;\n\tvec4 currPosition = texture2D( textureCurrPosition, uv );\n\tvec4 prevPosition = texture2D( texturePrevPosition, uv );\n\n\tvec3 velocity = currPosition.xyz - prevPosition.xyz;\n\tvec3 toOrigin = normalize(-1.0 * currPosition.xyz);\n\tvec3 orientation = normalize( velocity );\n\tvec3 newOrientation = normalize( mix( toOrigin, orientation, 0.93 ) );\n\tnewOrientation += vec3(0.0001, 0.0001, 0.0001);\n\tfloat velocityLength = length( velocity );\n\tfloat toOriginLength = length( currPosition.xyz );\n\t\n\tgl_FragColor = vec4(\n\t\tcurrPosition.xyz + newOrientation * 0.02,\n\t\t1.0\n\t);\n}",uniforms:{elapsed:{type:"f"},textureSideLength:{type:"f"},textureCurrPosition:{type:"t"},texturePrevPosition:{type:"t"}},attributes:{}});r.name="Boids Position Shader";var i=e.addPass("position",{size:t.count,stride:3,uniformName:"textureCurrPosition",shaderMaterial:r,generateDatum:_generatePositionFn(t),preRender:function(t,r){e.copyTexture(t.outputRenderTarget,n,t.textureSideLength)}});return n=i.renderTargets[0].clone(),n.name="prevPositionTexture",r.uniforms.textureSideLength.value=i.textureSideLength,r.uniforms.texturePrevPosition.value=n,{pass:i,prevPositionTexture:n,shaderMaterial:r}}function _createRenderMaterial(e){var t=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform float elapsed;\n\nuniform float textureSideLength;\nuniform sampler2D textureCurrPosition;\nuniform sampler2D texturePrevPosition;\n\nattribute float attributeIndex;\n\nvarying float vLighting;\nvarying float vAttributeIndex;\n\nvoid main() {\n\t\n\tvec2 positionLookup = vec2(\n\t\tmod(attributeIndex, textureSideLength),\n\t\tfloor(attributeIndex / textureSideLength)\n\t) / textureSideLength;\n\t\n\tvec3 currPosition = texture2D( textureCurrPosition, positionLookup ).xyz;\n\tvec3 prevPosition = texture2D( texturePrevPosition, positionLookup ).xyz;\n\t\n\tfloat theta = log(attributeIndex) * 8.0;\n\tfloat r = attributeIndex * 2.0;\n\t\n\tvec4 offset = vec4( r * sin(theta), r * cos(theta), 0.0, 0.0 );\n\t\n\tvLighting = dot( normal, normalize(cameraPosition - position) );\n\tvLighting = vLighting * 0.5 + 0.5;\n\t\n\tvAttributeIndex = attributeIndex;\n\t\n\tgl_Position =\n\t\tprojectionMatrix *\n\t\tmodelViewMatrix * (\n\t\t\tvec4( position, 1.0 ) + offset * 0.0 + vec4( currPosition * 100.0, 0 )\n\t\t);\n}",fragmentShader:"#define GLSLIFY 1\nvarying float vLighting;\nvarying float vAttributeIndex;\n\nfloat hue2rgb_1_0(float f1, float f2, float hue) {\n    if (hue < 0.0)\n        hue += 1.0;\n    else if (hue > 1.0)\n        hue -= 1.0;\n    float res;\n    if ((6.0 * hue) < 1.0)\n        res = f1 + (f2 - f1) * 6.0 * hue;\n    else if ((2.0 * hue) < 1.0)\n        res = f2;\n    else if ((3.0 * hue) < 2.0)\n        res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n    else\n        res = f1;\n    return res;\n}\n\nvec3 hsl2rgb_1_1(vec3 hsl) {\n    vec3 rgb;\n    \n    if (hsl.y == 0.0) {\n        rgb = vec3(hsl.z); // Luminance\n    } else {\n        float f2;\n        \n        if (hsl.z < 0.5)\n            f2 = hsl.z * (1.0 + hsl.y);\n        else\n            f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n            \n        float f1 = 2.0 * hsl.z - f2;\n        \n        rgb.r = hue2rgb_1_0(f1, f2, hsl.x + (1.0/3.0));\n        rgb.g = hue2rgb_1_0(f1, f2, hsl.x);\n        rgb.b = hue2rgb_1_0(f1, f2, hsl.x - (1.0/3.0));\n    }   \n    return rgb;\n}\n\nvec3 hsl2rgb_1_1(float h, float s, float l) {\n    return hsl2rgb_1_1(vec3(h, s, l));\n}\n\n\n\nvoid main() {\n\t\n\tgl_FragColor = vec4(\n\t\thsl2rgb_1_1( mod(0.5 + vAttributeIndex * 0.000002, 1.0), 0.8, 0.5 ),\n\t\t1.0\n\t) * vLighting;\n}",uniforms:{elapsed:{type:"f",value:0},textureCurrPosition:{type:"t"},texturePrevPosition:{type:"t"},textureSideLength:{type:"f"}},attributes:{attributeIndex:{type:"f"}}});return t.name="Boids Render Shader",t}function _createGeometry(e){var t=new THREE.BufferGeometry;return t.fromGeometry(new THREE.OctahedronGeometry(3)),DuplicateBufferGeometry(t,e.count),t}function _initRenderingPass(e,t,n){var r=new THREE.Mesh(_createGeometry(e),_createRenderMaterial(e,n));return t.add(r),r}var CreateGpuProcessor=require("../../utils/gpu-processor/gpu-processor"),DuplicateBufferGeometry=require("../../utils/duplicate-buffer-geometry"),CopyTexture=require("../../utils/gpu-processor/copy-texture"),PASS_THROUGH_VERT="void main() { gl_Position = vec4( position, 1.0 ); }";module.exports=function(e,t){var n=_.extend({count:2e5},t),r=CreateGpuProcessor(e.renderer),i=_initPositioningPass(r,n),o=_initRenderingPass(n,e.scene);e.emitter.on("update",function(e){r.render(),o.material.uniforms.textureCurrPosition.value=i.pass.outputRenderTarget,o.material.uniforms.texturePrevPosition.value=i.prevPositionTexture,o.material.uniforms.textureSideLength.value=i.pass.textureSideLength,o.material.uniforms.elapsed.value=e.elapsed})};

},{"../../utils/duplicate-buffer-geometry":72,"../../utils/gpu-processor/copy-texture":73,"../../utils/gpu-processor/gpu-processor":74}],25:[function(require,module,exports){
"use strict";var Touches=require("touches"),EventEmitter=require("events").EventEmitter;module.exports=function(e,t){var n=new THREE.Vector2,o=new THREE.Vector2,i=function(t,i){t.preventDefault(),o.x=i[0]/e.canvas.offsetWidth*2-1,o.y=i[1]/e.canvas.offsetHeight*-2+1,n.x=i[0],n.y=i[1]},r=Touches(e.canvas,{filtered:!0}).on("start",i).on("move",i).on("end",function(e){n.x=null,n.y=null,o.x=null,o.y=null});return e.emitter.on("destroy",function(){r.disable()}),{emitter:r,pixelPosition:n,normalizedPosition:o}};

},{"events":4,"touches":195}],26:[function(require,module,exports){
"use strict";var TrackCameraLights=function(e,t){this.lights=[];var i=new THREE.AmbientLight(1118481,1,0);i.position.set(0,2e3,1e3);var a=(new THREE.PointLight(16777215,.3,0),new THREE.PointLight(16777215,1,0));a.position.set(3e3,2e3,5e3);var o=new THREE.PointLight(16777215,1,0);o.position.set(-1e3,-1e3,-1e3);var n=new THREE.PointLight(16777215,2,0);n.position.set(-700,500,-1e3),e.scene.add(i),e.camera.object.add(a),e.camera.object.add(o),e.camera.object.add(n)};module.exports=TrackCameraLights,TrackCameraLights.prototype={};

},{}],27:[function(require,module,exports){
"use strict";function _loadTreePromise(){return new Promise(function(e,r){if(statics.tree)return void e(statics.tree);var t=new THREE.AssimpJSONLoader,i=function(r){_updateMaterials(r),statics.tree=r,e(r)},n=function(){};t.load("./js/components/models/tree.json",i,n,r)})}function _updateMaterials(e){e.material&&(e.material.side=THREE.DoubleSide,e.material.shading=THREE.SmoothShading,e.material.specular=new THREE.Color(5592405),e.material.shininess=1);for(var r=0;r<e.children.length;r++)_updateMaterials(e.children[r])}var AssimpJSONLoader=require("../../vendor/AssimpJSONLoader"),statics={tree:null};module.exports=function(e,r){var t=_.extend({position:[0,0,0],scale:[10,10,10]},r),i=new THREE.SphereGeometry(20,32,32),n=new THREE.MeshPhongMaterial({color:16776960}),a=new THREE.Mesh(i,n);return a.position.x=20,e.scene.add(a),_loadTreePromise().then(function(r){return e.scene.add(r),r.position.fromArray(t.position),r.scale.fromArray(t.scale),window.tree=r.children[0].children[0],r})};

},{"../../vendor/AssimpJSONLoader":79}],28:[function(require,module,exports){
"use strict";var MrDoobStats=require("../../vendor/Stats"),Stats=function(t){this.poem=t,this.stats=new MrDoobStats,this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="0px",$(this.poem.div).append(this.stats.domElement),this.poem.emitter.on("update",this.stats.update.bind(this.stats))};module.exports=Stats;

},{"../../vendor/Stats":82}],29:[function(require,module,exports){
"use strict";function _getWheelEventName(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var Lerp=require("lerp");module.exports=function(e,t){var n=_.extend({distance:.1,resetSpeed:.05,center:e.camera.object.position.clone()},t),r={center:n.center.clone()};e.canvas.addEventListener(_getWheelEventName(),function(e){r.center.y+=n.distance*-e.deltaY,r.center.x+=n.distance*e.deltaX*5},!1),e.emitter.on("update",function(){r.center.y=Lerp(r.center.y,n.center.y,n.resetSpeed),r.center.x=Lerp(r.center.x,n.center.x,n.resetSpeed),r.center.z=Lerp(r.center.z,n.center.z,n.resetSpeed),e.camera.object.position.copy(r.center)})};

},{"lerp":138}],30:[function(require,module,exports){
"use strict";var createManifestLoader=require("poem-manifests"),EventEmitter=require("events").EventEmitter,_emitter=new EventEmitter,_loader=null,init=function(e,t){_loader=createManifestLoader(t,{emitter:_emitter,getGraph:function(t,r){return e(t,_emitter)},globalManifest:{}}),_emitter.on("load",function(e){window.poem=e.graph})},load=function(e){return _loader.load(e)};module.exports={init:init,load:load,emitter:_emitter};

},{"events":4,"poem-manifests":185}],31:[function(require,module,exports){
"use strict";function _createFog(e,o,r){var t=_.extend({color:2236962,nearFactor:.5,farFactor:2},o);e.fog=new THREE.Fog(t.color,r*t.nearFactor,r*t.farFactor)}function _startAfterPromises(e){var o=_.map(e,function(e){return _.isObject(e)?e.promise:void 0}),r=_.filter(o,function(e){return!_.isUndefined(e)});Promise.all(r).then(function(){e.emitter.emit("promises"),e.loop.start()},console.log.bind(console))}var Camera=require("../components/cameras/Camera"),CreateLoop=require("poem-loop"),RATIO=_.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1;module.exports=function(e,o){var r=_.extend({camera:null,fog:null,renderer:null},e.config),t={},n=CreateLoop(),a=n.emitter,i=new THREE.Scene,c=new Camera(r.camera,i,a);return _createFog(i,r.fog,c.object.position.z),o.once("load",_.partial(_startAfterPromises,t)),o.on("unload",function(){n.stop(),a.emit("destroy")}),_.extend(t,{emitter:a,canvas:null,scene:i,ratio:RATIO,camera:c,$div:$("#container"),loop:n,start:n.start,stop:n.stop})};

},{"../components/cameras/Camera":19,"poem-loop":183}],32:[function(require,module,exports){
"use strict";var crossroads=require("crossroads"),hasher=require("hasher"),manifestToPoem=require("./manifestToPoem"),_baseUrl="/sandbox",_defaultLevel,routing={start:function(e,a){function s(e,a){crossroads.parse(e)}_defaultLevel=_.first(_.keys(a)),manifestToPoem.init(e,a),crossroads.addRoute("/",routing.showMainTitles),crossroads.addRoute("/{name}",routing.loadUpALevel),crossroads.addRoute(/.*/,function(){hasher.replaceHash("")}),hasher.initialized.add(s),hasher.changed.add(s),hasher.init()},showMainTitles:function(){_gaq.push(["_trackPageview",_baseUrl]),manifestToPoem.load(_defaultLevel)},loadUpALevel:function(e){_gaq.push(["_trackPageview",_baseUrl+"/#level/"+e]),manifestToPoem.load(e)||manifestToPoem.load(_defaultLevel)}};module.exports=routing;

},{"./manifestToPoem":30,"crossroads":97,"hasher":135}],33:[function(require,module,exports){
"use strict";function handlers(e){var o;manifestToPoem.emitter.on("load",function(e){o=e.graph}),e.emitter.on("close",function(){o&&o.start()}),e.emitter.on("open",function(){o&&o.stop()})}var poemMenu=require("poem-menu"),routing=require("./routing"),mute=require("../sound/mute"),manifestToPoem=require("./manifestToPoem");window.mute=mute,module.exports=function(e){handlers(poemMenu(e,{top:"Three.js Sandbox",bottom:mute.el}))};

},{"../sound/mute":68,"./manifestToPoem":30,"./routing":32,"poem-menu":187}],34:[function(require,module,exports){
"use strict";var random=require("../utils/random"),loadTexture=require("../utils/loadTexture"),destroyMesh=require("../utils/destroyMesh"),mute=require("../sound/mute"),Earth=function(t,e){this.poem=t,this.geometry=null,this.material=null,this.mesh=null,this.texture=null,$("#LevelSelect").hide(),this.radius=e.radius>0?e.radius:250,this.$a=$("<a href='http://svs.gsfc.nasa.gov/cgi-bin/details.cgi?aid=11719'></a>"),this.$a.append($("<img class='nasa-logo wide' src='assets/images/nasa-goddard.png' />")),this.$a.attr("title","Map visualization credit to NASA's Goddard Space Flight Center"),this.poem.$div.append(this.$a),this.poem.emitter.on("destroy",this.destroy.bind(this)),this.start()};module.exports=Earth,Earth.prototype={start:function(){this.createTexture(),this.geometry=new THREE.SphereGeometry(this.radius,64,64),this.material=new THREE.MeshPhongMaterial({map:this.texture,shininess:25,specular:1118481}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.poem.scene.add(this.mesh),this.poem.emitter.on("update",this.update.bind(this))},createTexture:function(){this.video=document.createElement("video"),this.$video=$(this.video),this.video.controls=!0,this.video.loop=!0,this.video.muted=mute.muted(),mute.emitter.on("change",function(t){this.video.muted=t}.bind(this)),this.video.canPlayType("video/mp4")?this.video.src="assets/video/earthco2-large.mp4":this.video.src="assets/video/earthco2.webm",this.video.load(),this.video.play(),this.canvas=document.createElement("canvas"),this.canvas.width=1920,this.canvas.height=960,this.ctx2d=this.canvas.getContext("2d"),this.ctx2d.fillStyle="#000000",this.ctx2d.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.texture.magFilter=THREE.LinearFilter},error:function(){},update:function(t){this.video.readyState===this.video.HAVE_ENOUGH_DATA&&(this.ctx2d.drawImage(this.video,0,0),this.texture&&(this.texture.needsUpdate=!0)),this.mesh.rotation.y+=5e-5*t.dt},destroy:function(){this.$a.remove(),this.video.pause(),destroyMesh(this.mesh),this.texture.dispose()}};

},{"../sound/mute":68,"../utils/destroyMesh":71,"../utils/loadTexture":77,"../utils/random":78}],35:[function(require,module,exports){
"use strict";var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),LoadImage=require("../../utils/loadImage"),internals={createTexture:function(e){var t=document.createElement("canvas");t.width=1024,t.height=256;var r=t.getContext("2d"),n=new THREE.Texture(t);return n.minFilter=THREE.LinearFilter,n.magFilter=THREE.LinearFilter,[t,r,n]},createVideo:function(){return new Promise(function(e,t){var r=document.createElement("video");$(r);r.controls=!1,r.loop=!1,r.src=r.canPlayType("video/mp4")?"assets/video/gene.sys.mp4":"assets/video/gene.sys.webm",r.load(),$(r).on("canplaythrough",function(){e(r)}),$(r).on("error, stalled, abort",function(e){t(e.originalEvent)})})},createMesh:function(e,t,r){return new THREE.Mesh(new THREE.PlaneGeometry(r.width,r.height),new THREE.MeshBasicMaterial({color:16777215,transparent:!0,side:THREE.DoubleSide,alphaMap:t}))},updateFn:function(e,t,r,n){return function(){r.readyState===r.HAVE_ENOUGH_DATA&&!1===r.ended&&(t.drawImage(r,0,0),n.needsUpdate=!0)}},add:function(e,t,r,n){t.scale.set(.005,.005,.005),t.position.z=-10,t.position.y=.2,e.add(t),setTimeout(function(){console.warn("TODO: remove setTimeout"),r.currentTime=0,r.play(),poem.emitter.on("update",n)},2e3)},remove:function(e,t,r,n){e.remove(t),r.pause(0),poem.emitter.removeListener("update",n)}};module.exports=function(e){var t={promise:internals.createVideo()};return t.promise.then(function(r){var n=internals.createTexture(r),a=_slicedToArray(n,3),o=a[0],i=a[1],s=a[2],u=internals.createMesh(e,s,o),c=internals.updateFn(u,i,r,s);_.extend(t,{mesh:u,canvas:o,ctx2d:i,texture:s,video:r,add:_.partial(internals.add,e.camera.object,u,r,c),remove:_.partial(internals.remove,e.camera.object,u,r,c)})}),t};

},{"../../utils/loadImage":75}],36:[function(require,module,exports){
"use strict";function createGeometry(t,e){var n=new THREE.PlaneGeometry(t,t,e,e);return n.applyMatrix((new THREE.Matrix4).makeRotationX(.5*Math.PI)),n}function createTexture(t,e){var n=new Image,i=new THREE.Texture(n);return n.src="assets/images/cloud1024.png",i.wrapT=THREE.RepeatWrapping,i.wrapS=THREE.RepeatWrapping,$(n).on("load",function(){i.needsUpdate=!0,e.add(t)}),i}function updateShader(){}function createMeshGrid(t,e,n,i){for(var o,r=createGeometry(e/n,Math.floor(i/n)),a=new THREE.Object3D,h=e/n,c=0;c<n;c++)for(var s=0;s<n;s++)o=new THREE.Mesh(r,t),o.frustumCulled=!1,a.add(o),o.position.set(c*h,0,s*h);return a}function updateModuloMeshGrid(t,e,n,i){var o=e.length,r=n/2;return function(){for(var i,a=0;a<o;a++)i=e[a].position,i.set((i.x-t.x+r)%n+t.x-r,i.y,(i.z-t.z+r)%n+t.z-r)}}var EndlessTerrain=function(t,e){var n=_.extend({width:4e3,heightScale:200,gridLength:16,totalPolygonDensity:1024,positionY:0,height:1},e),i={height:n.height},o=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform sampler2D terrain;\nuniform float heightFactor;\nuniform float width;\n\nvarying float height;\nvarying vec2 vUv;\nvarying float vCameraDistance;\n\nvoid main() {\n\n\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\n\tvUv = vec2( modelPosition.x, modelPosition.z ) / width;\n\n\theight = texture2D( terrain, vUv * 0.3 ).w;\n\t\n\tvCameraDistance = distance( modelPosition.xyz, cameraPosition );\n\t\n\t\n\tvec4 modifiedPosition = vec4(\n\t\tposition.x,\n\t\tposition.y + height * width / 20.0 * heightFactor,\n\t\tposition.z,\n\t\t1.0\n\t);\n\t\n\tgl_Position = projectionMatrix * modelViewMatrix * modifiedPosition;\n\t\n}",fragmentShader:"#define GLSLIFY 1\nvec3 hsv2rgb_1_0(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n\nuniform float width;\nuniform float heightFactor;\n\nvarying float height;\nvarying vec2 vUv;\nvarying float vCameraDistance;\n\nvoid main() {\n\t\n\tfloat hueX = abs(0.5 - fract(vUv.x * 0.8)) * 2.0;\n\tfloat hueY = abs(0.5 - fract(vUv.y * 0.63)) * 2.0;\n\t\n    gl_FragColor = vec4(\n\t\thsv2rgb_1_0(\n\t\t\tvec3(\n\t\t\t\t// mod(xHue, 1.0),\n\t\t\t\t(hueX + hueY) * 0.2 + 0.3,\n\t\t\t\tmix(heightFactor, mix(height, 0.5, 0.8), 0.8),\n\t\t\t\tmix(heightFactor, mix(height, 1.2, 0.35), 0.35)\n\t\t\t)\n\t\t),\n\t\t1.0\n\t);\n\t\n\tfloat fogFactor = smoothstep( 0.0, 1.0, vCameraDistance / width );\n\tvec3 fogColor = vec3( 0.14, 0.14, 0.14 );\n\n\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\t\n}",side:THREE.DoubleSide,uniforms:{terrain:{type:"t"},heightFactor:{type:"f"},width:{type:"f"}},attributes:{}});o.side=THREE.DoubleSide;var r=createMeshGrid(o,n.width,n.gridLength,n.totalPolygonDensity);return r.position.y=n.positionY,o.uniforms.terrain.value=createTexture(r,t.scene),o.uniforms.width.value=n.width/2,o.uniforms.height=i.height,t.emitter.on("update",function(){o.uniforms.heightFactor.value=i.height}),t.emitter.on("update",updateModuloMeshGrid(t.camera.object.position,r.children,n.width,i)),i};module.exports=EndlessTerrain;

},{}],37:[function(require,module,exports){
"use strict";var CubicBezier=require("cubic-bezier"),QuickIn=CubicBezier(.12,.51,.8,.85,32),Pi=Math.PI,HalfPi=Math.PI/2;module.exports={loop:!0,speed:1,keyframes:[{duration:15,easing:QuickIn,actions:[["camera.object.position.x",[0,0]],["camera.object.position.y",[-250,0]],["camera.object.position.z",[0,-5e3]],["camera.setAndUpdateFov",[5,30]],["endlessTerrain.height",[0,1]],["restrictedCamera.rotation.x",[-.3,0]],["restrictedCamera.rotation.y",[-.3,.1]],["restrictedCamera.rotateAll",{x:-.3,y:-.3,z:0}],["credits.mesh.position.z",[-30,-10]],["credits.add",{}]]},{duration:10,easing:"linear",isolate:!1,startHere:!1,actions:[["credits.remove",{}],["camera.object.position.x",[0,0]],["camera.object.position.y",[0,0]],["camera.object.position.z",[-5e3,-5700]],["camera.setAndUpdateFov",[70,40]],["restrictedCamera.rotateAll",{x:-.1,y:HalfPi,z:0}]]},{duration:13,easing:"linear",isolate:!1,actions:[["camera.object.position.x",600],["camera.object.position.y",[0,0]],["camera.object.position.z",[-5700,-6e3]],["camera.setAndUpdateFov",[100,50]],["restrictedCamera.rotateAll",{x:.5*-Pi,y:0,z:0}],["restrictedCamera.rotation.x",[.5*-Pi,0]]]},{duration:10,easing:"linear",isolate:!1,actions:[["camera.object.position.x",600],["camera.object.position.y",[0,0]],["camera.object.position.z",[-5700,-6400]],["restrictedCamera.rotateAll",{x:0,y:Pi,z:0}]]}]};

},{"cubic-bezier":98}],38:[function(require,module,exports){
"use strict";var random=require("../utils/random"),Grid=function(e,r){this.poem=e;for(var i=new THREE.LineBasicMaterial({color:3158064}),s=new THREE.Geometry,t=0;t<=40;t++)s.vertices.push(new THREE.Vector3(-500,-75,25*t-500)),s.vertices.push(new THREE.Vector3(500,-75,25*t-500)),s.vertices.push(new THREE.Vector3(25*t-500,-75,-500)),s.vertices.push(new THREE.Vector3(25*t-500,-75,500));this.grid=new THREE.Line(s,i,THREE.LinePieces),this.poem.scene.add(this.grid)};module.exports=Grid;

},{"../utils/random":78}],39:[function(require,module,exports){
"use strict";var calculateSquaredTextureWidth=require("../../utils/calculateSquaredTextureWidth"),loadTexture=require("../../utils/loadTexture"),loadText=require("../../utils/loadText"),MeshGroup=function(e){THREE.Object3D.call(this),this.poem=e,this.type="MeshGroup",this.bufferGeometry=new THREE.BufferGeometry,this.matricesTextureWidth=null,this.matricesData=null,this.matrixIndices=null,this.texture=null,this.vertexShader=null,this.fragmentShader=null,this.loaded=Promise.all([loadTexture("assets/images/sinegravitycloud.png",this,"texture"),loadText("js/demos/MeshGroupBoxDemo/shader.vert",this,"vertexShader"),loadText("js/demos/MeshGroupBoxDemo/shader.frag",this,"fragmentShader")]).catch(function(e){throw new Error("Could not load assets for the MeshGroup",e)})};MeshGroup.prototype=_.extend(Object.create(THREE.Object3D.prototype),{build:function(e){this.loaded.then(function(){this.buildGeometry(),this.buildMatrices(),this.buildMaterial(),this.object=new THREE.PointCloud(this.bufferGeometry,this.material),e.add(this.object),this.poem.emitter.on("update",this.update.bind(this))}.bind(this))},buildGeometry:function(){var e,t,r,i,s,a=new THREE.Geometry,h=[];for(t=0,r=this.children.length;t<r;t++)if(e=this.children[t].geometry)for(a.merge(e),i=a.vertices.length-e.vertices.length,s=a.vertices.length;i<s;i++)h[i]=t;this.bufferGeometry.fromGeometry(a)},generateTransformMatrixIndices:function(e){var t,r,i,s,a,h,u=[],n=0;for(i=0,s=e.length;i<s;i++)if(r=e[i].geometry)for(t=3*r.faces.length,n+=t,a=n-t,h=n;a<h;a++)u[a]=i;return new Float32Array(u)},buildMatrices:function(){this.matricesTextureWidth=calculateSquaredTextureWidth(16*this.children.length),this.matricesData=new Float32Array(this.matricesTextureWidth*this.matricesTextureWidth*4),this.matricesTexture=new THREE.DataTexture(this.matricesData,this.matricesTextureWidth,this.matricesTextureWidth,THREE.RGBAFormat,THREE.FloatType),this.matricesTexture.minFilter=THREE.NearestFilter,this.matricesTexture.magFilter=THREE.NearestFilter,this.matricesTexture.generateMipmaps=!1,this.matricesTexture.flipY=!1,this.matricesTexture.needsUpdate=!0},buildMaterial:function(){this.attributes={transformMatrixIndex:{type:"f",value:null}},this.matrixIndices=this.generateTransformMatrixIndices(this.children),this.bufferGeometry.addAttribute("transformMatrixIndex",new THREE.BufferAttribute(this.matrixIndices,1)),this.uniforms={color:{type:"c",value:new THREE.Color(16711680)},matricesTexture:{type:"t",value:this.matricesTexture},time:{type:"f",value:Date.now()},texture:{type:"t",value:this.texture},matricesTextureWidth:{type:"f",value:this.matricesTextureWidth}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,attributes:this.attributes,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0})},update:function(){for(var e=0,t=this.children.length;e<t;e++)this.children[e].matrix.flattenToArrayOffset(this.matricesData,16*e),this.matricesTexture.needsUpdate=!0}}),module.exports=MeshGroup;

},{"../../utils/calculateSquaredTextureWidth":70,"../../utils/loadText":76,"../../utils/loadTexture":77}],40:[function(require,module,exports){
"use strict";var MeshGroup=require("./MeshGroup"),random=require("../../utils/random"),twoPi=2*Math.PI,MeshGroupBoxDemo=function(o,t){this.poem=o,this.count=1e4,this.poem.emitter.on("update",this.update.bind(this)),this.group=new MeshGroup(o),this.boxes=this.generateBoxes(this.group),this.group.build(o.scene)};module.exports=MeshGroupBoxDemo,MeshGroupBoxDemo.prototype={generateBoxes:function(o){for(var t,e=[],r=(new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:65280}),this.count);r--;)t=new THREE.Mesh(new THREE.BoxGeometry(1,1,1)),t.position.x=random.range(-100,100),t.position.y=random.range(-100,100),t.position.z=random.range(-100,100),t.rotation.x=random.range(-twoPi,twoPi),t.rotation.y=random.range(-twoPi,twoPi),t.rotation.z=random.range(-twoPi,twoPi),t.velocity=new THREE.Vector3(random.range(-1,1),random.range(-1,1),random.range(-1,1)).multiplyScalar(.1),t.spin=new THREE.Vector3(random.range(-twoPi,twoPi),random.range(-twoPi,twoPi),random.range(-twoPi,twoPi)).multiplyScalar(.01),t.scale.multiplyScalar(random.range(1,2)),t.updateMatrix(),e.push(t),o.add(t);return e},update:function(o){for(var t,e=0;e<this.count;e++)t=this.boxes[e],t.position.add(t.velocity),t.rotation.x+=t.spin.x,t.rotation.y+=t.spin.y,t.rotation.z+=t.spin.z,t.updateMatrix()}};

},{"../../utils/random":78,"./MeshGroup":39}],41:[function(require,module,exports){
"use strict";var random=require("../../utils/random"),loadTexture=require("../../utils/loadTexture"),loadText=require("../../utils/loadText"),SineGravityCloud=function(t,i){this.poem=t,this.object=null,this.material=null,this.attributes=null,this.uniforms=null,this.texture=null,this.vertexShader=null,this.fragmentShader=null,this.count=2e5,this.radius=200,this.pointSize=7,_.extend(this,i),Promise.all([loadTexture("assets/images/sinegravitycloud.png",this,"texture"),loadText("js/demos/sine-gravity-cloud/sine.vert",this,"vertexShader"),loadText("js/demos/sine-gravity-cloud/sine.frag",this,"fragmentShader")]).then(this.start.bind(this),this.error.bind(this))};module.exports=SineGravityCloud,SineGravityCloud.prototype={start:function(){this.attributes={size:{type:"f",value:null},customColor:{type:"c",value:null}},this.uniforms={color:{type:"c",value:new THREE.Color(16777215)},texture:{type:"t",value:this.texture}},this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,attributes:this.attributes,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0}),this.geometry=new THREE.BufferGeometry,this.positions=new Float32Array(3*this.count),this.velocity=new Float32Array(3*this.count),this.colors=new Float32Array(3*this.count),this.sizes=new Float32Array(this.count);for(var t,i,s=new THREE.Color(0),e=0;e<this.count;e++)this.sizes[e]=this.pointSize,i=random.range(-1,1),this.positions[3*e+0]=i*this.radius,this.positions[3*e+1]=Math.sin(i*Math.PI*10)*this.radius,this.positions[3*e+2]=-.5*this.radius,this.velocity[3*e+0]=0*random.range(-.01,.01),this.velocity[3*e+1]=10*random.range(-.01,.01),this.velocity[3*e+2]=0*random.range(-.01,.01),t=.3*i+.65,s.setHSL(t,1,.55),this.colors[3*e+0]=s.r,this.colors[3*e+1]=s.g,this.colors[3*e+2]=s.b;this.geometry.addAttribute("position",new THREE.BufferAttribute(this.positions,3)),this.geometry.addAttribute("customColor",new THREE.BufferAttribute(this.colors,3)),this.geometry.addAttribute("size",new THREE.BufferAttribute(this.sizes,1)),this.object=new THREE.PointCloud(this.geometry,this.material),this.object.position.y-=.2*this.radius,this.poem.scene.add(this.object),this.object.scale.multiplyScalar(1.5),this.poem.emitter.on("update",this.update.bind(this))},error:function(t){throw new Error("Could not load assets for the SineGravityCloud",t)},update:function(t){for(var i,s=Math.cos(5e-5*t.now*1),e=Math.cos(5e-5*t.now*2),o=Math.cos(5e-5*t.now*3),r=0;r<this.count;r++)i=this.positions[3*r+0]*this.positions[3*r+0]+this.positions[3*r+1]*this.positions[3*r+1]+this.positions[3*r+2]*this.positions[3*r+2],this.velocity[3*r+0]-=s*this.positions[3*r+0]/i,this.velocity[3*r+1]-=e*this.positions[3*r+1]/i,this.velocity[3*r+2]-=o*this.positions[3*r+2]/i,this.positions[3*r+0]+=s*this.velocity[3*r+0],this.positions[3*r+1]+=e*this.velocity[3*r+1],this.positions[3*r+2]+=o*this.velocity[3*r+2];this.geometry.attributes.position.needsUpdate=!0}};

},{"../../utils/loadText":76,"../../utils/loadTexture":77,"../../utils/random":78}],42:[function(require,module,exports){
"use strict";var Random=require("../utils/random"),lerp=require("lerp"),internals={createMeshes:function(e,n,o,t){for(var i=[],r=0;r<t.count;r++){var a=new THREE.Mesh(n,o);a.position.x=Random.range(-t.dispersion,t.dispersion),a.position.y=Random.range(-t.dispersion,t.dispersion),a.position.z=Random.range(-t.dispersion,t.dispersion),a.rotation.x=Random.range(-Math.PI,Math.PI),a.rotation.y=Random.range(-Math.PI,Math.PI),a.rotation.z=Random.range(-Math.PI,Math.PI),a.velocity=t.velocity,a.flee=1,a.direction=new THREE.Vector3(Random.range(-1,1),Random.range(-1,1),Random.range(-1,1)),a.direction.normalize(),r>0&&(a.target=i[r-1].position),e.add(a),i.push(a)}return i[0].target=i[i.length-1].position,i},physicsMotionFn:function(e,n){var o=new THREE.Vector3;return function(t){for(var i=0;i<e.length;i++){var r=e[i];o.subVectors(r.target,r.position),o.normalize(),r.direction.lerp(o,n.turnSpeed*t.unitDt),r.flee=lerp(r.flee,1,n.fleeSlowdown),r.position.x+=r.direction.x*r.velocity*r.flee*t.unitDt,r.position.y+=r.direction.y*r.velocity*r.flee*t.unitDt,r.position.z+=r.direction.z*r.velocity*r.flee*t.unitDt}}},brownianMotionFn:function(e,n){return function(o){for(var t=0;t<e.length;t++)e[t].position.x+=Random.range(-5e-4,5e-4)*n*o.dt,e[t].position.y+=Random.range(-5e-4,5e-4)*n*o.dt,e[t].position.z+=Random.range(-5e-4,5e-4)*n*o.dt}},raycastFn:function(e,n,o,t){var i=new THREE.Raycaster;return function(r){i.setFromCamera(n,o);for(var a=0;a<e.length;a++){var s=e[a],d=i.ray.distanceToPoint(s.position);d<t.mouseRange&&(s.flee+=t.fleeSpeed*(t.mouseRange-d)/t.mouseRange)}}}};module.exports=function(e,n){var o=_.extend({count:10,dispersion:10,radius:1,mouseRef:"mouse",velocity:5,turnSpeed:.025,fleeSlowdown:.1,mouseRange:50,fleeSpeed:1},n),t=new THREE.TetrahedronGeometry(o.radius,0),i=new THREE.MeshLambertMaterial({color:52275,shading:THREE.FlatShading,fog:!1}),r=internals.createMeshes(e.scene,t,i,o),a=e[o.mouseRef];e.emitter.on("update",internals.physicsMotionFn(r,o)),e.emitter.on("update",internals.raycastFn(r,a.normalizedPosition,e.camera.object,o))};

},{"../utils/random":78,"lerp":138}],43:[function(require,module,exports){
"use strict";function _createGeometry(n,e){var t=new THREE.PlaneGeometry(n,n,e,e);return t.applyMatrix((new THREE.Matrix4).makeRotationX(.5*Math.PI)),t}function _createTexture(n,e){var t=new Image,o=new THREE.Texture(t);return t.src="assets/images/cloud1024.png",o.wrapT=THREE.RepeatWrapping,o.wrapS=THREE.RepeatWrapping,$(t).on("load",function(){o.needsUpdate=!0,e.add(n)}),o}function _createMeshGrid(n,e,t,o){for(var i,a=_createGeometry(e/t,Math.floor(o/t)),r=new THREE.Object3D,s=e/t,c=0;c<t;c++)for(var v=0;v<t;v++)i=new THREE.Mesh(a,n),i.frustumCulled=!1,r.add(i),i.position.set(c*s,0,v*s);return r}function _updateModuloMeshGrid(n,e,t,o){var i=e.length,a=t/2;return function(){for(var o,r=0;r<i;r++)o=e[r].position,o.set((o.x-n.x+a)%t+n.x-a,o.y,(o.z-n.z+a)%t+n.z-a)}}module.exports=function(n,e){var t=_.extend({width:8e3,heightScale:200,gridLength:16,totalPolygonDensity:256,positionY:0,height:1},e),o={height:t.height},i=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nuniform sampler2D terrain;\nuniform float heightFactor;\nuniform float width;\nuniform float elapsed;\n\nvarying float height;\nvarying vec2 vUv;\nvarying float vCameraDistance;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvoid main() {\n\n\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\n\tvUv = vec2( modelPosition.x, modelPosition.z + elapsed * 0.05 ) / width;\n\t\t\n\tfloat mainHeightShape = texture2D( terrain, vUv * 0.3 ).w;\n\tfloat smallNoiseySurface = texture2D( terrain, vUv * 5.0 ).w;\n\tfloat amountOfSmallNoise = snoise_1_3(vec3(\n\t\tmodelPosition.x * 0.001 * sin( elapsed * 0.001 ),\n\t\tmodelPosition.z * 0.001 * sin( elapsed * 0.001 ),\n\t\telapsed * 0.0001\n\t));\n\t\n\theight = mainHeightShape + (\n\t\tsmallNoiseySurface * smallNoiseySurface * amountOfSmallNoise\n\t);\n\t\n\tvCameraDistance = distance( modelPosition.xyz, cameraPosition );\n\t\n\tvec4 modifiedPosition = vec4(\n\t\tposition.x,\n\t\tposition.y + height * width / 20.0 * heightFactor,\n\t\tposition.z,\n\t\t1.0\n\t);\n\t\n\tgl_Position = projectionMatrix * modelViewMatrix * modifiedPosition;\n\t\n}",fragmentShader:"#define GLSLIFY 1\nvec3 hsv2rgb_1_0(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n\nuniform float width;\nuniform float heightFactor;\nuniform float elapsed;\n\nvarying float height;\nvarying vec2 vUv;\nvarying float vCameraDistance;\n\nvoid main() {\n\t\n\tfloat hueX = abs(0.5 - fract(vUv.x * 2.0)) * 2.0;\n\tfloat hueY = abs(0.5 - fract(vUv.y * 2.0)) * 2.0;\n\t\n\tfloat waveSpeed = 0.0005;\n\tfloat waveLength = 0.0001;\n\tfloat wave = mod((vCameraDistance * waveLength + elapsed * waveSpeed), 1.0);\n\t\n    gl_FragColor = vec4(\n\t\thsv2rgb_1_0(\n\t\t\tvec3(\n\t\t\t\t// mod(xHue, 1.0),\n\t\t\t\t(hueX + hueY) * 0.1 + 0.25,\n\t\t\t\tmix(heightFactor, mix(height, 0.5, 0.8), 0.8),\n\t\t\t\tmix(heightFactor, mix(height, 1.2, 0.35), 0.35)\n\t\t\t)\n\t\t),\n\t\t1.0 - wave + 0.2\n\t);\n\t\n\tfloat fogFactor = smoothstep( 0.0, 1.0, vCameraDistance / width );\n\tvec3 fogColor = vec3( 0.14, 0.14, 0.14 );\n\n\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\t\n}",side:THREE.DoubleSide,wireframe:!0,transparent:!0,uniforms:{terrain:{type:"t"},heightFactor:{type:"f"},width:{type:"f"},elapsed:{type:"f"}},attributes:{}}),a=_createMeshGrid(i,t.width,t.gridLength,t.totalPolygonDensity);return a.position.y=t.positionY,i.uniforms.terrain.value=_createTexture(a,n.scene),i.uniforms.width.value=t.width/2,i.uniforms.height=o.height,n.emitter.on("update",function(n){i.uniforms.heightFactor.value=o.height,i.uniforms.elapsed.value=n.elapsed}),n.emitter.on("update",_updateModuloMeshGrid(n.camera.object.position,a.children,t.width,o)),o};

},{}],44:[function(require,module,exports){
"use strict";require("./utils/ThreeConsole"),require("es6-promise").polyfill();var manifests=require("../manifests"),routing=require("./core/routing"),ui=require("./core/ui")(manifests);routing.start(require("./core/poem"),manifests);

},{"../manifests":89,"./core/poem":31,"./core/routing":32,"./core/ui":33,"./utils/ThreeConsole":69,"es6-promise":131}],45:[function(require,module,exports){
"use strict";THREE.BloomPass=function(e,r,o,n){e=void 0!==e?e:1,r=void 0!==r?r:25,o=void 0!==o?o:4,n=void 0!==n?n:256;var t={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};this.renderTargetX=new THREE.WebGLRenderTarget(n,n,t),this.renderTargetY=new THREE.WebGLRenderTarget(n,n,t),void 0===THREE.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var i=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(i.uniforms),this.copyUniforms.opacity.value=e,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,blending:THREE.AdditiveBlending,transparent:!0}),void 0===THREE.ConvolutionShader&&console.error("THREE.BloomPass relies on THREE.ConvolutionShader");var a=THREE.ConvolutionShader;this.convolutionUniforms=THREE.UniformsUtils.clone(a.uniforms),this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurx,this.convolutionUniforms.cKernel.value=THREE.ConvolutionShader.buildKernel(o),this.materialConvolution=new THREE.ShaderMaterial({uniforms:this.convolutionUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,defines:{KERNEL_SIZE_FLOAT:r.toFixed(1),KERNEL_SIZE_INT:r.toFixed(0)}}),this.enabled=!0,this.needsSwap=!1,this.clear=!1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),this.scene.add(this.quad)},THREE.BloomPass.prototype={render:function(e,r,o,n,t){t&&e.context.disable(e.context.STENCIL_TEST),this.quad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.value=o,this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurX,e.render(this.scene,this.camera,this.renderTargetX,!0),this.convolutionUniforms.tDiffuse.value=this.renderTargetX,this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurY,e.render(this.scene,this.camera,this.renderTargetY,!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetY,t&&e.context.enable(e.context.STENCIL_TEST),e.render(this.scene,this.camera,o,this.clear)}},THREE.BloomPass.blurX=new THREE.Vector2(.001953125,0),THREE.BloomPass.blurY=new THREE.Vector2(0,.001953125);

},{}],46:[function(require,module,exports){
"use strict";THREE.EffectComposer=function(e,r){if(this.renderer=e,void 0===r){var t=window.innerWidth||1,i=window.innerHeight||1,s={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};r=new THREE.WebGLRenderTarget(t,i,s)}this.renderTarget1=r,this.renderTarget2=r.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},THREE.EffectComposer.prototype={swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e)},insertPass:function(e,r){this.passes.splice(r,0,e)},render:function(e){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var r,t,i=!1,s=this.passes.length;for(t=0;t<s;t++)if(r=this.passes[t],r.enabled){if(r.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),r.needsSwap){if(i){var n=this.renderer.context;n.stencilFunc(n.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.stencilFunc(n.EQUAL,1,4294967295)}this.swapBuffers()}r instanceof THREE.MaskPass?i=!0:r instanceof THREE.ClearMaskPass&&(i=!1)}},reset:function(e){void 0===e&&(e=this.renderTarget1.clone(),e.width=window.innerWidth,e.height=window.innerHeight),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,r){var t=this.renderTarget1.clone();t.width=e,t.height=r,this.reset(t)}};

},{}],47:[function(require,module,exports){
"use strict";THREE.FilmPass=function(e,i,s,r){void 0===THREE.FilmShader&&console.error("THREE.FilmPass relies on THREE.FilmShader");var t=THREE.FilmShader;this.uniforms=THREE.UniformsUtils.clone(t.uniforms),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),void 0!==r&&(this.uniforms.grayscale.value=r),void 0!==e&&(this.uniforms.nIntensity.value=e),void 0!==i&&(this.uniforms.sIntensity.value=i),void 0!==s&&(this.uniforms.sCount.value=s),this.enabled=!0,this.renderToScreen=!1,this.needsSwap=!0,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),this.scene.add(this.quad)},THREE.FilmPass.prototype={render:function(e,i,s,r){this.uniforms.tDiffuse.value=s,this.uniforms.time.value+=r,this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,i,!1)}};

},{}],48:[function(require,module,exports){
"use strict";THREE.MaskPass=function(e,s){this.scene=e,this.camera=s,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1},THREE.MaskPass.prototype={render:function(e,s,t,a){var n=e.context;n.colorMask(!1,!1,!1,!1),n.depthMask(!1);var i,r;this.inverse?(i=0,r=1):(i=1,r=0),n.enable(n.STENCIL_TEST),n.stencilOp(n.REPLACE,n.REPLACE,n.REPLACE),n.stencilFunc(n.ALWAYS,i,4294967295),n.clearStencil(r),e.render(this.scene,this.camera,t,this.clear),e.render(this.scene,this.camera,s,this.clear),n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.stencilFunc(n.EQUAL,1,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},THREE.ClearMaskPass=function(){this.enabled=!0},THREE.ClearMaskPass.prototype={render:function(e,s,t,a){var n=e.context;n.disable(n.STENCIL_TEST)}};

},{}],49:[function(require,module,exports){
"use strict";THREE.RenderPass=function(e,r,l,a,o){this.scene=e,this.camera=r,this.overrideMaterial=l,this.clearColor=a,this.clearAlpha=void 0!==o?o:1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1},THREE.RenderPass.prototype={render:function(e,r,l,a){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,l,this.clear),this.clearColor&&e.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null}};

},{}],50:[function(require,module,exports){
"use strict";THREE.SSAOShader={uniforms:{tDiffuse:{type:"t",value:null},tDepth:{type:"t",value:null},size:{type:"v2",value:new THREE.Vector2(512,512)},cameraNear:{type:"f",value:1},cameraFar:{type:"f",value:100},onlyAO:{type:"i",value:0},aoClamp:{type:"f",value:.5},lumInfluence:{type:"f",value:.5}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cameraNear;","uniform float cameraFar;","uniform bool onlyAO;","uniform vec2 size;","uniform float aoClamp;","uniform float lumInfluence;","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","varying vec2 vUv;","#define DL 2.399963229728653","#define EULER 2.718281828459045","float width = size.x;","float height = size.y;","float cameraFarPlusNear = cameraFar + cameraNear;","float cameraFarMinusNear = cameraFar - cameraNear;","float cameraCoef = 2.0 * cameraNear;","const int samples = 8;","const float radius = 5.0;","const bool useNoise = false;","const float noiseAmount = 0.0003;","const float diffArea = 0.4;","const float gDisplace = 0.4;","float unpackDepth( const in vec4 rgba_depth ) {","const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","float depth = dot( rgba_depth, bit_shift );","return depth;","}","vec2 rand( const vec2 coord ) {","vec2 noise;","if ( useNoise ) {","float nx = dot ( coord, vec2( 12.9898, 78.233 ) );","float ny = dot ( coord, vec2( 12.9898, 78.233 ) * 2.0 );","noise = clamp( fract ( 43758.5453 * sin( vec2( nx, ny ) ) ), 0.0, 1.0 );","} else {","float ff = fract( 1.0 - coord.s * ( width / 2.0 ) );","float gg = fract( coord.t * ( height / 2.0 ) );","noise = vec2( 0.25, 0.75 ) * vec2( ff ) + vec2( 0.75, 0.25 ) * gg;","}","return ( noise * 2.0  - 1.0 ) * noiseAmount;","}","float readDepth( const in vec2 coord ) {","return cameraCoef / ( cameraFarPlusNear - unpackDepth( texture2D( tDepth, coord ) ) * cameraFarMinusNear );","}","float compareDepths( const in float depth1, const in float depth2, inout int far ) {","float garea = 2.0;","float diff = ( depth1 - depth2 ) * 100.0;","if ( diff < gDisplace ) {","garea = diffArea;","} else {","far = 1;","}","float dd = diff - gDisplace;","float gauss = pow( EULER, -2.0 * dd * dd / ( garea * garea ) );","return gauss;","}","float calcAO( float depth, float dw, float dh ) {","float dd = radius - depth * radius;","vec2 vv = vec2( dw, dh );","vec2 coord1 = vUv + dd * vv;","vec2 coord2 = vUv - dd * vv;","float temp1 = 0.0;","float temp2 = 0.0;","int far = 0;","temp1 = compareDepths( depth, readDepth( coord1 ), far );","if ( far > 0 ) {","temp2 = compareDepths( readDepth( coord2 ), depth, far );","temp1 += ( 1.0 - temp1 ) * temp2;","}","return temp1;","}","void main() {","vec2 noise = rand( vUv );","float depth = readDepth( vUv );","float tt = clamp( depth, aoClamp, 1.0 );","float w = ( 1.0 / width )  / tt + ( noise.x * ( 1.0 - noise.x ) );","float h = ( 1.0 / height ) / tt + ( noise.y * ( 1.0 - noise.y ) );","float ao = 0.0;","float dz = 1.0 / float( samples );","float z = 1.0 - dz / 2.0;","float l = 0.0;","for ( int i = 0; i <= samples; i ++ ) {","float r = sqrt( 1.0 - z );","float pw = cos( l ) * r;","float ph = sin( l ) * r;","ao += calcAO( depth, pw * w, ph * h );","z = z - dz;","l = l + DL;","}","ao /= float( samples );","ao = 1.0 - ao;","vec3 color = texture2D( tDiffuse, vUv ).rgb;","vec3 lumcoeff = vec3( 0.299, 0.587, 0.114 );","float lum = dot( color.rgb, lumcoeff );","vec3 luminance = vec3( lum );","vec3 final = vec3( color * mix( vec3( ao ), vec3( 1.0 ), luminance * lumInfluence ) );","if ( onlyAO ) {","final = vec3( mix( vec3( ao ), vec3( 1.0 ), luminance * lumInfluence ) );","}","gl_FragColor = vec4( final, 1.0 );","}"].join("\n")},module.exports=THREE.SSAOShader;

},{}],51:[function(require,module,exports){
"use strict";THREE.ShaderPass=function(e,t){this.textureID=void 0!==t?t:"tDiffuse",this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),this.scene.add(this.quad)},THREE.ShaderPass.prototype={render:function(e,t,r,s){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}};

},{}],52:[function(require,module,exports){
"use strict";var chromaticAberrationShader=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}",fragmentShader:"#define GLSLIFY 1\nhighp float random_1_0(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n\n\nuniform float opacity;\n\nuniform sampler2D tDiffuse;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec2 unitI_ToSide = (vUv * 2.0 - 1.0);\n\t\n\tunitI_ToSide = pow(unitI_ToSide, vec2(3.0, 5.0)) * random_1_0(vUv) * -0.01;\n\n\tvec4 texel = texture2D( tDiffuse, vUv );\n\tvec4 smallshift = texture2D( tDiffuse, vUv + unitI_ToSide * 0.5 );\n\tvec4 bigshift = texture2D( tDiffuse, vUv + unitI_ToSide );\n\t\n\tgl_FragColor = opacity * vec4( bigshift.x,  texel.y,  smallshift.z,  texel.w );\n\n}",uniforms:{opacity:{type:"f",value:1}}});module.exports=chromaticAberrationShader;

},{}],53:[function(require,module,exports){
"use strict";require("./EffectComposer"),require("./MaskPass"),require("./BloomPass"),require("./RenderPass"),require("./ShaderPass"),require("./FilmPass");

},{"./BloomPass":45,"./EffectComposer":46,"./FilmPass":47,"./MaskPass":48,"./RenderPass":49,"./ShaderPass":51}],54:[function(require,module,exports){
"use strict";var playground=new THREE.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}",fragmentShader:"#define GLSLIFY 1\nhighp float random_1_0(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n\n\nuniform float opacity;\n\nuniform sampler2D tDiffuse;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\n\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\n\tgl_FragColor = opacity * vec4( texel.x, texel.y, texel.z, texel.w );\n\n}",uniforms:{opacity:{type:"f",value:1},tDepth:{type:"t",value:null}}});module.exports=playground;

},{}],55:[function(require,module,exports){
"use strict";function handleNewPoem(e,r){var n=_.extend({},r),t=CreateRenderer(e,n);return ResizeHandler(e,ResizeRendererFn(t,e.camera.object)),e.emitter.on("draw",function(){t.render(e.scene,e.camera.object)}),t}var ResizeRendererFn=require("./utils/resize-renderer-fn"),ResizeHandler=require("./utils/resize-handler"),CreateRenderer=require("./utils/create-renderer");module.exports=handleNewPoem;

},{"./utils/create-renderer":59,"./utils/resize-handler":61,"./utils/resize-renderer-fn":62}],56:[function(require,module,exports){
"use strict";var ResizeRendererFn=require("./utils/resize-renderer-fn"),ResizeHandler=require("./utils/resize-handler"),CreateRenderer=require("./utils/create-renderer"),StereoEffect=require("../vendor/StereoEffect"),ResizeHandler=require("./utils/resize-handler"),FadeOutUi=require("./utils/fade-out-ui");module.exports=function(e,r){var i=_.extend({},r),n=CreateRenderer(e,i),t=new StereoEffect(n);return t.separation=10,ResizeHandler(e,ResizeRendererFn(n,e.camera.object)),ResizeHandler(e,function(){t.setSize(window.innerWidth,window.innerHeight)}),e.emitter.on("draw",function(){t.render(e.scene,e.camera.object)}),FadeOutUi(e),n};

},{"../vendor/StereoEffect":83,"./utils/create-renderer":59,"./utils/fade-out-ui":60,"./utils/resize-handler":61,"./utils/resize-renderer-fn":62}],57:[function(require,module,exports){
"use strict";function _createEffectComposer(e,r,n,t){var a=new THREE.RenderPass(n,t),i=new THREE.ShaderPass(THREE.FXAAShader),o=new THREE.BloomPass(1.5,15,16,512),s=new THREE.ShaderPass(THREE.CopyShader);s.renderToScreen=!0;var d=new THREE.EffectComposer(r);d.addPass(a),d.addPass(i),d.addPass(o),d.addPass(s);var u=function(){i.uniforms.resolution.value.set(1/(window.innerWidth*e),1/(window.innerHeight*e)),d.renderTarget1.setSize(window.innerWidth*e,window.innerHeight*e),d.renderTarget2.setSize(window.innerWidth*e,window.innerHeight*e)};return u(),[d,u]}function handleNewPoem(e,r){var n=CreateRenderer(e,r);n.autoClear=!1,ResizeHandler(e,ResizeRendererFn(n,e.camera.object));var t=_createEffectComposer(e.ratio,n,e.scene,e.camera.object),a=_slicedToArray(t,2),i=a[0];a[1];return e.emitter.on("draw",function(){i.render(e.scene,e.camera.object)}),n}var _slicedToArray=function(){function e(e,r){var n=[],t=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(n.push(o.value),!r||n.length!==r);t=!0);}catch(e){a=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ResizeRendererFn=require("./utils/resize-renderer-fn"),ResizeHandler=require("./utils/resize-handler"),CreateRenderer=require("./utils/create-renderer"),ChromaticAberrationShader=require("../postprocessing/chromaticAberration");require("../postprocessing"),require("../shaders/CopyShader"),require("../shaders/FilmShader"),require("../shaders/ConvolutionShader"),require("../shaders/FXAAShader"),module.exports=handleNewPoem;

},{"../postprocessing":53,"../postprocessing/chromaticAberration":52,"../shaders/ConvolutionShader":63,"../shaders/CopyShader":64,"../shaders/FXAAShader":65,"../shaders/FilmShader":66,"./utils/create-renderer":59,"./utils/resize-handler":61,"./utils/resize-renderer-fn":62}],58:[function(require,module,exports){
"use strict";function _createSsao(e,r,n,a){var i=new THREE.ShaderPass(SSAOShader);i.uniforms.tDepth.value=depthTarget,i.uniforms.cameraNear.value=a.near,i.uniforms.cameraFar.value=a.far,i.uniforms.fogEnabled.value=1,i.uniforms.aoClamp.value=.5,i.uniforms.size.value.set(window.innerWidth*e,window.innerHeight*e)}function _createDepthRender(e,r,n,a){var i=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,renderTargetParametersRGBA),t=new THREE.MeshDepthMaterial;return{render:function(){n.overrideMaterial=t,r(n,a,i,!0),n.overrideMaterial=null}}}function _createEffectComposer(e,r,n,a){var i=new THREE.RenderPass(n,a),t=new THREE.ShaderPass(THREE.FXAAShader),o=new THREE.ShaderPass(Playground),d=new THREE.ShaderPass(THREE.CopyShader);d.renderToScreen=!0;var s=new THREE.EffectComposer(r);THREE.LinearFilter,THREE.LinearFilter,THREE.RGBAFormat;s.addPass(i),s.addPass(o),s.addPass(t),s.addPass(d);var u=function(){t.uniforms.resolution.value.set(1/(window.innerWidth*e),1/(window.innerHeight*e)),s.renderTarget1.setSize(window.innerWidth*e,window.innerHeight*e),s.renderTarget2.setSize(window.innerWidth*e,window.innerHeight*e)};return u(),[s,u]}function handleNewPoem(e,r){var n=CreateRenderer(e,r);n.autoClear=!1,ResizeHandler(e,ResizeRendererFn(n,e.camera.object));var a=_createEffectComposer(e.ratio,n,e.scene,e.camera.object),i=_slicedToArray(a,2),t=i[0];i[1];return e.emitter.on("draw",function(){t.render(e.scene,e.camera.object)}),n}var _slicedToArray=function(){function e(e,r){var n=[],a=!0,i=!1,t=void 0;try{for(var o,d=e[Symbol.iterator]();!(a=(o=d.next()).done)&&(n.push(o.value),!r||n.length!==r);a=!0);}catch(e){i=!0,t=e}finally{try{!a&&d.return&&d.return()}finally{if(i)throw t}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ResizeRendererFn=require("./utils/resize-renderer-fn"),ResizeHandler=require("./utils/resize-handler"),CreateRenderer=require("./utils/create-renderer"),SSAOShader=require("../postprocessing/SSAOShader"),Playground=require("../postprocessing/playground/playground");require("../postprocessing"),require("../shaders/CopyShader"),require("../shaders/FilmShader"),require("../shaders/ConvolutionShader"),require("../shaders/FXAAShader"),module.exports=handleNewPoem;

},{"../postprocessing":53,"../postprocessing/SSAOShader":50,"../postprocessing/playground/playground":54,"../shaders/ConvolutionShader":63,"../shaders/CopyShader":64,"../shaders/FXAAShader":65,"../shaders/FilmShader":66,"./utils/create-renderer":59,"./utils/resize-handler":61,"./utils/resize-renderer-fn":62}],59:[function(require,module,exports){
"use strict";module.exports=function(e,o){var t=_.extend({clearColor:2236962,addToDom:!0},o),n=new THREE.WebGLRenderer;return n.setPixelRatio(e.ratio),n.setClearColor(t.clearColor),t.addToDom&&(document.getElementById("container").appendChild(n.domElement),e.canvas=n.domElement,e.emitter.on("destroy",function(){n.domElement.remove()})),n};

},{}],60:[function(require,module,exports){
"use strict";module.exports=function(o){var e=!1,n=!0,t=$("body"),u=$(o.canvas),i="mousemove touchmove",s=_.debounce(function(){!e&&n&&(e=!0,t.addClass("hide-ui"))},1500),c=function(){e=!1,t.removeClass("hide-ui")},f=function(){e&&c(),s()};t.on(i,f),u.on(i,f),s(),o.emitter.on("destroy",function(){n=!1,c(),t.off(i,f),u.off(i,f)})};

},{}],61:[function(require,module,exports){
"use strict";module.exports=function(e,o){$(window).on("resize",o),e.emitter.on("destroy",function(){$(window).off("resize",o)}),o()};

},{}],62:[function(require,module,exports){
"use strict";module.exports=function(i,n){return function(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}};

},{}],63:[function(require,module,exports){
"use strict";THREE.ConvolutionShader={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{type:"t",value:null},uImageIncrement:{type:"v2",value:new THREE.Vector2(.001953125,0)},cKernel:{type:"fv1",value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vec2 imageCoord = vUv;","vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","imageCoord += uImageIncrement;","}","gl_FragColor = sum;","}"].join("\n"),buildKernel:function(e){var n,r,i,o,t=2*Math.ceil(3*e)+1;for(t>25&&(t=25),o=.5*(t-1),r=new Array(t),i=0,n=0;n<t;++n)r[n]=function(e,n){return Math.exp(-e*e/(2*n*n))}(n-o,e),i+=r[n];for(n=0;n<t;++n)r[n]/=i;return r}};

},{}],64:[function(require,module,exports){
"use strict";THREE.CopyShader={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};

},{}],65:[function(require,module,exports){
"use strict";THREE.FXAAShader={uniforms:{tDiffuse:{type:"t",value:null},resolution:{type:"v2",value:new THREE.Vector2(1/1024,1/512)}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","void main() {","vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;","vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );","vec3 rgbM  = rgbaM.xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNW = dot( rgbNW, luma );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaSE = dot( rgbSE, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","float lumaB = dot(rgbB, vec4(luma, 0.0));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbA;","} else {","gl_FragColor = rgbB;","}","}"].join("\n")};

},{}],66:[function(require,module,exports){
"use strict";THREE.FilmShader={uniforms:{tDiffuse:{type:"t",value:null},time:{type:"f",value:0},nIntensity:{type:"f",value:.5},sIntensity:{type:"f",value:.05},sCount:{type:"f",value:4096},grayscale:{type:"i",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float time;","uniform bool grayscale;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 cTextureScreen = texture2D( tDiffuse, vUv );","float x = vUv.x * vUv.y * time *  1000.0;","x = mod( x, 13.0 ) * mod( x, 123.0 );","float dx = mod( x, 0.01 );","vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx * 100.0, 0.0, 1.0 );","vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","if( grayscale ) {","cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );","}","gl_FragColor =  vec4( cResult, cTextureScreen.a );","}"].join("\n")};

},{}],67:[function(require,module,exports){
"use strict";var soundcloud=require("soundcloud-badge"),mute=require("./mute"),soundOff=!1,audio=null,fetchAndPlaySong=null,timesCalledSoundcloud=0,Music=function(u,o){fetchAndPlaySong=function(){var e=++timesCalledSoundcloud;soundcloud({client_id:"6057c9af862bf245d4c402179e317f52",song:o.url,dark:!1,getFonts:!1},function(u,n,d,t){if(e===timesCalledSoundcloud){if(mute.muted())return void $(".npm-scb-white").hide();if($(".npm-scb-white").show(),u)throw u;audio=new Audio,audio.src=n,audio.play(),audio.loop=!0,audio.volume=o.volume||.6,$(audio).on("loadedmetadata",function(){audio&&(audio.currentTime=o.startTime||0)})}}),u.emitter.on("destroy",function(){audio&&(audio.pause(),audio=null),$(".npm-scb-white").remove()})},mute.muted()||(fetchAndPlaySong(),fetchAndPlaySong=null)};Music.prototype.muted=!1,mute.emitter.on("mute",function(u){audio&&audio.pause(),$(".npm-scb-white").hide()}),mute.emitter.on("unmute",function(u){audio&&audio.play(),fetchAndPlaySong&&(fetchAndPlaySong(),fetchAndPlaySong=null),$(".npm-scb-white").show()}),module.exports=Music;

},{"./mute":68,"soundcloud-badge":192}],68:[function(require,module,exports){
"use strict";var poemMute=require("poem-mute"),mute=poemMute();window.mutePrime=mute,window.mutePrimeEmitter=mute.emitter,module.exports=mute;

},{"poem-mute":188}],69:[function(require,module,exports){
"use strict";function roundTo(n,o){return"number"==typeof o?Math.round(Math.pow(10,o)*n)/Math.pow(10,o):n}THREE.Console={vector:function(n,o){var e;e=n instanceof THREE.Vector2||n instanceof THREE.Vector3||n instanceof THREE.Vector4?[n]:n,console.table(_.map(e,function(n){return _.map(n.toArray(),function(n){return roundTo(n,o)})}))},face:function(n){var o;o=n instanceof THREE.Face3?[n]:n,console.table(_.map(o,function(n){return[n.a,n.b,n.c]}))},matrix:function(n,o){var e,r,t,a,u;for(u=[],r=0,a=n instanceof THREE.Matrix4?n.elements:n,e=0;e<a.length;e++)0===r&&u.push([]),t=roundTo(a[e],o),u[Math.floor(e/4)%4].push(t),r++,r%=4,e%16==15&&(console.table(u),u=[])},quaternion:function(){var n=new THREE.Euler,o=function(n){return n/Math.PI},e=function(n){return function(o){return roundTo(o,n)}};return function(r,t){n.setFromQuaternion(r);var a=e(t),u=n.toArray().slice(0,3);console.table({quaternion:_.map(r.toArray(),a),eulerRad:_.map(u,a),eulerUnitPi:_.map(_.map(u,o),a)})}}(),euler:function(){var n=new THREE.Quaternion,o=function(n){return n/Math.PI},e=function(n){return function(o){return roundTo(o,n)}};return function(r,t){n.setFromEuler(r);var a=e(t),u=r.toArray().slice(0,3);console.table({quaternion:_.map(n.toArray(),a),eulerRad:_.map(u,a),eulerUnitPi:_.map(_.map(u,o),a)})}}()},window.consoleMatrix=THREE.Console.matrix,window.consoleVector=THREE.Console.vector,window.consoleFace=THREE.Console.face,window.consoleQuaternion=THREE.Console.quaternion,window.consoleEuler=THREE.Console.euler,module.exports=THREE.Console;

},{}],70:[function(require,module,exports){
"use strict";var calculateSquaredTextureWidth=function(e){for(var t=1,r=0;t*t<e/4;)r++,t=Math.pow(2,r);return t};module.exports=calculateSquaredTextureWidth;

},{}],71:[function(require,module,exports){
"use strict";module.exports=function(e){return function(){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}};

},{}],72:[function(require,module,exports){
"use strict";function _newBuffer(t,r){var e=new Float32Array(t*r);return new THREE.BufferAttribute(e,r)}function _duplicateBuffer(t,r,e,a){for(var u=e*t.itemSize,i=0;i<a;i++)for(var f=i*u,n=0;n<u;n++)r.array[f+n]=t.array[n]}function _addIndices(t,r,e){for(var a=new Float32Array(e*r),u=0;u<e;u++)for(var i=u*r,f=0;f<r;f++)a[i+f]=u;var n=new THREE.BufferAttribute(a,1);t.addAttribute("attributeIndex",n),t.attributes.attributeIndex.needsUpdate=!0}module.exports=function(t,r){var e=t.attributes.position,a=t.attributes.normal,u=t.attributes.uv,i=e.array.length/3,f=i*r,n=_newBuffer(f,3),o=_newBuffer(f,3),d=_newBuffer(f,2);return _duplicateBuffer(e,n,i,r),_duplicateBuffer(a,o,i,r),_duplicateBuffer(u,d,i,r),t.attributes.position=n,t.attributes.normal=o,t.attributes.uv=d,_addIndices(t,i,r),t};

},{}],73:[function(require,module,exports){
"use strict";module.exports=function(t){var e=new THREE.Camera;e.position.z=1;var n=new THREE.Scene,r=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),new THREE.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new THREE.Vector2},texture:{type:"t",value:null}},vertexShader:"\n\t\t\t\tvoid main()\t{\n\t\t\t\t\tgl_Position = vec4( position, 1.0 );\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\t\t\t\tuniform vec2 resolution;\n\t\t\t\tuniform sampler2D texture;\n\n\t\t\t\tvoid main()\t{\n\n\t\t\t\t\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\n\t\t\t\t\tvec4 color = texture2D( texture, uv );\n\n\t\t\t\t\tgl_FragColor = vec4( color.xyz, 1.0 );\n\n\t\t\t\t}\n\t\t\t"}));n.add(r);var o=r.material.uniforms;return function(r,u,a){o.resolution.value.set(a,a),o.texture.value=r,t.render(n,e,u)}};

},{}],74:[function(require,module,exports){
"use strict";function _nextPowerOfTwo(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function _createRenderTarget(e,r){return new THREE.WebGLRenderTarget(e,e,{wrapS:THREE.RepeatWrapping,wrapT:THREE.RepeatWrapping,minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:r,type:THREE.FloatType,stencilBuffer:!1})}function _renderFn(e){var r=new THREE.Scene,t=new THREE.Camera,n=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2));return t.position.z=1,r.add(n),function(a,s){n.material=a,e.render(r,t,s)}}function _flipFn(e){var r=0,t=1;return function(){r=(r+1)%2,t=(t+1)%2,e.inputRenderTarget=e.renderTargets[r],e.outputRenderTarget=e.renderTargets[t]}}function _addPassFn(e,r,t){return function(r,n){var a=_.extend({size:100,stride:4,generateDatum:function(){},preRender:function(){},postRender:function(){},uniformName:"texture",autoUpdateUniform:!0,shaderMaterial:null,textureSideLength:null,active:!0},n);if(3===a.stride)var s=THREE.RGBFormat;else{if(4!==a.stride)throw new Error("Stride must be 3 or 4 to work with the RGB and RGBA formats.");var s=THREE.RGBAFormat}var i=_nextPowerOfTwo(Math.sqrt(a.size));a.textureSideLength=i;for(var o=new Float32Array(i*i*a.stride),u=0;u<o.length;u+=a.stride)a.generateDatum(o,u);var d=_createRenderTarget(i,s),p=_createRenderTarget(i,s);d.name="renderTargetA",p.name="renderTargetB";var f=new THREE.DataTexture(o,i,i);_.extend(f,{format:s,type:THREE.FloatType,minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,needsUpdate:!0,flipY:!1}),t(f,d,i),t(f,p,i),f.dispose();var R={active:a.active,size:a.size,stride:a.stride,preRender:a.preRender,postRender:a.postRender,shaderMaterial:a.shaderMaterial,uniformName:a.uniformName,autoUpdateUniform:a.autoUpdateUniform,textureSideLength:a.textureSideLength,inputRenderTarget:null,outputRenderTarget:null,renderTargets:[d,p]};return R.flip=_flipFn(R),e.passes[r]=R,R}}function _renderAllFn(e,r){return function(){_.each(e.passes,function(e,r){e.active&&(e.flip(),e.autoUpdateUniform&&(e.shaderMaterial.uniforms[e.uniformName].value=e.inputRenderTarget))}),_.each(e.passes,function(r){r.active&&r.preRender(r,e.passes)}),_.each(e.passes,function(e){e.active&&r(e.shaderMaterial,e.outputRenderTarget)}),_.each(e.passes,function(r){r.active&&r.postRender(r,e.passes)})}}function _renderPassFn(e,r){return function(t){var n=_.isString(t)?e.passes[t]:t;n.flip(),n.autoUpdateUniform&&(n.shaderMaterial.uniforms[n.uniformName].value=n.inputRenderTarget),n.preRender(n,e.passes),r(n.shaderMaterial,n.outputRenderTarget),post.postRender(n,e.passes)}}var CopyTexture=require("./copy-texture");module.exports=function(e,r){var t={passes:{}};(new THREE.Camera).position.z=1;var n=(new THREE.Scene,CopyTexture(e)),a=_renderFn(e);return{passes:t.passes,addPass:_addPassFn(t,e,n),renderer:e,render:_renderAllFn(t,a),renderPass:_renderPassFn(t,a),copyTexture:n}};

},{"./copy-texture":73}],75:[function(require,module,exports){
"use strict";var loadImage=function(e,o,r){return new Promise(function(n,t){var a=($.Deferred(),$("<img />")),i=a[0];a.load(function(){_.isObject(o)&&(o[r]=i),n(i)}),a.error(function(){t("Could not load image: "+e)}),i.src=e})};module.exports=loadImage;

},{}],76:[function(require,module,exports){
"use strict";var loadText=function(t,e,n){return new Promise(function(o,a){$.ajax(t,{dataType:"text"}).then(function(t){_.isObject(e)&&(e[n]=t),o(t)},function(t){a(t)})})};module.exports=loadText;

},{}],77:[function(require,module,exports){
"use strict";var loadTexture=function(e,t,o){return new Promise(function(r,u){THREE.ImageUtils.loadTexture(e,void 0,function(e){_.isObject(t)&&(t[o]=e),r(e)},u)})};module.exports=loadTexture;

},{}],78:[function(require,module,exports){
"use strict";var random={flip:function(){return Math.random()>.5},range:function(n,r){return Math.random()*(r-n)+n},rangeInt:function(n,r){return Math.floor(this.range(n,r+1))},rangeLow:function(n,r){return Math.random()*Math.random()*(r-n)+n},rangeHigh:function(n,r){return(1-Math.random()*Math.random())*(r-n)+n}};module.exports=random;

},{}],79:[function(require,module,exports){
"use strict";THREE.AssimpJSONLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.AssimpJSONLoader.prototype={constructor:THREE.AssimpJSONLoader,texturePath:"",load:function(e,r,t,s,a){var n=this;this.texturePath=a&&"string"==typeof a?a:this.extractUrlBase(e);var o=new THREE.XHRLoader(this.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){var t,a,o=JSON.parse(e);if(void 0!==(a=o.__metadata__)){if("assimp2json"!==a.format)return void s("Not an assimp2json scene");if(a.version<100&&a.version>=200)return void s("Unsupported assimp2json file format version")}t=n.parse(o),r(t)},t,s)},setCrossOrigin:function(e){this.crossOrigin=e},extractUrlBase:function(e){var r=e.split("/");return r.pop(),(r.length<1?".":r.join("/"))+"/"},parse:function(e){var r=this.parseList(e.meshes,this.parseMesh),t=this.parseList(e.materials,this.parseMaterial);return this.parseObject(e,e.rootnode,r,t)},parseList:function(e,r){for(var t=new Array(e.length),s=0;s<e.length;++s)t[s]=r.call(this,e[s]);return t},parseMesh:function(e){var r,t,s,a,n;for(r=new THREE.Geometry,a=e.vertices,t=0,s=a.length;t<s;)r.vertices.push(new THREE.Vector3(a[t++],a[t++],a[t++]));for(a=e.faces,t=0,s=a.length;t<s;++t){n=a[t];var o=new THREE.Face3(n[0],n[1],n[2]);r.faces.push(o)}for(e.texturecoords=e.texturecoords||[],t=0,s=e.texturecoords.length;t<s;++t){!function(e,r,t){var s,a,n,o,i,c;for(s=0,a=r.length;s<a;++s)n=r[s],o=2*n.a,i=2*n.b,c=2*n.c,t.push([new THREE.Vector2(e[o],e[o+1]),new THREE.Vector2(e[i],e[i+1]),new THREE.Vector2(e[c],e[c+1])])}(e.texturecoords[t],r.faces,r.faceVertexUvs[t])}if(e.normals){!function(e,r){var t,s,a,n,o,i;for(t=0,s=r.length;t<s;++t)a=r[t],n=3*a.a,o=3*a.b,i=3*a.c,a.vertexNormals=[new THREE.Vector3(e[n],e[n+1],e[n+2]),new THREE.Vector3(e[o],e[o+1],e[o+2]),new THREE.Vector3(e[i],e[i+1],e[i+2])]}(e.normals,r.faces)}if(e.colors&&e.colors[0]){!function(e,r){function t(e){var r=new THREE.Color;return r.setRGB(arr[0],arr[1],arr[2]),r}var s,a,n,o,i,c;for(s=0,a=r.length;s<a;++s)n=r[s],o=4*n.a,i=4*n.b,c=4*n.c,n.vertexColors=[t(o),t(i),t(c)]}(e.colors[0],r.faces)}return r.computeBoundingSphere(),r},parseMaterial:function(e){function r(e){var r=new THREE.Color;return r.setRGB(e[0],e[1],e[2]),r}var t,s,a=null,n=this,o=[],i={shading:THREE.SmoothShading};for(var t in e.properties)s=e.properties[t],"$tex.file"===s.key?1!==s.semantic&&5!==s.semantic&&6!==s.semantic&&2!==s.semantic||function(e){var r,t=new THREE.TextureLoader(n.manager);1===e?r="map":5===e?r="bumpMap":6===e?r="normalMap":2===e&&(r="specularMap"),o.push(r),t.setCrossOrigin(this.crossOrigin);var i=n.texturePath+"/"+s.value;i=i.replace(/\\/g,"/"),t.load(i,function(e){e&&(e.wrapS=e.wrapT=THREE.RepeatWrapping,a[r]=e,a.needsUpdate=!0)})}(s.semantic):"?mat.name"===s.key?i.name=s.value:"$clr.diffuse"===s.key?i.color=r(s.value):"$clr.specular"===s.key?i.specular=r(s.value):"$clr.emissive"===s.key?i.emissive=r(s.value):"$mat.shadingm"===s.key?1===s.value&&(i.shading=THREE.FlatShading):"$mat.shininess"===s.key&&(i.shininess=s.value);if(o.length)for(t=o.length-1;t>=0;--t)i[o[t]]=function(){var e=new Image;return e.width=1,e.height=1,new THREE.Texture(e)}();return a=new THREE.MeshPhongMaterial(i)},parseObject:function(e,r,t,s){var a,n,o=new THREE.Object3D;for(o.name=r.name||"",o.matrix=(new THREE.Matrix4).fromArray(r.transformation).transpose(),o.matrix.decompose(o.position,o.quaternion,o.scale),a=0;r.meshes&&a<r.meshes.length;++a)n=r.meshes[a],o.add(new THREE.Mesh(t[n],s[e.meshes[n].materialindex]));for(a=0;r.children&&a<r.children.length;++a)o.add(this.parseObject(e,r.children[a],t,s));return o}},module.exports=THREE.AssimpJSONLoader;

},{}],80:[function(require,module,exports){
"use strict";function onDeviceOrientationChangeEvent(t){deviceOrientation=t}function getOrientation(){switch(window.screen.orientation||window.screen.mozOrientation){case"landscape-primary":return 90;case"landscape-secondary":return-90;case"portrait-secondary":return 180;case"portrait-primary":return 0}return window.orientation||0}function onScreenOrientationChangeEvent(){screenOrientation=getOrientation()}var deviceOrientation={},screenOrientation=window.orientation||0;window.addEventListener("deviceorientation",onDeviceOrientationChangeEvent,!1),window.addEventListener("orientationchange",onScreenOrientationChangeEvent,!1),THREE.DeviceOrientationControls=function(t){this.object=t,this.object.rotation.reorder("YXZ"),this.freeze=!0,this.movementSpeed=1,this.rollSpeed=.005,this.autoAlign=!0,this.autoForward=!1,this.alpha=0,this.beta=0,this.gamma=0,this.orient=0,this.alignQuaternion=new THREE.Quaternion,this.orientationQuaternion=new THREE.Quaternion;var e=new THREE.Quaternion,n=new THREE.Quaternion,i=new THREE.Vector3,o=new THREE.Matrix4,a=new THREE.Euler(0,0,0,"YXZ"),r=new THREE.Quaternion,s=new THREE.Vector3(0,0,1),h=new THREE.Vector3(0,1,0),c=new THREE.Vector3(0,0,0),u=new THREE.Euler,E=new THREE.Quaternion,d=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));this.update=function(t){return function(t){this.freeze||(this.alpha=deviceOrientation.gamma?THREE.Math.degToRad(deviceOrientation.alpha):0,this.beta=deviceOrientation.beta?THREE.Math.degToRad(deviceOrientation.beta):0,this.gamma=deviceOrientation.gamma?THREE.Math.degToRad(deviceOrientation.gamma):0,this.orient=screenOrientation?THREE.Math.degToRad(screenOrientation):0,u.set(this.beta,this.alpha,-this.gamma,"YXZ"),e.setFromEuler(u),n.slerp(e,.5),this.autoAlign?this.orientationQuaternion.copy(e):this.orientationQuaternion.copy(n),this.orientationQuaternion.multiply(d),this.orientationQuaternion.multiply(E.setFromAxisAngle(s,-this.orient)),this.object.quaternion.copy(this.alignQuaternion),this.object.quaternion.multiply(this.orientationQuaternion),this.autoForward&&(i.set(0,0,-1).applyQuaternion(this.object.quaternion,"ZXY").setLength(this.movementSpeed/50),this.object.position.add(i)),this.autoAlign&&0!==this.alpha&&(this.autoAlign=!1,this.align()))}}(),this.align=function(){i.set(0,0,-1).applyQuaternion(r.copy(this.orientationQuaternion).inverse(),"ZXY"),a.setFromQuaternion(r.setFromRotationMatrix(o.lookAt(i,c,h))),a.set(0,a.y,0),this.alignQuaternion.setFromEuler(a)},this.connect=function(){this.freeze=!1},this.disconnect=function(){this.freze=!0}},module.exports=THREE.DeviceOrientationControls;

},{}],81:[function(require,module,exports){
"use strict";THREE.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*E.autoRotateSpeed}function o(){return Math.pow(.95,E.zoomSpeed)}function i(t){if(!1!==E.enabled){if(t.preventDefault(),t.button===E.mouseButtons.ORBIT){if(!0===E.noRotate)return;V=x.ROTATE,m.set(t.clientX,t.clientY)}else if(t.button===E.mouseButtons.ZOOM){if(!0===E.noZoom)return;V=x.DOLLY,R.set(t.clientX,t.clientY)}else if(t.button===E.mouseButtons.PAN){if(!0===E.noPan)return;V=x.PAN,T.set(t.clientX,t.clientY)}V!==x.NONE&&(document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),E.dispatchEvent(U))}}function a(t){if(!1!==E.enabled){t.preventDefault();var e=E.domElement===document?E.domElement.body:E.domElement;if(V===x.ROTATE){if(!0===E.noRotate)return;f.set(t.clientX,t.clientY),b.subVectors(f,m),E.rotateLeft(2*Math.PI*b.x/e.clientWidth*E.rotateSpeed),E.rotateUp(2*Math.PI*b.y/e.clientHeight*E.rotateSpeed),m.copy(f)}else if(V===x.DOLLY){if(!0===E.noZoom)return;H.set(t.clientX,t.clientY),M.subVectors(H,R),M.y>0?E.dollyIn():E.dollyOut(),R.copy(H)}else if(V===x.PAN){if(!0===E.noPan)return;O.set(t.clientX,t.clientY),y.subVectors(O,T),E.pan(y.x,y.y),T.copy(O)}V!==x.NONE&&E.update()}}function s(){!1!==E.enabled&&(document.removeEventListener("mousemove",a,!1),document.removeEventListener("mouseup",s,!1),E.dispatchEvent(Y),V=x.NONE)}function r(t){if(!1!==E.enabled&&!0!==E.noZoom&&V===x.NONE){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?E.dollyOut():E.dollyIn(),E.update(),E.dispatchEvent(U),E.dispatchEvent(Y)}}function c(t){if(!1!==E.enabled&&!0!==E.noKeys&&!0!==E.noPan)switch(t.keyCode){case E.keys.UP:E.pan(0,E.keyPanSpeed),E.update();break;case E.keys.BOTTOM:E.pan(0,-E.keyPanSpeed),E.update();break;case E.keys.LEFT:E.pan(E.keyPanSpeed,0),E.update();break;case E.keys.RIGHT:E.pan(-E.keyPanSpeed,0),E.update()}}function h(t){if(!1!==E.enabled){switch(t.touches.length){case 1:if(!0===E.noRotate)return;V=x.TOUCH_ROTATE,m.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===E.noZoom)return;V=x.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(e*e+n*n);R.set(0,o);break;case 3:if(!0===E.noPan)return;V=x.TOUCH_PAN,T.set(t.touches[0].pageX,t.touches[0].pageY);break;default:V=x.NONE}V!==x.NONE&&E.dispatchEvent(U)}}function u(t){if(!1!==E.enabled){t.preventDefault(),t.stopPropagation();var e=E.domElement===document?E.domElement.body:E.domElement;switch(t.touches.length){case 1:if(!0===E.noRotate)return;if(V!==x.TOUCH_ROTATE)return;f.set(t.touches[0].pageX,t.touches[0].pageY),b.subVectors(f,m),E.rotateLeft(2*Math.PI*b.x/e.clientWidth*E.rotateSpeed),E.rotateUp(2*Math.PI*b.y/e.clientHeight*E.rotateSpeed),m.copy(f),E.update();break;case 2:if(!0===E.noZoom)return;if(V!==x.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,o=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(n*n+o*o);H.set(0,i),M.subVectors(H,R),M.y>0?E.dollyOut():E.dollyIn(),R.copy(H),E.update();break;case 3:if(!0===E.noPan)return;if(V!==x.TOUCH_PAN)return;O.set(t.touches[0].pageX,t.touches[0].pageY),y.subVectors(O,T),E.pan(y.x,y.y),T.copy(O),E.update();break;default:V=x.NONE}}}function d(){!1!==E.enabled&&(E.dispatchEvent(Y),V=x.NONE)}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};var l,p,E=this,m=new THREE.Vector2,f=new THREE.Vector2,b=new THREE.Vector2,T=new THREE.Vector2,O=new THREE.Vector2,y=new THREE.Vector2,v=new THREE.Vector3,g=new THREE.Vector3,R=new THREE.Vector2,H=new THREE.Vector2,M=new THREE.Vector2,P=0,L=0,N=1,A=new THREE.Vector3,w=new THREE.Vector3,k=new THREE.Quaternion,x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},V=x.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var j=(new THREE.Quaternion).setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),D=j.clone().inverse(),S={type:"change"},U={type:"start"},Y={type:"end"};this.rotateLeft=function(t){void 0===t&&(t=n()),L-=t},this.rotateUp=function(t){void 0===t&&(t=n()),P-=t},this.panLeft=function(t){var e=this.object.matrix.elements;v.set(e[0],e[1],e[2]),v.multiplyScalar(-t),A.add(v)},this.panUp=function(t){var e=this.object.matrix.elements;v.set(e[4],e[5],e[6]),v.multiplyScalar(t),A.add(v)},this.pan=function(t,e){var n=E.domElement===document?E.domElement.body:E.domElement;if(void 0!==E.object.fov){var o=E.object.position,i=o.clone().sub(E.target),a=i.length();a*=Math.tan(E.object.fov/2*Math.PI/180),E.panLeft(2*t*a/n.clientHeight),E.panUp(2*e*a/n.clientHeight)}else void 0!==E.object.top?(E.panLeft(t*(E.object.right-E.object.left)/n.clientWidth),E.panUp(e*(E.object.top-E.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=o()),N/=t},this.dollyOut=function(t){void 0===t&&(t=o()),N*=t},this.update=function(){var t=this.object.position;g.copy(t).sub(this.target),g.applyQuaternion(j),l=Math.atan2(g.x,g.z),p=Math.atan2(Math.sqrt(g.x*g.x+g.z*g.z),g.y),this.autoRotate&&V===x.NONE&&this.rotateLeft(n()),l+=L,p+=P,l=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,l)),p=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,p)),p=Math.max(1e-6,Math.min(Math.PI-1e-6,p));var e=g.length()*N;e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(A),g.x=e*Math.sin(p)*Math.sin(l),g.y=e*Math.cos(p),g.z=e*Math.sin(p)*Math.cos(l),g.applyQuaternion(D),t.copy(this.target).add(g),this.object.lookAt(this.target),L=0,P=0,N=1,A.set(0,0,0),(w.distanceToSquared(this.object.position)>1e-6||8*(1-k.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(S),w.copy(this.object.position),k.copy(this.object.quaternion))},this.reset=function(){V=x.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.getPolarAngle=function(){return p},this.getAzimuthalAngle=function(){return l},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mousewheel",r,!1),this.domElement.addEventListener("DOMMouseScroll",r,!1),this.domElement.addEventListener("touchstart",h,!1),this.domElement.addEventListener("touchend",d,!1),this.domElement.addEventListener("touchmove",u,!1),window.addEventListener("keydown",c,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,module.exports=THREE.OrbitControls;

},{}],82:[function(require,module,exports){
"use strict";var Stats=function(){var e=Date.now(),t=e,n=0,i=1/0,a=0,d=0,o=1/0,l=0,s=0,r=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(e){e.preventDefault(),g(++r%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var p=document.createElement("div");p.id="fps",p.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(p);var h=document.createElement("div");h.id="fpsText",h.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",h.innerHTML="FPS",p.appendChild(h);var f=document.createElement("div");for(f.id="fpsGraph",f.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",p.appendChild(f);f.children.length<74;){var x=document.createElement("span");x.style.cssText="width:1px;height:30px;float:left;background-color:#113",f.appendChild(x)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(m);var u=document.createElement("div");u.id="msText",u.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",u.innerHTML="MS",m.appendChild(u);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(v);v.children.length<74;){var y=document.createElement("span");y.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(y)}var g=function(e){switch(r=e){case 0:p.style.display="block",m.style.display="none";break;case 1:p.style.display="none",m.style.display="block"}},b=function(e,t){e.appendChild(e.firstChild).style.height=t+"px"};return{REVISION:12,domElement:c,setMode:g,begin:function(){e=Date.now()},end:function(){var r=Date.now();return n=r-e,i=Math.min(i,n),a=Math.max(a,n),u.textContent=n+" MS ("+i+"-"+a+")",b(v,Math.min(30,30-n/200*30)),s++,r>t+1e3&&(d=Math.round(1e3*s/(r-t)),o=Math.min(o,d),l=Math.max(l,d),h.textContent=d+" FPS ("+o+"-"+l+")",b(f,Math.min(30,30-d/100*30)),t=r,s=0),r},update:function(){e=this.end()}}};"object"==typeof module&&(module.exports=Stats);

},{}],83:[function(require,module,exports){
"use strict";THREE.StereoEffect=function(e){this.separation=3;var t,r,a=new THREE.Vector3,o=new THREE.Quaternion,i=new THREE.Vector3,n=new THREE.PerspectiveCamera,s=new THREE.PerspectiveCamera;e.autoClear=!1,this.setSize=function(a,o){t=a/2,r=o,e.setSize(a,o)},this.render=function(p,c){p.updateMatrixWorld(),void 0===c.parent&&c.updateMatrixWorld(),c.matrixWorld.decompose(a,o,i),n.fov=c.fov,n.aspect=.5*c.aspect,n.near=c.near,n.far=c.far,n.updateProjectionMatrix(),n.position.copy(a),n.quaternion.copy(o),n.translateX(-this.separation),s.near=c.near,s.far=c.far,s.projectionMatrix=n.projectionMatrix,s.position.copy(a),s.quaternion.copy(o),s.translateX(this.separation),e.setViewport(0,0,2*t,r),e.clear(),e.setViewport(0,0,t,r),e.render(p,n),e.setViewport(t,0,t,r),e.render(p,s)}},module.exports=THREE.StereoEffect;

},{}],84:[function(require,module,exports){
"use strict";module.exports={name:"Blobs",description:"Raycasting",order:3,config:{camera:{}},components:{renderer:{function:require("../js/renderers/basic-renderer")},controls:{construct:require("../js/components/cameras/Controls")},mouse:{function:require("../js/components/hids/mouse-tracker")},grid:{construct:require("../js/demos/Grid")},blobs:{function:require("../js/components/ambiance/blobs/blobs")}}};

},{"../js/components/ambiance/blobs/blobs":15,"../js/components/cameras/Controls":20,"../js/components/hids/mouse-tracker":25,"../js/demos/Grid":38,"../js/renderers/basic-renderer":55}],85:[function(require,module,exports){
"use strict";module.exports={name:"Carbon Dioxide Earth",description:"Mapping NASA Data",order:0,config:{camera:{x:-400,far:3e3}},components:{renderer:{function:require("../js/renderers/basic-renderer")},sphere:{construct:require("../js/demos/Earth"),properties:{}},controls:{construct:require("../js/components/cameras/Controls"),properties:{minDistance:500,maxDistance:1e3,zoomSpeed:.1,autoRotate:!0,autoRotateSpeed:.2}},info:{construct:require("../js/components/Info"),properties:{documentTitle:"Earth's CO2 – a Three.js Visualization adapted by Greg Tatum",title:"Earth's CO2",subtitle:"3d Visualisation of a map from NASA",appendCredits:"<br/> Map visualization by <a href='http://svs.gsfc.nasa.gov/cgi-bin/details.cgi?aid=11719'>NASA's Goddard Space Flight Center</a>",titleCss:{"font-size":"3.35em"},subtitleCss:{"font-size":"0.7em"},showArrowNext:!0}},stars:{construct:require("../js/components/Stars")},lights:{construct:require("../js/components/lights/TrackCameraLights")}}};

},{"../js/components/Info":11,"../js/components/Stars":12,"../js/components/cameras/Controls":20,"../js/components/lights/TrackCameraLights":26,"../js/demos/Earth":34,"../js/renderers/basic-renderer":55}],86:[function(require,module,exports){
"use strict";module.exports={name:"Cubic",description:"An Cubican Experiment",order:0,config:{camera:{x:0,z:500,near:.1,fov:40}},components:{renderer:{function:require("../js/renderers/effects-renderer")},restrictedCamera:{construct:require("../js/components/cameras/RestrictedCamera")},wireTerrain:{construct:require("../js/demos/wire-terrain/terrain"),properties:{positionY:-250}},particles:{function:require("../js/components/ambiance/particles/particles")},music:{construct:require("../js/sound/Music"),properties:{url:"https://soundcloud.com/cabbibo/that-was-just-stupidly"}},dragScroll:{function:require("../js/components/utils/drag-scroll")},sky:{function:require("../js/components/ambiance/Sky"),properties:{width:50}}}};

},{"../js/components/ambiance/Sky":14,"../js/components/ambiance/particles/particles":17,"../js/components/cameras/RestrictedCamera":22,"../js/components/utils/drag-scroll":29,"../js/demos/wire-terrain/terrain":43,"../js/renderers/effects-renderer":57,"../js/sound/Music":67}],87:[function(require,module,exports){
"use strict";module.exports={name:"Endless Terrain",description:"An ever-repeating environment",order:0,config:{camera:{x:0,z:500,near:.1,fov:40}},components:{renderer:{function:require("../js/renderers/effects-renderer")},restrictedCamera:{construct:require("../js/components/cameras/RestrictedCamera")},endlessTerrain:{construct:require("../js/demos/EndlessTerrain/endless"),properties:{positionY:-250}},credits:{function:require("../js/demos/EndlessTerrain/credits")},particles:{function:require("../js/components/ambiance/particles/particles")},cloudsTop:{construct:require("../js/components/ambiance/Clouds"),properties:{height:200,rotation:Math.PI/2}},animator:{function:require("../js/components/animator"),properties:require("../js/demos/EndlessTerrain/keyframes.js")}}};

},{"../js/components/ambiance/Clouds":13,"../js/components/ambiance/particles/particles":17,"../js/components/animator":18,"../js/components/cameras/RestrictedCamera":22,"../js/demos/EndlessTerrain/credits":35,"../js/demos/EndlessTerrain/endless":36,"../js/demos/EndlessTerrain/keyframes.js":37,"../js/renderers/effects-renderer":57}],88:[function(require,module,exports){
"use strict";module.exports={name:"Gpu Processor Example",description:"Positioning stored in a frame buffer",order:0,config:{camera:{x:-300,near:.1,far:5e3,fov:40}},components:{renderer:{function:require("../js/renderers/basic-renderer")},controls:{construct:require("../js/components/cameras/Controls")},fboPositioning:{function:require("../js/components/fbo-positioning/fbo")}}};

},{"../js/components/cameras/Controls":20,"../js/components/fbo-positioning/fbo":24,"../js/renderers/basic-renderer":55}],89:[function(require,module,exports){
"use strict";module.exports={"light-beams":require("./light-beams"),cubic:require("./cubic"),postprocessing:require("./postprocessing"),blobs:require("./blobs"),meshGroupBoxDemo:require("./meshGroupBoxDemo"),carbonDioxideEarth:require("./carbonDioxideEarth"),endlessTerrain:require("./endlessTerrain"),tetrahedra:require("./tetrahedra"),sineGravityCloud:require("./sineGravityCloud"),vr:require("./vr"),"fbo-positioning":require("./fbo-positioning")};

},{"./blobs":84,"./carbonDioxideEarth":85,"./cubic":86,"./endlessTerrain":87,"./fbo-positioning":88,"./light-beams":90,"./meshGroupBoxDemo":91,"./postprocessing":92,"./sineGravityCloud":93,"./tetrahedra":94,"./vr":95}],90:[function(require,module,exports){
"use strict";var LightBeam=require("../js/components/ambiance/light-beam/light-beam");module.exports={name:"Light Beams",description:"Atmospheric Lighting",order:0,config:{camera:{x:0,z:500,near:.1,fov:40}},components:{renderer:{function:require("../js/renderers/basic-renderer")},controls:{construct:require("../js/components/cameras/Controls")},lightBeam1:{function:LightBeam,properties:{position:[100,-150,0],color:11167249,lightLength:200}},lightBeam2:{function:LightBeam,properties:{position:[100,-150,0],color:13386769,lightLength:300}},lightBeam4:{function:LightBeam,properties:{position:[100,-150,0],color:16716049,lightLength:250}},lightBeam3:{function:LightBeam,properties:{position:[100,-150,0],color:15606289,lightLength:200}},lightLeftBeam1:{function:LightBeam,properties:{position:[-100,-150,0],color:1157734,lightLength:200}},lightLeftBeam2:{function:LightBeam,properties:{position:[-100,-150,0],color:1166404,lightLength:300}},lightLeftBeam4:{function:LightBeam,properties:{position:[-100,-150,0],color:1179409,lightLength:250}},lightLeftBeam3:{function:LightBeam,properties:{position:[-100,-150,0],color:1175074,lightLength:200}},sky:{function:require("../js/components/ambiance/Sky"),properties:{width:50}}}};

},{"../js/components/ambiance/Sky":14,"../js/components/ambiance/light-beam/light-beam":16,"../js/components/cameras/Controls":20,"../js/renderers/basic-renderer":55}],91:[function(require,module,exports){
"use strict";module.exports={name:"MeshGroup() Proof of Concept",description:"Batching multiple Three.js meshes into one draw call",order:50,config:{camera:{x:-400}},components:{renderer:{function:require("../js/renderers/basic-renderer")},demo:{construct:require("../js/demos/MeshGroupBoxDemo"),properties:{}},controls:{construct:require("../js/components/cameras/Controls")},grid:{construct:require("../js/demos/Grid")},stats:{construct:require("../js/components/utils/Stats")}}};

},{"../js/components/cameras/Controls":20,"../js/components/utils/Stats":28,"../js/demos/Grid":38,"../js/demos/MeshGroupBoxDemo":40,"../js/renderers/basic-renderer":55}],92:[function(require,module,exports){
"use strict";module.exports={name:"Post Processing",description:"",order:0,config:{camera:{x:-400}},components:{renderer:{function:require("../js/renderers/postprocess-renderer")},controls:{construct:require("../js/components/cameras/Controls")},grid:{construct:require("../js/demos/Grid")},tree:{function:require("../js/components/models/tree"),properties:{position:[0,-50,0],scale:[20,20,20]}},lights:{construct:require("../js/components/lights/TrackCameraLights")}}};

},{"../js/components/cameras/Controls":20,"../js/components/lights/TrackCameraLights":26,"../js/components/models/tree":27,"../js/demos/Grid":38,"../js/renderers/postprocess-renderer":58}],93:[function(require,module,exports){
"use strict";module.exports={name:"Sine Gravity Cloud",description:"An evolving cloud of movement",order:0,config:{camera:{x:-400}},components:{renderer:{function:require("../js/renderers/basic-renderer")},controls:{construct:require("../js/components/cameras/Controls")},pointcloud:{construct:require("../js/demos/sine-gravity-cloud/sine")},grid:{construct:require("../js/demos/Grid")}}};

},{"../js/components/cameras/Controls":20,"../js/demos/Grid":38,"../js/demos/sine-gravity-cloud/sine":41,"../js/renderers/basic-renderer":55}],94:[function(require,module,exports){
"use strict";module.exports={name:"Tetrahedra",description:"Live coding demo",order:0,config:{camera:{x:-300,near:.1,far:1e4,fov:40}},components:{renderer:{function:require("../js/renderers/effects-renderer")},controls:{construct:require("../js/components/cameras/Controls")},mouse:{function:require("../js/components/hids/mouse-tracker")},tetrahedra:{function:require("../js/demos/tetrahedra"),properties:{dispersion:150,radius:10,count:100,mouseRef:"mouse"}},lights:{construct:require("../js/components/lights/TrackCameraLights")},cloudsTop:{construct:require("../js/components/ambiance/Clouds"),properties:{width:2e3,height:1e3,rotation:-Math.PI/2}},cloudsBottom:{construct:require("../js/components/ambiance/Clouds"),properties:{width:2e3,height:-1e3,rotation:-Math.PI/2,offset:new THREE.Vector2(-.3,.8)}}}};

},{"../js/components/ambiance/Clouds":13,"../js/components/cameras/Controls":20,"../js/components/hids/mouse-tracker":25,"../js/components/lights/TrackCameraLights":26,"../js/demos/tetrahedra":42,"../js/renderers/effects-renderer":57}],95:[function(require,module,exports){
"use strict";module.exports={name:"VR Demo",description:"The Sine Gravity wave as a VR demo",order:0,config:{camera:{x:-300,fov:70}},components:{renderer:{function:require("../js/renderers/cardboard-renderer")},controls:{construct:require("../js/components/cameras/Orientation")},cameraRotation:{construct:require("../js/components/cameras/RotateAroundOrigin")},grid:{construct:require("../js/demos/Grid")},pointcloud:{construct:require("../js/demos/sine-gravity-cloud/sine"),properties:{count:5e4,pointSize:4}}}};

},{"../js/components/cameras/Orientation":21,"../js/components/cameras/RotateAroundOrigin":23,"../js/demos/Grid":38,"../js/demos/sine-gravity-cloud/sine":41,"../js/renderers/cardboard-renderer":56}],96:[function(require,module,exports){
function ClassList(n){function t(n){var t=s();indexof(t,n)>-1||(t.push(n),f(t))}function r(n){var t=s(),r=indexof(t,n);-1!==r&&(t.splice(r,1),f(t))}function e(n){return indexof(s(),n)>-1}function i(n){return e(n)?(r(n),!1):(t(n),!0)}function u(){return n.className}function o(n){return s()[n]||null}function s(){return filter(n.className.split(" "),isTruthy)}function f(t){var r=t.length;n.className=t.join(" "),a.length=r;for(var e=0;e<t.length;e++)a[e]=t[e];delete t[r]}var l=n.classList;if(l)return l;var a={add:t,remove:r,contains:e,toggle:i,toString:u,length:0,item:o};return a}function filter(n,t){for(var r=[],e=0;e<n.length;e++)t(n[e])&&r.push(n[e]);return r}function isTruthy(n){return!!n}var indexof=require("indexof");module.exports=ClassList;

},{"indexof":136}],97:[function(require,module,exports){
!function(){var e=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return r;return-1}function r(e,r){var n=t(e,r);-1!==n&&e.splice(n,1)}function n(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function s(e){return n(e,"RegExp")}function i(e){return n(e,"Array")}function a(e){return"function"==typeof e}function o(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(e===f||"undefined"===e?f:""===e||isNaN(e)?e:parseFloat(e))}function u(e){for(var t=e.length,r=[];t--;)r[t]=o(e[t]);return r}function h(e,t){for(var r,n,s,a,u=(e||"").replace("?","").split("&"),h=-1,c={};n=u[++h];)r=n.indexOf("="),a=n.substring(0,r),s=decodeURIComponent(n.substring(r+1)),!1!==t&&(s=o(s)),a in c?i(c[a])?c[a].push(s):c[a]=[c[a],s]:c[a]=s;return c}function c(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function p(t,r,n,i){var a=s(t),o=i.patternLexer;this._router=i,this._pattern=t,this._paramsIds=a?null:o.getParamIds(t),this._optionalParamsIds=a?null:o.getOptionalParamsIds(t),this._matchRegexp=a?t:o.compilePattern(t,i.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,r&&this.matched.add(r),this._priority=n||0}var d,l,f;return l=""===/t(.+)?/.exec("t")[1],c.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new c},addRoute:function(e,t,r){var n=new p(e,t,r,this);return this._sortedInsert(n),n},removeRoute:function(e){r(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var r,n=this._getMatchedRoutes(e),s=0,i=n.length;if(i)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(n,e),this._prevRoutes=n;s<i;)r=n[s],r.route.matched.dispatch.apply(r.route.matched,t.concat(r.params)),r.isFirst=!s,this.routed.dispatch.apply(this.routed,t.concat([e,r])),s+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var r,n=0;r=this._prevRoutes[n++];)r.route.switched&&this._didSwitch(r.route,e)&&r.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var r,n=0;r=t[n++];)if(r.route===e)return!1;return!0},_pipeParse:function(e,t){for(var r,n=0;r=this._piped[n++];)r.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,r=t.length;do{--r}while(t[r]&&e._priority<=t[r]._priority);t.splice(r+1,0,e)},_getMatchedRoutes:function(e){for(var t,r=[],n=this._routes,s=n.length;(t=n[--s])&&((!r.length||this.greedy||t.greedy)&&t.match(e)&&r.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!r.length););return r},pipe:function(e){this._piped.push(e)},unpipe:function(e){r(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},d=new c,d.VERSION="0.12.2",d.NORM_AS_ARRAY=function(e,t){return[t.vals_]},d.NORM_AS_OBJECT=function(e,t){return[t]},p.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,r=this.rules,n=this._getParamsObject(e);for(t in r)if("normalize_"!==t&&r.hasOwnProperty(t)&&!this._isValidParam(e,t,n))return!1;return!0},_isValidParam:function(e,r,n){var o=this.rules[r],u=n[r],h=!1,c=0===r.indexOf("?");return null==u&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,r)?h=!0:s(o)?(c&&(u=n[r+"_"]),h=o.test(u)):i(o)?(c&&(u=n[r+"_"]),h=this._isValidArrayRule(o,u)):a(o)&&(h=o(u,e,n)),h},_isValidArrayRule:function(e,r){if(!this._router.ignoreCase)return-1!==t(e,r);"string"==typeof r&&(r=r.toLowerCase());for(var n,s=e.length;s--;)if(n=e[s],("string"==typeof n?n.toLowerCase():n)===r)return!0;return!1},_getParamsObject:function(e){for(var r,n,s=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,s),a={},u=i.length;u--;)n=i[u],this._paramsIds&&(r=this._paramsIds[u],0===r.indexOf("?")&&n&&(a[r+"_"]=n,n=h(n,s),i[u]=n),l&&""===n&&-1!==t(this._optionalParamsIds,r)&&(n=void 0,i[u]=n),a[r]=n),a[u]=n;return a.request_=s?o(e):e,a.vals_=i,a},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null;return t=t||this._router.normalizeFn,t&&a(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},c.prototype.patternLexer=function(){function e(e,t){var r,n=[];for(e.lastIndex=0;r=e.exec(t);)n.push(r[1]);return n}function t(t){return e(d,t)}function r(t){return e(l.OP.rgx,t)}function n(e,t){return e=e||"",e&&(v===f?e=e.replace(c,""):v===_&&(e=e.replace(p,"")),e=s(e,"rgx","save"),e=e.replace(h,"\\$&"),e=s(e,"rRestore","res"),v===f&&(e="\\/?"+e)),v!==g&&(e+="\\/?"),new RegExp("^"+e+"$",t?"i":"")}function s(e,t,r){var n,s;for(s in l)l.hasOwnProperty(s)&&(n=l[s],e=e.replace(n[t],n[r]));return e}function a(e,t,r){var n=t.exec(e);return n&&(n.shift(),r&&(n=u(n))),n}function o(e,t){if(t=t||{},"string"!=typeof e)throw new Error("Route pattern should be a string.");var r=function(e,r){var n;if(r="?"===r.substr(0,1)?r.substr(1):r,null!=t[r]){if("object"==typeof t[r]){var s,a=[];for(var o in t[r])if(s=t[r][o],i(s))for(var u in s)"[]"==o.slice(-2)?a.push(encodeURI(o.slice(0,-2))+"[]="+encodeURI(s[u])):a.push(encodeURI(o+"="+s[u]));else a.push(encodeURI(o+"="+s));n="?"+a.join("&")}else n=String(t[r]);if(-1===e.indexOf("*")&&-1!==n.indexOf("/"))throw new Error('Invalid value "'+n+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");n=""}return n};return l.OS.trail||(l.OS.trail=new RegExp("(?:"+l.OS.id+")+$")),e.replace(l.OS.rgx,l.OS.save).replace(d,r).replace(l.OS.trail,"").replace(l.OS.rRestore,"/")}var h=/[\\.+*?\^$\[\](){}\/'#]/g,c=/^\/|\/$/g,p=/\/$/g,d=/(?:\{|:)([^}:]+)(?:\}|:)/g,l={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},f=1,g=2,_=3,v=f;return function(){var e,t;for(e in l)l.hasOwnProperty(e)&&(t=l[e],t.id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}(),{strict:function(){v=g},loose:function(){v=f},legacy:function(){v=_},getParamIds:t,getOptionalParamsIds:r,getParamValues:a,compilePattern:n,interpolate:o}}(),d};"function"==typeof define&&define.amd?define(["signals"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("signals")):window.crossroads=e(window.signals)}();

},{"signals":191}],98:[function(require,module,exports){
module.exports=function(r,n,t,u,e){var a=function(n){var u=1-n;return 3*u*u*n*r+3*u*n*n*t+n*n*n},f=function(r){var t=1-r;return 3*t*t*r*n+3*t*r*r*u+r*r*r},i=function(n){var u=1-n;return 3*(2*(n-1)*n+u*u)*r+3*(-n*n*n+2*u*n)*t};return function(r){var n,t,u,o,c,v,b=r;for(u=b,v=0;v<8;v++){if(o=a(u)-b,Math.abs(o)<e)return f(u);if(c=i(u),Math.abs(c)<1e-6)break;u-=o/c}if(n=0,t=1,u=b,u<n)return f(n);if(u>t)return f(t);for(;n<t;){if(o=a(u),Math.abs(o-b)<e)return f(u);b>o?n=u:t=u,u=.5*(t-n)+n}return f(u)}};

},{}],99:[function(require,module,exports){
function backInOut(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)}module.exports=backInOut;

},{}],100:[function(require,module,exports){
function backIn(n){var r=1.70158;return n*n*((r+1)*n-r)}module.exports=backIn;

},{}],101:[function(require,module,exports){
function backOut(t){var u=1.70158;return--t*t*((u+1)*t+u)+1}module.exports=backOut;

},{}],102:[function(require,module,exports){
function bounceInOut(u){return u<.5?.5*(1-bounceOut(1-2*u)):.5*bounceOut(2*u-1)+.5}var bounceOut=require("./bounce-out");module.exports=bounceInOut;

},{"./bounce-out":104}],103:[function(require,module,exports){
function bounceIn(u){return 1-bounceOut(1-u)}var bounceOut=require("./bounce-out");module.exports=bounceIn;

},{"./bounce-out":104}],104:[function(require,module,exports){
function bounceOut(u){var e=u*u;return u<4/11?7.5625*e:u<8/11?9.075*e-9.9*u+3.4:u<.9?4356/361*e-35442/1805*u+16061/1805:10.8*u*u-20.52*u+10.72}module.exports=bounceOut;

},{}],105:[function(require,module,exports){
function circInOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}module.exports=circInOut;

},{}],106:[function(require,module,exports){
function circIn(r){return 1-Math.sqrt(1-r*r)}module.exports=circIn;

},{}],107:[function(require,module,exports){
function circOut(t){return Math.sqrt(1- --t*t)}module.exports=circOut;

},{}],108:[function(require,module,exports){
function cubicInOut(u){return u<.5?4*u*u*u:.5*Math.pow(2*u-2,3)+1}module.exports=cubicInOut;

},{}],109:[function(require,module,exports){
function cubicIn(c){return c*c*c}module.exports=cubicIn;

},{}],110:[function(require,module,exports){
function cubicOut(u){var c=u-1;return c*c*c+1}module.exports=cubicOut;

},{}],111:[function(require,module,exports){
function elasticInOut(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}module.exports=elasticInOut;

},{}],112:[function(require,module,exports){
function elasticIn(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}module.exports=elasticIn;

},{}],113:[function(require,module,exports){
function elasticOut(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}module.exports=elasticOut;

},{}],114:[function(require,module,exports){
function expoInOut(o){return 0===o||1===o?o:o<.5?.5*Math.pow(2,20*o-10):-.5*Math.pow(2,10-20*o)+1}module.exports=expoInOut;

},{}],115:[function(require,module,exports){
function expoIn(o){return 0===o?o:Math.pow(2,10*(o-1))}module.exports=expoIn;

},{}],116:[function(require,module,exports){
function expoOut(o){return 1===o?o:1-Math.pow(2,-10*o)}module.exports=expoOut;

},{}],117:[function(require,module,exports){
module.exports={backInOut:require("./back-in-out"),backIn:require("./back-in"),backOut:require("./back-out"),bounceInOut:require("./bounce-in-out"),bounceIn:require("./bounce-in"),bounceOut:require("./bounce-out"),circInOut:require("./circ-in-out"),circIn:require("./circ-in"),circOut:require("./circ-out"),cubicInOut:require("./cubic-in-out"),cubicIn:require("./cubic-in"),cubicOut:require("./cubic-out"),elasticInOut:require("./elastic-in-out"),elasticIn:require("./elastic-in"),elasticOut:require("./elastic-out"),expoInOut:require("./expo-in-out"),expoIn:require("./expo-in"),expoOut:require("./expo-out"),linear:require("./linear"),quadInOut:require("./quad-in-out"),quadIn:require("./quad-in"),quadOut:require("./quad-out"),quartInOut:require("./quart-in-out"),quartIn:require("./quart-in"),quartOut:require("./quart-out"),quintInOut:require("./quint-in-out"),quintIn:require("./quint-in"),quintOut:require("./quint-out"),sineInOut:require("./sine-in-out"),sineIn:require("./sine-in"),sineOut:require("./sine-out")};

},{"./back-in":100,"./back-in-out":99,"./back-out":101,"./bounce-in":103,"./bounce-in-out":102,"./bounce-out":104,"./circ-in":106,"./circ-in-out":105,"./circ-out":107,"./cubic-in":109,"./cubic-in-out":108,"./cubic-out":110,"./elastic-in":112,"./elastic-in-out":111,"./elastic-out":113,"./expo-in":115,"./expo-in-out":114,"./expo-out":116,"./linear":118,"./quad-in":120,"./quad-in-out":119,"./quad-out":121,"./quart-in":123,"./quart-in-out":122,"./quart-out":124,"./quint-in":126,"./quint-in-out":125,"./quint-out":127,"./sine-in":129,"./sine-in-out":128,"./sine-out":130}],118:[function(require,module,exports){
function linear(e){return e}module.exports=linear;

},{}],119:[function(require,module,exports){
function quadInOut(u){return(u/=.5)<1?.5*u*u:-.5*(--u*(u-2)-1)}module.exports=quadInOut;

},{}],120:[function(require,module,exports){
function quadIn(n){return n*n}module.exports=quadIn;

},{}],121:[function(require,module,exports){
function quadOut(u){return-u*(u-2)}module.exports=quadOut;

},{}],122:[function(require,module,exports){
function quarticInOut(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}module.exports=quarticInOut;

},{}],123:[function(require,module,exports){
function quarticIn(t){return Math.pow(t,4)}module.exports=quarticIn;

},{}],124:[function(require,module,exports){
function quarticOut(t){return Math.pow(t-1,3)*(1-t)+1}module.exports=quarticOut;

},{}],125:[function(require,module,exports){
function qinticInOut(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}module.exports=qinticInOut;

},{}],126:[function(require,module,exports){
function qinticIn(n){return n*n*n*n*n}module.exports=qinticIn;

},{}],127:[function(require,module,exports){
function qinticOut(t){return--t*t*t*t*t+1}module.exports=qinticOut;

},{}],128:[function(require,module,exports){
function sineInOut(n){return-.5*(Math.cos(Math.PI*n)-1)}module.exports=sineInOut;

},{}],129:[function(require,module,exports){
function sineIn(n){var e=Math.cos(n*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}module.exports=sineIn;

},{}],130:[function(require,module,exports){
function sineOut(t){return Math.sin(t*Math.PI/2)}module.exports=sineOut;

},{}],131:[function(require,module,exports){
(function (process,global,setImmediate){(function (){
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function r(t){D=t}function o(t){U=t}function i(){return function(){F(s)}}function u(){return function(){setTimeout(s,1)}}function s(){for(var t=0;t<N;t+=2){(0,H[t])(H[t+1]),H[t]=void 0,H[t+1]=void 0}N=0}function c(){}function a(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function l(t){try{return t.then}catch(t){return V.error=t,V}}function p(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function _(t,e,n){U(function(t){var r=!1,o=p(n,e,function(n){r||(r=!0,e!==n?v(t,n):m(t,n))},function(e){r||(r=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,b(t,o))},t)}function h(t,e){e._state===Q?m(t,e._result):e._state===R?b(t,e._result):w(e,void 0,function(e){v(t,e)},function(e){b(t,e)})}function d(t,n){if(n.constructor===t.constructor)h(t,n);else{var r=l(n);r===V?b(t,V.error):void 0===r?m(t,n):e(r)?_(t,n,r):m(t,n)}}function v(e,n){e===n?b(e,a()):t(n)?d(e,n):m(e,n)}function y(t){t._onerror&&t._onerror(t._result),g(t)}function m(t,e){t._state===J&&(t._result=e,t._state=Q,0!==t._subscribers.length&&U(g,t))}function b(t,e){t._state===J&&(t._state=R,t._result=e,U(y,t))}function w(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+Q]=n,o[i+R]=r,0===i&&t._state&&U(g,t)}function g(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,u=0;u<e.length;u+=3)r=e[u],o=e[u+n],r?j(n,r,o,i):o(i);t._subscribers.length=0}}function A(){this.error=null}function E(t,e){try{return t(e)}catch(t){return X.error=t,X}}function j(t,n,r,o){var i,u,s,c,a=e(r);if(a){if(i=E(r,o),i===X?(c=!0,u=i.error,i=null):s=!0,n===i)return void b(n,f())}else i=o,s=!0;n._state!==J||(a&&s?v(n,i):c?b(n,u):t===Q?m(n,i):t===R&&b(n,i))}function S(t,e){try{e(function(e){v(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function T(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(c),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?m(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&m(n.promise,n._result))):b(n.promise,n._validationError())}function P(t){return new Z(this,t).promise}function x(t){function e(t){v(o,t)}function n(t){b(o,t)}var r=this,o=new r(c);if(!L(t))return b(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,u=0;o._state===J&&u<i;u++)w(r.resolve(t[u]),void 0,e,n);return o}function C(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(c);return v(n,t),n}function M(t){var e=this,n=new e(c);return b(n,t),n}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function k(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(t){this._id=ot++,this._state=void 0,this._result=void 0,this._subscribers=[],c!==t&&(e(t)||O(),this instanceof I||k(),S(this,t))}function Y(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=it)}var q;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var F,D,K,L=q,N=0,U=function(t,e){H[N]=t,H[N+1]=e,2===(N+=2)&&(D?D(s):K())},W="undefined"!=typeof window?window:void 0,$=W||{},z=$.MutationObserver||$.WebKitMutationObserver,B="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=new Array(1e3);K=B?function(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(s)}}():z?function(){var t=0,e=new z(s),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():G?function(){var t=new MessageChannel;return t.port1.onmessage=s,function(){t.port2.postMessage(0)}}():void 0===W&&"function"==typeof require?function(){try{var t=require,e=t("vertx");return F=e.runOnLoop||e.runOnContext,i()}catch(t){return u()}}():u();var J=void 0,Q=1,R=2,V=new A,X=new A;T.prototype._validateInput=function(t){return L(t)},T.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},T.prototype._init=function(){this._result=new Array(this.length)};var Z=T;T.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===J&&o<e;o++)t._eachEntry(r[o],o)},T.prototype._eachEntry=function(t,e){var r=this,o=r._instanceConstructor;n(t)?t.constructor===o&&t._state!==J?(t._onerror=null,r._settledAt(t._state,e,t._result)):r._willSettleAt(o.resolve(t),e):(r._remaining--,r._result[e]=t)},T.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===J&&(r._remaining--,t===R?b(o,n):r._result[e]=n),0===r._remaining&&m(o,r._result)},T.prototype._willSettleAt=function(t,e){var n=this;w(t,void 0,function(t){n._settledAt(Q,e,t)},function(t){n._settledAt(R,e,t)})};var tt=P,et=x,nt=C,rt=M,ot=0,it=I;I.all=tt,I.race=et,I.resolve=nt,I.reject=rt,I._setScheduler=r,I._setAsap=o,I._asap=U,I.prototype={constructor:I,then:function(t,e){var n=this,r=n._state;if(r===Q&&!t||r===R&&!e)return this;var o=new this.constructor(c),i=n._result;if(r){var u=arguments[r-1];U(function(){j(r,o,u,i)})}else w(n,o,t,e);return o},catch:function(t){return this.then(null,t)}};var ut=Y,st={Promise:it,polyfill:ut};"function"==typeof define&&define.amd?define(function(){return st}):"undefined"!=typeof module&&module.exports?module.exports=st:void 0!==this&&(this.ES6Promise=st),ut()}).call(this);

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("timers").setImmediate)

},{"_process":6,"timers":10}],132:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};

},{}],133:[function(require,module,exports){
(function (global){(function (){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:module.exports={};

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],134:[function(require,module,exports){
function asString(e){return'<link href="'+getHref(e)+'" rel="stylesheet" type="text/css">'}function asElement(e){var t=getHref(e),r=document.createElement("link");return r.setAttribute("href",t),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r}function getHref(e){return"http://fonts.googleapis.com/css?family="+Object.keys(e).map(function(t){var r=e[t];return t=t.replace(/\s+/,"+"),"boolean"==typeof r?t:t+":"+makeArray(r).join(",")}).join("|")}function append(e){var t=asElement(e);return document.head.appendChild(t),t}function makeArray(e){return Array.isArray(e)?e:[e]}module.exports=asString,module.exports.add=append;

},{}],135:[function(require,module,exports){
!function(){var e=function(e){return function(n){function t(e){return String(e||"").replace(/\W/g,"\\$&")}function a(e){if(!e)return"";var n=new RegExp("^"+t(l.prependHash)+"|"+t(l.appendHash)+"$","g");return e.replace(n,"")}function r(){var e=E.exec(l.getURL()),n=e&&e[1]||"";try{return l.raw?n:decodeURIComponent(n)}catch(e){return n}}function i(){return w?w.contentWindow.frameHash:null}function o(){w=H.createElement("iframe"),w.src="about:blank",w.style.display="none",H.body.appendChild(w)}function c(){if(w&&f!==i()){var e=w.contentWindow.document;e.open(),e.write("<html><head><title>"+H.title+'</title><script type="text/javascript">var frameHash="'+f+'";<\/script></head><body>&nbsp;</body></html>'),e.close()}}function s(e,n){if(f!==e){var t=f;f=e,U&&(n?w.contentWindow.frameHash=e:c()),l.changed.dispatch(a(e),a(t))}}function p(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function d(e,n,t){e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent&&e.detachEvent("on"+n,t)}function u(e){e=Array.prototype.slice.call(arguments);var n=e.join(l.separator);return n=n?l.prependHash+n.replace(L,"")+l.appendHash:n}function h(e){return e=encodeURI(e),b&&x&&(e=e.replace(/\?/,"%3F")),e}var l,f,v,g,w,m,H=n.document,y=(n.history,e.Signal),E=/#(.*)$/,R=/(\?.*)|(\#.*)/,L=/^\#/,b=!1,I="onhashchange"in n&&7!==H.documentMode,U=b&&!I,x="file:"===location.protocol;return m=U?function(){var e=r(),n=i();n!==f&&n!==e?l.setHash(a(n)):e!==f&&s(e)}:function(){var e=r();e!==f&&s(e)},l={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new y,stopped:new y,initialized:new y,init:function(){g||(f=r(),I?p(n,"hashchange",m):(U&&(w||o(),c()),v=setInterval(m,25)),g=!0,l.initialized.dispatch(a(f)))},stop:function(){g&&(I?d(n,"hashchange",m):(clearInterval(v),v=null),g=!1,l.stopped.dispatch(a(f)))},isActive:function(){return g},getURL:function(){return n.location.href},getBaseURL:function(){return l.getURL().replace(R,"")},setHash:function(e){(e=u.apply(null,arguments))!==f&&(s(e),e===f&&(l.raw||(e=h(e)),n.location.hash="#"+e))},replaceHash:function(e){(e=u.apply(null,arguments))!==f&&(s(e,!0),e===f&&(l.raw||(e=h(e)),n.location.replace("#"+e)))},getHash:function(){return a(f)},getHashAsArray:function(){return l.getHash().split(l.separator)},dispose:function(){l.stop(),l.initialized.dispose(),l.stopped.dispose(),l.changed.dispose(),w=l=n.hasher=null},toString:function(){return'[hasher version="'+l.VERSION+'" hash="'+l.getHash()+'"]'}},l.initialized.memorize=!0,l}(window)};"function"==typeof define&&define.amd?define(["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}();

},{"signals":191}],136:[function(require,module,exports){
var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};

},{}],137:[function(require,module,exports){
var inserted={};module.exports=function(e,t){if(!inserted[e]){inserted[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var s=document.getElementsByTagName("head")[0];t&&t.prepend?s.insertBefore(n,s.childNodes[0]):s.appendChild(n)}};

},{}],138:[function(require,module,exports){
function lerp(e,r,l){return e*(1-l)+r*l}module.exports=lerp;

},{}],139:[function(require,module,exports){
(function (global){(function (){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.localforage=e()}}(function(){return function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t||e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){(function(e){"use strict";function t(){s=!0;for(var e,n,t=l.length;t;){for(n=l,l=[],e=-1;++e<t;)n[e]();t=l.length}s=!1}function r(e){1!==l.push(e)||s||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,u=new i(t),c=e.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var f=new e.MessageChannel;f.port1.onmessage=t,o=function(){f.port2.postMessage(0)}}var s,l=[];n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==r&&c(this,e)}function i(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function a(e,n,t){h(function(){var r;try{r=n(t)}catch(n){return y.reject(e,n)}r===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,r)})}function u(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function c(e,n){function t(n){i||(i=!0,y.reject(e,n))}function r(n){i||(i=!0,y.resolve(e,n))}function o(){n(r,t)}var i=!1,a=f(o);"error"===a.status&&t(a.value)}function f(e,n){var t={};try{t.value=e(n),t.status="success"}catch(e){t.status="error",t.value=e}return t}function s(e){return e instanceof this?e:y.resolve(new this(r),e)}function l(e){var n=new this(r);return y.reject(n,e)}function d(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,o=!1;if(!t)return this.resolve([]);for(var i=new Array(t),a=0,u=-1,c=new this(r);++u<t;)!function(e,r){function u(e){i[r]=e,++a!==t||o||(o=!0,y.resolve(c,i))}n.resolve(e).then(u,function(e){o||(o=!0,y.reject(c,e))})}(e[u],u);return c}function v(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,o=!1;if(!t)return this.resolve([]);for(var i=-1,a=new this(r);++i<t;)!function(e){n.resolve(e).then(function(e){o||(o=!0,y.resolve(a,e))},function(e){o||(o=!0,y.reject(a,e))})}(e[i]);return a}var h=e(1),y={},p=["REJECTED"],b=["FULFILLED"],m=["PENDING"];n.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===b||"function"!=typeof n&&this.state===p)return this;var t=new this.constructor(r);if(this.state!==m){a(t,this.state===b?e:n,this.outcome)}else this.queue.push(new i(t,e,n));return t},i.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){y.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},y.resolve=function(e,n){var t=f(u,n);if("error"===t.status)return y.reject(e,t.value);var r=t.value;if(r)c(e,r);else{e.state=b,e.outcome=n;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(n)}return e},y.reject=function(e,n){e.state=p,e.outcome=n;for(var t=-1,r=e.queue.length;++t<r;)e.queue[t].callRejected(n);return e},o.resolve=s,o.reject=l,o.all=d,o.race=v},{1:1}],3:[function(e,n,t){(function(n){"use strict";"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(i){if("TypeError"!==i.name)throw i;for(var t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new t,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(n.type)}}function i(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function a(e,n,t){"function"==typeof n&&e.then(n),"function"==typeof t&&e.catch(t)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function f(e){for(var n=e.length,t=new ArrayBuffer(n),r=new Uint8Array(t),o=0;o<n;o++)r[o]=e.charCodeAt(o);return t}function s(e){return new be(function(n){var t=e.transaction(me,Se),r=o([""]);t.objectStore(me).put(r,"key"),t.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},t.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function l(e){return"boolean"==typeof ge?be.resolve(ge):s(e).then(function(e){return ge=e})}function d(e){var n=_e[e.name],t={};t.promise=new be(function(e,n){t.resolve=e,t.reject=n}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function v(e){var n=_e[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function h(e,n){var t=_e[e.name],r=t.deferredOperations.pop();if(r)return r.reject(n),r.promise}function y(e,n){return new be(function(t,r){if(_e[e.name]=_e[e.name]||N(),e.db){if(!n)return t(e.db);d(e),e.db.close()}var o=[e.name];n&&o.push(e.version);var i=pe.open.apply(pe,o);n&&(i.onupgradeneeded=function(n){var t=i.result;try{t.createObjectStore(e.storeName),n.oldVersion<=1&&t.createObjectStore(me)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn('The database "'+e.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){var n=i.result;n.onversionchange=function(e){e.target.close()},t(n),v(e)}})}function p(e){return y(e,!1)}function b(e){return y(e,!0)}function m(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==n&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function g(e){return new be(function(n,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");n({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function _(e){return o([f(atob(e.data))],{type:e.type})}function w(e){return e&&e.__local_forage_encoded_blob}function I(e){var n=this,t=n._initReady().then(function(){var e=_e[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(t,e,e),t}function S(e){d(e);for(var n=_e[e.name],t=n.forages,r=0;r<t.length;r++){var o=t[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,p(e).then(function(n){return e.db=n,m(e)?b(e):n}).then(function(r){e.db=n.db=r;for(var o=0;o<t.length;o++)t[o]._dbInfo.db=r}).catch(function(n){throw h(e,n),n})}function E(e,n,t,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,n);t(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return be.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),b(e)}).then(function(){return S(e).then(function(){E(e,n,t,r-1)})}).catch(t);t(o)}}function N(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(e){function n(){return be.resolve()}var t=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=_e[r.name];i||(i=N(),_e[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=I);for(var a=[],u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&a.push(c._initReady().catch(n))}var f=i.forages.slice(0);return be.all(a).then(function(){return r.db=i.db,p(r)}).then(function(e){return r.db=e,m(r,t._defaultConfig.version)?b(r):e}).then(function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<f.length;n++){var o=f[n];o!==t&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function R(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){E(t._dbInfo,Ie,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=a.get(e);u.onsuccess=function(){var e=u.result;void 0===e&&(e=null),w(e)&&(e=_(e)),n(e)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function A(e,n){var t=this,r=new be(function(n,r){t.ready().then(function(){E(t._dbInfo,Ie,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=a.openCursor(),c=1;u.onsuccess=function(){var t=u.result;if(t){var r=t.value;w(r)&&(r=_(r));var o=e(r,t.key,c++);void 0!==o?n(o):t.continue()}else n()},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function O(e,n,t){var r=this;e=u(e);var o=new be(function(t,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===we.call(n)?l(i.db).then(function(e){return e?n:g(n)}):n}).then(function(n){E(r._dbInfo,Se,function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===n&&(n=void 0);var c=u.put(n,e);a.oncomplete=function(){void 0===n&&(n=null),t(n)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return i(o,t),o}function D(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){E(t._dbInfo,Se,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=a.delete(e);i.oncomplete=function(){n()},i.onerror=function(){r(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function x(e){var n=this,t=new be(function(e,t){n.ready().then(function(){E(n._dbInfo,Se,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;t(e)}}catch(e){t(e)}})}).catch(t)});return i(t,e),t}function B(e){var n=this,t=new be(function(e,t){n.ready().then(function(){E(n._dbInfo,Ie,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName),a=i.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){t(a.error)}}catch(e){t(e)}})}).catch(t)});return i(t,e),t}function k(e,n){var t=this,r=new be(function(n,r){if(e<0)return void n(null);t.ready().then(function(){E(t._dbInfo,Ie,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=!1,c=a.openKeyCursor();c.onsuccess=function(){var t=c.result;if(!t)return void n(null);0===e?n(t.key):u?n(t.key):(u=!0,t.advance(e))},c.onerror=function(){r(c.error)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function C(e){var n=this,t=new be(function(e,t){n.ready().then(function(){E(n._dbInfo,Ie,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName),a=i.openKeyCursor(),u=[];a.onsuccess=function(){var n=a.result;if(!n)return void e(u);u.push(n.key),n.continue()},a.onerror=function(){t(a.error)}}catch(e){t(e)}})}).catch(t)});return i(t,e),t}function T(e,n){n=c.apply(this,arguments);var t=this.config();e="function"!=typeof e&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var r,o=this;if(e.name){var a=e.name===t.name&&o._dbInfo.db,u=a?be.resolve(o._dbInfo.db):p(e).then(function(n){var t=_e[e.name],r=t.forages;t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n;return n});r=e.storeName?u.then(function(n){if(n.objectStoreNames.contains(e.storeName)){var t=n.version+1;d(e);var r=_e[e.name],o=r.forages;n.close();for(var i=0;i<o.length;i++){var a=o[i];a._dbInfo.db=null,a._dbInfo.version=t}return new be(function(n,r){var o=pe.open(e.name,t);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),n(e)}}).then(function(e){r.db=e;for(var n=0;n<o.length;n++){var t=o[n];t._dbInfo.db=e,v(t._dbInfo)}}).catch(function(n){throw(h(e,n)||be.resolve()).catch(function(){}),n})}}):u.then(function(n){d(e);var t=_e[e.name],r=t.forages;n.close();for(var o=0;o<r.length;o++){r[o]._dbInfo.db=null}return new be(function(n,t){var r=pe.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),t(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),n(e)}}).then(function(e){t.db=e;for(var n=0;n<r.length;n++)v(r[n]._dbInfo)}).catch(function(n){throw(h(e,n)||be.resolve()).catch(function(){}),n})})}else r=be.reject("Invalid arguments");return i(r,n),r}function F(e){var n,t,r,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(n=0;n<u;n+=4)t=Ne.indexOf(e[n]),r=Ne.indexOf(e[n+1]),o=Ne.indexOf(e[n+2]),i=Ne.indexOf(e[n+3]),s[c++]=t<<2|r>>4,s[c++]=(15&r)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function L(e){var n,t=new Uint8Array(e),r="";for(n=0;n<t.length;n+=3)r+=Ne[t[n]>>2],r+=Ne[(3&t[n])<<4|t[n+1]>>4],r+=Ne[(15&t[n+1])<<2|t[n+2]>>6],r+=Ne[63&t[n+2]];return t.length%3==2?r=r.substring(0,r.length-1)+"=":t.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function M(e,n){var t="";if(e&&(t=Ue.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===Ue.call(e.buffer))){var r,o=Ae;e instanceof ArrayBuffer?(r=e,o+=De):(r=e.buffer,"[object Int8Array]"===t?o+=Be:"[object Uint8Array]"===t?o+=ke:"[object Uint8ClampedArray]"===t?o+=Ce:"[object Int16Array]"===t?o+=Te:"[object Uint16Array]"===t?o+=Le:"[object Int32Array]"===t?o+=Fe:"[object Uint32Array]"===t?o+=Me:"[object Float32Array]"===t?o+=ze:"[object Float64Array]"===t?o+=Pe:n(new Error("Failed to get type for BinaryArray"))),n(o+L(r))}else if("[object Blob]"===t){var i=new FileReader;i.onload=function(){var t=je+e.type+"~"+L(this.result);n(Ae+xe+t)},i.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(t){console.error("Couldn't convert value into a JSON string: ",e),n(null,t)}}function z(e){if(e.substring(0,Oe)!==Ae)return JSON.parse(e);var n,t=e.substring(qe),r=e.substring(Oe,qe);if(r===xe&&Re.test(t)){var i=t.match(Re);n=i[1],t=t.substring(i[0].length)}var a=F(t);switch(r){case De:return a;case xe:return o([a],{type:n});case Be:return new Int8Array(a);case ke:return new Uint8Array(a);case Ce:return new Uint8ClampedArray(a);case Te:return new Int16Array(a);case Le:return new Uint16Array(a);case Fe:return new Int32Array(a);case Me:return new Uint32Array(a);case ze:return new Float32Array(a);case Pe:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function P(e,n,t,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,r)}function q(e){var n=this,t={db:null};if(e)for(var r in e)t[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new be(function(e,r){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(e){return r(e)}t.db.transaction(function(o){P(o,t,function(){n._dbInfo=t,e()},function(e,n){r(n)})},r)});return t.serializer=We,o}function U(e,n,t,r,o,i){e.executeSql(t,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,u){u.rows.length?i(e,a):P(e,n,function(){e.executeSql(t,r,o,i)},i)},i):i(e,a)},i)}function W(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),n(r)},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function K(e,n){var t=this,r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"SELECT * FROM "+o.storeName,[],function(t,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),f=c.value;if(f&&(f=o.serializer.deserialize(f)),void 0!==(f=e(f,c.key,u+1)))return void n(f)}n()},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function H(e,n,t,r){var o=this;e=u(e);var a=new be(function(i,a){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,f){f?a(f):c.db.transaction(function(t){U(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){i(u)},function(e,n){a(n)})},function(n){if(n.code===n.QUOTA_ERR){if(r>0)return void i(H.apply(o,[e,u,t,r-1]));a(n)}})})}).catch(a)});return i(a,t),a}function Q(e,n,t){return H.apply(this,[e,n,t,1])}function X(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function G(e){var n=this,t=new be(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){U(n,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})}).catch(t)});return i(t,e),t}function J(e){var n=this,t=new be(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){U(n,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(n,t){var r=t.rows.item(0).c;e(r)},function(e,n){t(n)})})}).catch(t)});return i(t,e),t}function V(e,n){var t=this,r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function Y(e){var n=this,t=new be(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){U(n,r,"SELECT key FROM "+r.storeName,[],function(n,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).key);e(r)},function(e,n){t(n)})})}).catch(t)});return i(t,e),t}function Z(e){return new be(function(n,t){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);n({db:e,storeNames:o})},function(e,n){t(n)})},function(e){t(e)})})}function $(e,n){n=c.apply(this,arguments);var t=this.config();e="function"!=typeof e&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var r,o=this;return r=e.name?new be(function(n){var r;r=e.name===t.name?o._dbInfo.db:openDatabase(e.name,"","",0),n(e.storeName?{db:r,storeNames:[e.storeName]}:Z(r))}).then(function(e){return new be(function(n,t){e.db.transaction(function(r){for(var o=[],i=0,a=e.storeNames.length;i<a;i++)o.push(function(e){return new be(function(n,t){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){n()},function(e,n){t(n)})})}(e.storeNames[i]));be.all(o).then(function(){n()}).catch(function(e){t(e)})},function(e){t(e)})})}):be.reject("Invalid arguments"),i(r,n),r}function ee(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function ne(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}function te(){return!ne()||localStorage.length>0}function re(e){var n=this,t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=ee(e,n._defaultConfig),te()?(n._dbInfo=t,t.serializer=We,be.resolve()):be.reject()}function oe(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return i(t,e),t}function ie(e,n){var t=this;e=u(e);var r=t.ready().then(function(){var n=t._dbInfo,r=localStorage.getItem(n.keyPrefix+e);return r&&(r=n.serializer.deserialize(r)),r});return i(r,n),r}function ae(e,n){var t=this,r=t.ready().then(function(){for(var n=t._dbInfo,r=n.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var f=localStorage.getItem(c);if(f&&(f=n.serializer.deserialize(f)),void 0!==(f=e(f,c.substring(o),a++)))return f}}});return i(r,n),r}function ue(e,n){var t=this,r=t.ready().then(function(){var n,r=t._dbInfo;try{n=localStorage.key(e)}catch(e){n=null}return n&&(n=n.substring(r.keyPrefix.length)),n});return i(r,n),r}function ce(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo,t=localStorage.length,r=[],o=0;o<t;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return i(t,e),t}function fe(e){var n=this,t=n.keys().then(function(e){return e.length});return i(t,e),t}function se(e,n){var t=this;e=u(e);var r=t.ready().then(function(){var n=t._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return i(r,n),r}function le(e,n,t){var r=this;e=u(e);var o=r.ready().then(function(){void 0===n&&(n=null);var t=n;return new be(function(o,i){var a=r._dbInfo;a.serializer.serialize(n,function(n,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,n),o(t)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return i(o,t),o}function de(e,n){if(n=c.apply(this,arguments),e="function"!=typeof e&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var r,o=this;return r=e.name?new be(function(n){n(e.storeName?ee(e,o._defaultConfig):e.name+"/")}).then(function(e){for(var n=localStorage.length-1;n>=0;n--){var t=localStorage.key(n);0===t.indexOf(e)&&localStorage.removeItem(t)}}):be.reject("Invalid arguments"),i(r,n),r}function ve(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function he(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Ge(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var be=Promise,me="local-forage-detect-blob-support",ge=void 0,_e={},we=Object.prototype.toString,Ie="readonly",Se="readwrite",Ee={_driver:"asyncStorage",_initStorage:j,_support:function(){try{if(!pe||!pe.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:A,getItem:R,setItem:O,removeItem:D,clear:x,length:B,key:k,keys:C,dropInstance:T},Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="~~local_forage_type~",Re=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",Oe=Ae.length,De="arbf",xe="blob",Be="si08",ke="ui08",Ce="uic8",Te="si16",Fe="si32",Le="ur16",Me="ui32",ze="fl32",Pe="fl64",qe=Oe+De.length,Ue=Object.prototype.toString,We={serialize:M,deserialize:z,stringToBuffer:F,bufferToString:L},Ke={_driver:"webSQLStorage",_initStorage:q,_support:function(){return"function"==typeof openDatabase}(),iterate:K,getItem:W,setItem:Q,removeItem:X,clear:G,length:J,key:V,keys:Y,dropInstance:$},He={_driver:"localStorageWrapper",_initStorage:re,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:ae,getItem:ie,setItem:le,removeItem:se,clear:oe,length:fe,key:ue,keys:ce,dropInstance:de},Qe=function(e,n){return e===n||"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n)},Xe=function(e,n){for(var t=e.length,r=0;r<t;){if(Qe(e[r],n))return!0;r++}return!1},Ge=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Je={},Ve={},Ye={INDEXEDDB:Ee,WEBSQL:Ke,LOCALSTORAGE:He},Ze=[Ye.INDEXEDDB._driver,Ye.WEBSQL._driver,Ye.LOCALSTORAGE._driver],$e=["dropInstance"],en=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat($e),nn={description:"",driver:Ze.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},tn=function(){function e(n){r(this,e);for(var t in Ye)if(Ye.hasOwnProperty(t)){var o=Ye[t],i=o._driver;this[t]=i,Je[i]||this.defineDriver(o)}this._defaultConfig=he({},nn),this._config=he({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ye(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e){if("storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof e[n])return new Error("Database version must be a number.");this._config[n]=e[n]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,t){var r=new be(function(n,t){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void t(o);for(var a=en.concat("_initStorage"),u=0,c=a.length;u<c;u++){var f=a[u];if((!Xe($e,f)||e[f])&&"function"!=typeof e[f])return void t(o)}!function(){for(var n=0,t=$e.length;n<t;n++){var r=$e[n];e[r]||(e[r]=function(e){return function(){var n=new Error("Method "+e+" is not implemented by the current driver"),t=be.reject(n);return i(t,arguments[arguments.length-1]),t}}(r))}}();var s=function(t){Je[r]&&console.info("Redefining LocalForage driver: "+r),Je[r]=e,Ve[r]=t,n()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(s,t):s(!!e._support):s(!0)}catch(e){t(e)}});return a(r,n,t),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,t){var r=Je[e]?be.resolve(Je[e]):be.reject(new Error("Driver not found."));return a(r,n,t),r},e.prototype.getSerializer=function(e){var n=be.resolve(We);return a(n,e),n},e.prototype.ready=function(e){var n=this,t=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return a(t,e,e),t},e.prototype.setDriver=function(e,n,t){function r(){u._config.driver=u.driver()}function o(e){return u._extend(e),r(),u._ready=u._initStorage(u._config),u._ready}function i(e){return function(){function n(){for(;t<e.length;){var i=e[t];return t++,u._dbInfo=null,u._ready=null,u.getDriver(i).then(o).catch(n)}r();var a=new Error("No available storage method found.");return u._driverSet=be.reject(a),u._driverSet}var t=0;return n()}}var u=this;Ge(e)||(e=[e]);var c=this._getSupportedDrivers(e),f=null!==this._driverSet?this._driverSet.catch(function(){return be.resolve()}):be.resolve();return this._driverSet=f.then(function(){var e=c[0];return u._dbInfo=null,u._ready=null,u.getDriver(e).then(function(e){u._driver=e._driver,r(),u._wrapLibraryMethodsWithReady(),u._initDriver=i(c)})}).catch(function(){r();var e=new Error("No available storage method found.");return u._driverSet=be.reject(e),u._driverSet}),a(this._driverSet,n,t),this._driverSet},e.prototype.supports=function(e){return!!Ve[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],t=0,r=e.length;t<r;t++){var o=e[t];this.supports(o)&&n.push(o)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,n=en.length;e<n;e++)ve(this,en[e])},e.prototype.createInstance=function(n){return new e(n)},e}(),rn=new tn;n.exports=rn},{3:3}]},{},[4])(4)});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],140:[function(require,module,exports){
function arrayEach(r,a){for(var e=-1,n=r.length;++e<n&&!1!==a(r[e],e,r););return r}module.exports=arrayEach;

},{}],141:[function(require,module,exports){
function arrayFilter(r,a){for(var e=-1,t=r.length,l=-1,n=[];++e<t;){var o=r[e];a(o,e,r)&&(n[++l]=o)}return n}module.exports=arrayFilter;

},{}],142:[function(require,module,exports){
function arrayMap(r,a){for(var e=-1,n=r.length,o=Array(n);++e<n;)o[e]=a(r[e],e,r);return o}module.exports=arrayMap;

},{}],143:[function(require,module,exports){
function baseAssign(e,s){return null==s?e:baseCopy(s,keys(s),e)}var baseCopy=require("lodash._basecopy"),keys=require("lodash.keys");module.exports=baseAssign;

},{"lodash._basecopy":146,"lodash.keys":171}],144:[function(require,module,exports){
function baseToString(r){return null==r?"":r+""}function baseCallback(r,e,t){var n=typeof r;return"function"==n?void 0===e?r:bindCallback(r,e,t):null==r?identity:"object"==n?baseMatches(r):void 0===e?property(r):baseMatchesProperty(r,e)}function baseGet(r,e,t){if(null!=r){void 0!==t&&t in toObject(r)&&(e=[t]);for(var n=0,a=e.length;null!=r&&n<a;)r=r[e[n++]];return n&&n==a?r:void 0}}function baseIsMatch(r,e,t){var n=e.length,a=n,i=!t;if(null==r)return!a;for(r=toObject(r);n--;){var o=e[n];if(i&&o[2]?o[1]!==r[o[0]]:!(o[0]in r))return!1}for(;++n<a;){o=e[n];var u=o[0],s=r[u],c=o[1];if(i&&o[2]){if(void 0===s&&!(u in r))return!1}else{var l=t?t(s,c,u):void 0;if(!(void 0===l?baseIsEqual(c,s,t,!0):l))return!1}}return!0}function baseMatches(r){var e=getMatchData(r);if(1==e.length&&e[0][2]){var t=e[0][0],n=e[0][1];return function(r){return null!=r&&(r[t]===n&&(void 0!==n||t in toObject(r)))}}return function(r){return baseIsMatch(r,e)}}function baseMatchesProperty(r,e){var t=isArray(r),n=isKey(r)&&isStrictComparable(e),a=r+"";return r=toPath(r),function(i){if(null==i)return!1;var o=a;if(i=toObject(i),(t||!n)&&!(o in i)){if(null==(i=1==r.length?i:baseGet(i,baseSlice(r,0,-1))))return!1;o=last(r),i=toObject(i)}return i[o]===e?void 0!==e||o in i:baseIsEqual(e,i[o],void 0,!0)}}function baseProperty(r){return function(e){return null==e?void 0:e[r]}}function basePropertyDeep(r){var e=r+"";return r=toPath(r),function(t){return baseGet(t,r,e)}}function baseSlice(r,e,t){var n=-1,a=r.length;e=null==e?0:+e||0,e<0&&(e=-e>a?0:a+e),t=void 0===t||t>a?a:+t||0,t<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=r[n+e];return i}function getMatchData(r){for(var e=pairs(r),t=e.length;t--;)e[t][2]=isStrictComparable(e[t][1]);return e}function isKey(r,e){var t=typeof r;return!!("string"==t&&reIsPlainProp.test(r)||"number"==t)||!isArray(r)&&(!reIsDeepProp.test(r)||null!=e&&r in toObject(e))}function isStrictComparable(r){return r===r&&!isObject(r)}function toObject(r){return isObject(r)?r:Object(r)}function toPath(r){if(isArray(r))return r;var e=[];return baseToString(r).replace(rePropName,function(r,t,n,a){e.push(n?a.replace(reEscapeChar,"$1"):t||r)}),e}function last(r){var e=r?r.length:0;return e?r[e-1]:void 0}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}function identity(r){return r}function property(r){return isKey(r)?baseProperty(r):basePropertyDeep(r)}var baseIsEqual=require("lodash._baseisequal"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray"),pairs=require("lodash.pairs"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reEscapeChar=/\\(\\)?/g;module.exports=baseCallback;

},{"lodash._baseisequal":150,"lodash._bindcallback":155,"lodash.isarray":166,"lodash.pairs":175}],145:[function(require,module,exports){
function baseCompareAscending(e,n){if(e!==n){var r=null===e,i=void 0===e,o=e===e,u=null===n,a=void 0===n,d=n===n;if(e>n&&!u||!o||r&&!a&&d||i&&d)return 1;if(e<n&&!r||!d||u&&!i&&o||a&&o)return-1}return 0}module.exports=baseCompareAscending;

},{}],146:[function(require,module,exports){
function baseCopy(e,o,r){r||(r={});for(var a=-1,n=o.length;++a<n;){var t=o[a];r[t]=e[t]}return r}module.exports=baseCopy;

},{}],147:[function(require,module,exports){
function baseForOwn(e,r){return baseFor(e,r,keys)}function baseProperty(e){return function(r){return null==r?void 0:r[e]}}function createBaseEach(e,r){return function(t,n){var o=t?getLength(t):0;if(!isLength(o))return e(t,n);for(var a=r?o:-1,c=toObject(t);(r?a--:++a<o)&&!1!==n(c[a],a,c););return t}}function createBaseFor(e){return function(r,t,n){for(var o=toObject(r),a=n(r),c=a.length,u=e?c:-1;e?u--:++u<c;){var s=a[u];if(!1===t(o[s],s,o))break}return r}}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function toObject(e){return isObject(e)?e:Object(e)}function isObject(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}var keys=require("lodash.keys"),MAX_SAFE_INTEGER=9007199254740991,baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor(),getLength=baseProperty("length");module.exports=baseEach;

},{"lodash.keys":171}],148:[function(require,module,exports){
function baseFilter(e,a){var r=[];return baseEach(e,function(e,s,t){a(e,s,t)&&r.push(e)}),r}var baseEach=require("lodash._baseeach");module.exports=baseFilter;

},{"lodash._baseeach":147}],149:[function(require,module,exports){
function createBaseFor(r){return function(e,a,o){for(var t=-1,n=Object(e),c=o(e),s=c.length;s--;){var u=c[r?s:++t];if(!1===a(n[u],u,n))break}return e}}var baseFor=createBaseFor();module.exports=baseFor;

},{}],150:[function(require,module,exports){
function isObjectLike(r){return!!r&&"object"==typeof r}function arraySome(r,e){for(var a=-1,t=r.length;++a<t;)if(e(r[a],a,r))return!0;return!1}function baseIsEqual(r,e,a,t,o,n){return r===e||(null==r||null==e||!isObject(r)&&!isObjectLike(e)?r!==r&&e!==e:baseIsEqualDeep(r,e,baseIsEqual,a,t,o,n))}function baseIsEqualDeep(r,e,a,t,o,n,u){var c=isArray(r),s=isArray(e),i=arrayTag,g=arrayTag;c||(i=objToString.call(r),i==argsTag?i=objectTag:i!=objectTag&&(c=isTypedArray(r))),s||(g=objToString.call(e),g==argsTag?g=objectTag:g!=objectTag&&(s=isTypedArray(e)));var b=i==objectTag,l=g==objectTag,f=i==g;if(f&&!c&&!b)return equalByTag(r,e,i);if(!o){var y=b&&hasOwnProperty.call(r,"__wrapped__"),T=l&&hasOwnProperty.call(e,"__wrapped__");if(y||T)return a(y?r.value():r,T?e.value():e,t,o,n,u)}if(!f)return!1;n||(n=[]),u||(u=[]);for(var j=n.length;j--;)if(n[j]==r)return u[j]==e;n.push(r),u.push(e);var p=(c?equalArrays:equalObjects)(r,e,a,t,o,n,u);return n.pop(),u.pop(),p}function equalArrays(r,e,a,t,o,n,u){var c=-1,s=r.length,i=e.length;if(s!=i&&!(o&&i>s))return!1;for(;++c<s;){var g=r[c],b=e[c],l=t?t(o?b:g,o?g:b,c):void 0;if(void 0!==l){if(l)continue;return!1}if(o){if(!arraySome(e,function(r){return g===r||a(g,r,t,o,n,u)}))return!1}else if(g!==b&&!a(g,b,t,o,n,u))return!1}return!0}function equalByTag(r,e,a){switch(a){case boolTag:case dateTag:return+r==+e;case errorTag:return r.name==e.name&&r.message==e.message;case numberTag:return r!=+r?e!=+e:r==+e;case regexpTag:case stringTag:return r==e+""}return!1}function equalObjects(r,e,a,t,o,n,u){var c=keys(r),s=c.length;if(s!=keys(e).length&&!o)return!1;for(var i=s;i--;){var g=c[i];if(!(o?g in e:hasOwnProperty.call(e,g)))return!1}for(var b=o;++i<s;){g=c[i];var l=r[g],f=e[g],y=t?t(o?f:l,o?l:f,g):void 0;if(!(void 0===y?a(l,f,t,o,n,u):y))return!1;b||(b="constructor"==g)}if(!b){var T=r.constructor,j=e.constructor;if(T!=j&&"constructor"in r&&"constructor"in e&&!("function"==typeof T&&T instanceof T&&"function"==typeof j&&j instanceof j))return!1}return!0}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}var isArray=require("lodash.isarray"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=baseIsEqual;

},{"lodash.isarray":166,"lodash.istypedarray":170,"lodash.keys":171}],151:[function(require,module,exports){
function baseReduce(e,u,n,c,o){return o(e,function(e,o,t){n=c?(c=!1,e):u(n,e,o,t)}),n}module.exports=baseReduce;

},{}],152:[function(require,module,exports){
function baseSortBy(r,e){var o=r.length;for(r.sort(e);o--;)r[o]=r[o].value;return r}module.exports=baseSortBy;

},{}],153:[function(require,module,exports){
function baseToString(n){return null==n?"":n+""}module.exports=baseToString;

},{}],154:[function(require,module,exports){
function baseValues(e,r){for(var a=-1,s=r.length,u=Array(s);++a<s;)u[a]=e[r[a]];return u}module.exports=baseValues;

},{}],155:[function(require,module,exports){
function bindCallback(n,t,r){if("function"!=typeof n)return identity;if(void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,c){return n.call(t,r,e,u,c)};case 5:return function(r,e,u,c,i){return n.call(t,r,e,u,c,i)}}return function(){return n.apply(t,arguments)}}function identity(n){return n}module.exports=bindCallback;

},{}],156:[function(require,module,exports){
function createAssigner(e){return restParam(function(r,a){var i=-1,t=null==r?0:a.length,l=t>2?a[t-2]:void 0,n=t>2?a[2]:void 0,o=t>1?a[t-1]:void 0;for("function"==typeof l?(l=bindCallback(l,o,5),t-=2):(l="function"==typeof o?o:void 0,t-=l?1:0),n&&isIterateeCall(a[0],a[1],n)&&(l=t<3?void 0:l,t=1);++i<t;){var s=a[i];s&&e(r,s,l)}return r})}var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");module.exports=createAssigner;

},{"lodash._bindcallback":155,"lodash._isiterateecall":158,"lodash.restparam":177}],157:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function getNative(t,o){var e=null==t?void 0:t[o];return isNative(e)?e:void 0}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var o=typeof t;return!!t&&("object"==o||"function"==o)}function isNative(t){return null!=t&&(isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t))}var funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=getNative;

},{}],158:[function(require,module,exports){
function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e="number"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;if("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=isIterateeCall;

},{}],159:[function(require,module,exports){
var reInterpolate=/<%=([\s\S]+?)%>/g;module.exports=reInterpolate;

},{}],160:[function(require,module,exports){
(function (global){(function (){
function checkGlobal(e){return e&&e.Object===Object?e:null}var objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:void 0,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:void 0,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();module.exports=root;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],161:[function(require,module,exports){
function assignWith(s,e,r){for(var i=-1,a=keys(e),n=a.length;++i<n;){var g=a[i],t=s[g],o=r(t,e[g],g,s,e);(o===o?o===t:t!==t)&&(void 0!==t||g in s)||(s[g]=o)}return s}var baseAssign=require("lodash._baseassign"),createAssigner=require("lodash._createassigner"),keys=require("lodash.keys"),assign=createAssigner(function(s,e,r){return r?assignWith(s,e,r):baseAssign(s,e)});module.exports=assign;

},{"lodash._baseassign":143,"lodash._createassigner":156,"lodash.keys":171}],162:[function(require,module,exports){
function escapeHtmlChar(t){return htmlEscapes[t]}function isObjectLike(t){return!!t&&"object"==typeof t}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toString(t){if("string"==typeof t)return t;if(null==t)return"";if(isSymbol(t))return Symbol?symbolToString.call(t):"";var o=t+"";return"0"==o&&1/t==-INFINITY?"-0":o}function escape(t){return t=toString(t),t&&reHasUnescapedHtml.test(t)?t.replace(reUnescapedHtml,escapeHtmlChar):t}var root=require("lodash._root"),INFINITY=1/0,symbolTag="[object Symbol]",reUnescapedHtml=/[&<>"'`]/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},objectProto=Object.prototype,objectToString=objectProto.toString,Symbol=root.Symbol,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=Symbol?symbolProto.toString:void 0;module.exports=escape;

},{"lodash._root":160}],163:[function(require,module,exports){
function filter(r,a,e){var l=isArray(r)?arrayFilter:baseFilter;return a=baseCallback(a,e,3),l(r,a)}var arrayFilter=require("lodash._arrayfilter"),baseCallback=require("lodash._basecallback"),baseFilter=require("lodash._basefilter"),isArray=require("lodash.isarray");module.exports=filter;

},{"lodash._arrayfilter":141,"lodash._basecallback":144,"lodash._basefilter":148,"lodash.isarray":166}],164:[function(require,module,exports){
function createForEach(a,r){return function(e,c,o){return"function"==typeof c&&void 0===o&&isArray(e)?a(e,c):r(e,bindCallback(c,o,3))}}var arrayEach=require("lodash._arrayeach"),baseEach=require("lodash._baseeach"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray"),forEach=createForEach(arrayEach,baseEach);module.exports=forEach;

},{"lodash._arrayeach":140,"lodash._baseeach":147,"lodash._bindcallback":155,"lodash.isarray":166}],165:[function(require,module,exports){
function isArguments(t){return isArrayLikeObject(t)&&hasOwnProperty.call(t,"callee")&&(!propertyIsEnumerable.call(t,"callee")||objectToString.call(t)==argsTag)}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable;module.exports=isArguments;

},{}],166:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function getNative(t,r){var e=null==t?void 0:t[r];return isNative(e)?e:void 0}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function isNative(t){return null!=t&&(isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t))}var arrayTag="[object Array]",funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeIsArray=getNative(Array,"isArray"),MAX_SAFE_INTEGER=9007199254740991,isArray=nativeIsArray||function(t){return isObjectLike(t)&&isLength(t.length)&&objToString.call(t)==arrayTag};module.exports=isArray;

},{}],167:[function(require,module,exports){
function isObjectLike(e){return!!e&&"object"==typeof e}function isElement(e){return!!e&&1===e.nodeType&&isObjectLike(e)&&!isPlainObject(e)}var isPlainObject=require("lodash.isplainobject");module.exports=isElement;

},{"lodash.isplainobject":169}],168:[function(require,module,exports){
function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}module.exports=isObject;

},{}],169:[function(require,module,exports){
function isObjectLike(o){return!!o&&"object"==typeof o}function baseForIn(o,e){return baseFor(o,e,keysIn)}function isPlainObject(o){var e;if(!isObjectLike(o)||objToString.call(o)!=objectTag||isArguments(o)||!hasOwnProperty.call(o,"constructor")&&"function"==typeof(e=o.constructor)&&!(e instanceof e))return!1;var t;return baseForIn(o,function(o,e){t=e}),void 0===t||hasOwnProperty.call(o,t)}var baseFor=require("lodash._basefor"),isArguments=require("lodash.isarguments"),keysIn=require("lodash.keysin"),objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=isPlainObject;

},{"lodash._basefor":149,"lodash.isarguments":165,"lodash.keysin":172}],170:[function(require,module,exports){
function isLength(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=MAX_SAFE_INTEGER}function isObjectLike(a){return!!a&&"object"==typeof a}function isTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[objectToString.call(a)]}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto=Object.prototype,objectToString=objectProto.toString;module.exports=isTypedArray;

},{}],171:[function(require,module,exports){
function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e="number"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&e<t}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function shimKeys(e){for(var t=keysIn(e),r=t.length,n=r&&e.length,s=!!n&&isLength(n)&&(isArray(e)||isArguments(e)),o=-1,i=[];++o<r;){var u=t[o];(s&&isIndex(u,n)||hasOwnProperty.call(e,u))&&i.push(u)}return i}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function keysIn(e){if(null==e)return[];isObject(e)||(e=Object(e));var t=e.length;t=t&&isLength(t)&&(isArray(e)||isArguments(e))&&t||0;for(var r=e.constructor,n=-1,s="function"==typeof r&&r.prototype===e,o=Array(t),i=t>0;++n<t;)o[n]=n+"";for(var u in e)i&&isIndex(u,t)||"constructor"==u&&(s||!hasOwnProperty.call(e,u))||o.push(u);return o}var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeKeys=getNative(Object,"keys"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length"),keys=nativeKeys?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&isArrayLike(e)?shimKeys(e):isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;

},{"lodash._getnative":157,"lodash.isarguments":165,"lodash.isarray":166}],172:[function(require,module,exports){
function isIndex(r,t){return r="number"==typeof r||reIsUint.test(r)?+r:-1,t=null==t?MAX_SAFE_INTEGER:t,r>-1&&r%1==0&&r<t}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isObject(r){var t=typeof r;return!!r&&("object"==t||"function"==t)}function keysIn(r){if(null==r)return[];isObject(r)||(r=Object(r));var t=r.length;t=t&&isLength(t)&&(isArray(r)||isArguments(r))&&t||0;for(var e=r.constructor,n=-1,o="function"==typeof e&&e.prototype===r,s=Array(t),i=t>0;++n<t;)s[n]=n+"";for(var u in r)i&&isIndex(u,t)||"constructor"==u&&(o||!hasOwnProperty.call(r,u))||s.push(u);return s}var isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,MAX_SAFE_INTEGER=9007199254740991;module.exports=keysIn;

},{"lodash.isarguments":165,"lodash.isarray":166}],173:[function(require,module,exports){
function baseMap(r,a){var e=-1,n=isArrayLike(r)?Array(r.length):[];return baseEach(r,function(r,t,s){n[++e]=a(r,t,s)}),n}function baseProperty(r){return function(a){return null==a?void 0:a[r]}}function isArrayLike(r){return null!=r&&isLength(getLength(r))}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function map(r,a,e){var n=isArray(r)?arrayMap:baseMap;return a=baseCallback(a,e,3),n(r,a)}var arrayMap=require("lodash._arraymap"),baseCallback=require("lodash._basecallback"),baseEach=require("lodash._baseeach"),isArray=require("lodash.isarray"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=map;

},{"lodash._arraymap":142,"lodash._basecallback":144,"lodash._baseeach":147,"lodash.isarray":166}],174:[function(require,module,exports){
function baseForOwn(e,a){return baseFor(e,a,keys)}function createObjectMapper(e){return function(a,r,s){var o={};return r=baseCallback(r,s,3),baseForOwn(a,function(a,s,b){var n=r(a,s,b);s=e?n:s,a=e?a:n,o[s]=a}),o}}var baseCallback=require("lodash._basecallback"),baseFor=require("lodash._basefor"),keys=require("lodash.keys"),mapValues=createObjectMapper();module.exports=mapValues;

},{"lodash._basecallback":144,"lodash._basefor":149,"lodash.keys":171}],175:[function(require,module,exports){
function toObject(e){return isObject(e)?e:Object(e)}function isObject(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}function pairs(e){e=toObject(e);for(var r=-1,t=keys(e),n=t.length,o=Array(n);++r<n;){var c=t[r];o[r]=[c,e[c]]}return o}var keys=require("lodash.keys");module.exports=pairs;

},{"lodash.keys":171}],176:[function(require,module,exports){
function arrayReduce(e,a,r,c){var u=-1,s=e.length;for(c&&s&&(r=e[++u]);++u<s;)r=a(r,e[u],u,e);return r}function createReduce(e,a){return function(r,c,u,s){var d=arguments.length<3;return"function"==typeof c&&void 0===s&&isArray(r)?e(r,c,u,d):baseReduce(r,baseCallback(c,s,4),u,d,a)}}var baseCallback=require("lodash._basecallback"),baseEach=require("lodash._baseeach"),baseReduce=require("lodash._basereduce"),isArray=require("lodash.isarray"),reduce=createReduce(arrayReduce,baseEach);module.exports=reduce;

},{"lodash._basecallback":144,"lodash._baseeach":147,"lodash._basereduce":151,"lodash.isarray":166}],177:[function(require,module,exports){
function restParam(r,t){if("function"!=typeof r)throw new TypeError(FUNC_ERROR_TEXT);return t=nativeMax(void 0===t?r.length-1:+t||0,0),function(){for(var a=arguments,e=-1,n=nativeMax(a.length-t,0),i=Array(n);++e<n;)i[e]=a[t+e];switch(t){case 0:return r.call(this,i);case 1:return r.call(this,a[0],i);case 2:return r.call(this,a[0],a[1],i)}var c=Array(t+1);for(e=-1;++e<t;)c[e]=a[e];return c[t]=i,r.apply(this,c)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam;

},{}],178:[function(require,module,exports){
function compareAscending(e,r){return baseCompareAscending(e.criteria,r.criteria)||e.index-r.index}function baseMap(e,r){var a=-1,n=isArrayLike(e)?Array(e.length):[];return baseEach(e,function(e,t,i){n[++a]=r(e,t,i)}),n}function baseProperty(e){return function(r){return null==r?void 0:r[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function sortBy(e,r,a){if(null==e)return[];a&&isIterateeCall(e,r,a)&&(r=void 0);var n=-1;r=baseCallback(r,a,3);var t=baseMap(e,function(e,a,t){return{criteria:r(e,a,t),index:++n,value:e}});return baseSortBy(t,compareAscending)}var baseCallback=require("lodash._basecallback"),baseCompareAscending=require("lodash._basecompareascending"),baseEach=require("lodash._baseeach"),baseSortBy=require("lodash._basesortby"),isIterateeCall=require("lodash._isiterateecall"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=sortBy;

},{"lodash._basecallback":144,"lodash._basecompareascending":145,"lodash._baseeach":147,"lodash._basesortby":152,"lodash._isiterateecall":158}],179:[function(require,module,exports){
function escapeStringChar(e){return"\\"+stringEscapes[e]}function isObjectLike(e){return!!e&&"object"==typeof e}function assignOwnDefaults(e,r,t,n){return void 0!==e&&hasOwnProperty.call(n,t)?e:r}function assignWith(e,r,t){for(var n=-1,a=keys(r),s=a.length;++n<s;){var i=a[n],o=e[i],p=t(o,r[i],i,e,r);(p===p?p===o:o!==o)&&(void 0!==o||i in e)||(e[i]=p)}return e}function baseAssign(e,r){return null==r?e:baseCopy(r,keys(r),e)}function isError(e){return isObjectLike(e)&&"string"==typeof e.message&&objToString.call(e)==errorTag}function template(e,r,t){var n=templateSettings.imports._.templateSettings||templateSettings;t&&isIterateeCall(e,r,t)&&(r=t=void 0),e=baseToString(e),r=assignWith(baseAssign({},t||r),n,assignOwnDefaults);var a,s,i=assignWith(baseAssign({},r.imports),n.imports,assignOwnDefaults),o=keys(i),p=baseValues(i,o),l=0,u=r.interpolate||reNoMatch,c="__p += '",g=RegExp((r.escape||reNoMatch).source+"|"+u.source+"|"+(u===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(r.evaluate||reNoMatch).source+"|$","g"),_="sourceURL"in r?"//# sourceURL="+r.sourceURL+"\n":"";e.replace(g,function(r,t,n,i,o,p){return n||(n=i),c+=e.slice(l,p).replace(reUnescapedString,escapeStringChar),t&&(a=!0,c+="' +\n__e("+t+") +\n'"),o&&(s=!0,c+="';\n"+o+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=p+r.length,r}),c+="';\n";var b=r.variable;b||(c="with (obj) {\n"+c+"\n}\n"),c=(s?c.replace(reEmptyStringLeading,""):c).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),c="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var h=attempt(function(){return Function(o,_+"return "+c).apply(void 0,p)});if(h.source=c,isError(h))throw h;return h}var baseCopy=require("lodash._basecopy"),baseToString=require("lodash._basetostring"),baseValues=require("lodash._basevalues"),isIterateeCall=require("lodash._isiterateecall"),reInterpolate=require("lodash._reinterpolate"),keys=require("lodash.keys"),restParam=require("lodash.restparam"),templateSettings=require("lodash.templatesettings"),errorTag="[object Error]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,attempt=restParam(function(e,r){try{return e.apply(void 0,r)}catch(e){return isError(e)?e:new Error(e)}});module.exports=template;

},{"lodash._basecopy":146,"lodash._basetostring":153,"lodash._basevalues":154,"lodash._isiterateecall":158,"lodash._reinterpolate":159,"lodash.keys":171,"lodash.restparam":177,"lodash.templatesettings":180}],180:[function(require,module,exports){
var escape=require("lodash.escape"),reInterpolate=require("lodash._reinterpolate"),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:{escape:escape}}};module.exports=templateSettings;

},{"lodash._reinterpolate":159,"lodash.escape":162}],181:[function(require,module,exports){
function render(e,r){return r=r||{},compile(e)(r)}function compile(e){for(var r,t=[],n=parse(e),o=0;o<n.length;++o)if(r=n[o],o%2==0)t.push('"'+r.replace(/"/g,'\\"')+'"');else switch(r[0]){case"/":r=r.slice(1),t.push(") + ");break;case"^":r=r.slice(1),assertProperty(r),t.push(' + section(obj, "'+r+'", true, ');break;case"#":r=r.slice(1),assertProperty(r),t.push(' + section(obj, "'+r+'", false, ');break;case"!":r=r.slice(1),assertProperty(r),t.push(" + obj."+r+" + ");break;default:assertProperty(r),t.push(" + escape(obj."+r+") + ")}return t="\n"+indent(escape.toString())+";\n\n"+indent(section.toString())+";\n\n  return "+t.join("").replace(/\n/g,"\\n"),new Function("obj",t)}function assertProperty(e){if(!e.match(/^[\w.]+$/))throw new Error('invalid property "'+e+'"')}function parse(e){return e.split(/\{\{|\}\}/)}function indent(e){return e.replace(/^/gm,"  ")}function section(e,r,t,n){var o=e[r];return"function"==typeof o?o.call(e,n):(t&&(o=!o),o?n:"")}function escape(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}exports=module.exports=render,exports.compile=compile;

},{}],182:[function(require,module,exports){
function _delta(t,e){var n,a;return n=Date.now(),a=n-this.now,a=Math.min(a,MAX_DT),a=Math.max(a,MIN_DT),this.elapsed+=a,this.now=n,a}function _start(){this.now=Date.now()}function _reset(){this.now=0,this.elapsed=0}function _getValue(t){return this[t]}var MAX_DT=60,MIN_DT=1e3/60;module.exports=function(){var t={now:0,elapsed:0};return{start:_start.bind(t),reset:_reset.bind(t),now:_getValue.bind(t,"now"),elapsed:_getValue.bind(t,"elapsed"),delta:_delta.bind(t)}};

},{}],183:[function(require,module,exports){
function _startFn(t,e,r){return function(){r.started||(r.clockStarted||e.start(),t(),r.started=!0)}}function _stopFn(t){return function(){Raf.cancel(t.rafHandle),t.started=!1}}function _loopFn(t,e,r,n){var a={dt:0,unitDt:0,now:0,elapsed:0};return function o(){n.rafHandle=Raf.invoke(o),a.dt=e.delta(),a.unitDt=a.dt/16.66666667,a.now=e.now(),a.elapsed=e.elapsed(),r(a),t.emit("update",a),t.emit("updatedone",a),t.emit("draw",a),t.emit("drawdone",a)}}var Raf=require("./raf")(),EventEmitter=require("events").EventEmitter,CreateClock=require("./clock"),passThrough=function(t){return t};module.exports=function(t){var e,r;"object"==typeof t&&(e=t.emitter,r=t.customizeEvent),e=e||new EventEmitter,r=r||passThrough;var n=CreateClock(),a={clockStarted:!1,started:!1,rafHandle:null};return{start:_startFn(_loopFn(e,n,r,a),n,a),stop:_stopFn(a),reset:n.reset,emitter:e}};

},{"./clock":182,"./raf":184,"events":4}],184:[function(require,module,exports){
function _getNativeRAF(){for(var n=window.requestAnimationFrame,e=window.cancelAnimationFrame,i=["ms","moz","webkit","o"],o=0;!n&&o<i.length;++o)n=window[i[o]+"RequestAnimationFrame"],e=window[i[o]+"CancelAnimationFrame"]||window[i[o]+"CancelRequestAnimationFrame"];return{invoke:n.bind(window),cancel:e.bind(window)}}function _invokeFn(){var n=0;return function(e,i){var o=(new Date).getTime(),t=Math.max(0,16-(o-n)),a=window.setTimeout(function(){e(o+t)},t);return n=o+t,a}}function _cancel(n){clearTimeout(n)}module.exports=function(){var n=_getNativeRAF();return n.invoke=n.invoke?n.invoke:_invokeFn(),n.cancel=n.cancel?n.cancel:_cancel(),{invoke:function(e){return n.invoke(e)},cancel:function(e){n.cancel(e)}}};

},{}],185:[function(require,module,exports){
var EventEmitter=require("events").EventEmitter,IsObject=require("lodash.isobject"),Each=require("lodash.foreach"),Extend=require("lodash.assign"),load=function(e,t,n,r){return function(s){var i=this.slug,a=e[s],o=this.manifest;if(!IsObject(a))return!1;this.slug&&r.emit("unload",{slug:i,manifest:o});var u=n(a,s);return parseManifest(t,u),parseManifest(a,u),this.manifest=a,this.slug=s,r.emit("load",{slug:s,globalManifest:t,manifest:a,graph:u}),u}},parseManifest=function(e,t){return Each(e.components,function(e,n){var r;IsObject(e)?(r=IsObject(e.properties)?e.properties:{},IsObject(e.function)?t[n]=e.function(t,r):IsObject(e.construct)?t[n]=new e.construct(t,r):t[n]=e):t[n]=e}),t},createBlankObject=function(){return{}};module.exports=function(e,t){var n=Extend({globalManifest:{},getGraph:createBlankObject,emitter:new EventEmitter},t),r=Object.preventExtensions({slug:null,manifest:null});return{load:load(e,n.globalManifest,n.getGraph,n.emitter).bind(r),emitter:n.emitter}};

},{"events":4,"lodash.assign":161,"lodash.foreach":164,"lodash.isobject":168}],186:[function(require,module,exports){
var Map=require("lodash.map"),colors={hexToArray:function(r){var o=colors.hexToString(r);return[parseInt(o[1]+o[2],16),parseInt(o[3]+o[4],16),parseInt(o[5]+o[6],16)]},arrayToHex:function(r){var o=Map(r,function(r){var o=parseInt(r,10).toString(16);return o.length>1?o:"0"+o}).join("");return parseInt(o,16)},lightness:function(r,o){if("number"!=typeof r)throw new Error("hexColor must be in the form of 0x54AFFF");if(r<0||r>16777215)throw new Error("hexColor is out of range");var n=colors.hexToArray(r),e=255;o<0&&(o*=-1,e=0);var t=Map(n,function(r){return r*(1-o)+e*o});return colors.arrayToHex(t)},mix:function(r,o,n){var e=colors.hexToArray(r),t=colors.hexToArray(o),a=Map(e,function(r,o){return r*(1-n)+t[o]*n});return colors.arrayToHex(a)},hexToString:function(r){for(var o=parseInt(r,10).toString(16);o.length<6;)o="0"+o;return"#"+o}};module.exports=colors;

},{"lodash.map":173}],187:[function(require,module,exports){
(function (Buffer){(function (){
var insertCss=require("insert-css"),ClassList=require("class-list"),EventEmitter=require("events").EventEmitter,colors=require("./colors"),Pairs=require("lodash.pairs"),Filter=require("lodash.filter"),SortBy=require("lodash.sortby"),ForEach=require("lodash.foreach"),Template=require("lodash.template"),MapValues=require("lodash.mapvalues"),Reduce=require("lodash.reduce"),IsElement=require("lodash.iselement"),Extend=require("lodash.assign"),_menuTemplate=null,_cssTemplate=null,_levelTemplate=null,sortAndFilterManifests=function(C){var g=Pairs(C),b=Filter(g,function(C){return!1!==C[1].visible});return SortBy(b,function(C){return C[1].order})},handlers=function(){var C=ClassList(document.body),g=!1,b=null,l=!1,t=function(C){C&&C.preventDefault(),g?I():e()},I=function(){C.remove("poem-menu-open"),b.emit("close"),g=!1},e=function(){C.add("poem-menu-open"),b.emit("open"),g=!0},o=function(C){b.emit("load",{slug:this.getAttribute("data-slug")}),I()};return function(C,g,W){b=g,l=C.preventDefault,W.getElementsByClassName("poem-menu-burger")[0].addEventListener("click",t,!1);var A=W.getElementsByClassName("poem-menu-levels")[0].getElementsByTagName("a");return ForEach(A,function(C){C.addEventListener("click",o,!1)}),W.getElementsByClassName("poem-menu-blocker")[0].addEventListener("click",I,!1),window.addEventListener("keydown",function(g){g.keyCode===C.toggleKey&&t(g)}),{close:I,open:e}}}(),loadTemplatesOnce=function(){var C=!0;return function(){C&&(C=!1,_menuTemplate=Template(Buffer("PGRpdiBjbGFzcz0ncG9lbS1tZW51Jz4KCQoJPGEgY2xhc3M9InBvZW0tbWVudS1idXJnZXIiIGhyZWY9IiNtZW51IiB0aXRsZT0nSGl0IEVTQyBrZXkgdG8gb3Blbi9jbG9zZSc+CgkJPGRpdiBjbGFzcz0icG9lbS1tZW51LWJ1cmdlci1iYXJzIj48L2Rpdj4KCTwvYT4KCQoJPGRpdiBjbGFzcz0ncG9lbS1tZW51LXRvcCc+PC9kaXY+CgkKCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1taWRkbGUnPgoJCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1sZXZlbHMtdG9wJz48L2Rpdj4KCQk8ZGl2IGNsYXNzPSdwb2VtLW1lbnUtbGV2ZWxzJz4KCQkJPCU9IGxldmVscyAlPgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1sZXZlbHMtYm90dG9tJz48L2Rpdj4KCTwvZGl2PgoJCQoJPGRpdiBjbGFzcz0ncG9lbS1tZW51LWJvdHRvbSc+PC9kaXY+CgkKPC9kaXY+CjxkaXYgY2xhc3M9J3BvZW0tbWVudS1ibG9ja2VyJz48L2Rpdj4=","base64")),_levelTemplate=Template(Buffer("PGEgaHJlZj0nIy88JS0gc2x1ZyAlPicgZGF0YS1zbHVnPSc8JS0gc2x1ZyAlPicgY2xhc3M9J3BvZW0tbWVudS1sZXZlbCc+Cgk8aDIgY2xhc3M9J3BvZW0tbWVudS1sZXZlbC1uYW1lJz48JS0gbWFuaWZlc3QubmFtZSAlPjwvaDE+Cgk8ZGl2IGNsYXNzPSdwb2VtLW1lbnUtbGV2ZWwtZGVzY3JpcHRpb24nPjwlLSBtYW5pZmVzdC5kZXNjcmlwdGlvbiAlPjwvZGl2Pgo8L2E+","base64")),_cssTemplate=Template(Buffer("LnBvZW0tbWVudSwKLnBvZW0tbWVudSAqLAoucG9lbS1tZW51ICo6YmVmb3JlLAoucG9lbS1tZW51ICo6YWZ0ZXIgewoJLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OyAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLnBvZW0tbWVudSBhIHsKCWNvbG9yOiA8JT0gcHJpbWFyeSAlPjsKfQoucG9lbS1tZW51IHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMDBweCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMzAwcHgpOwogICAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTMwMHB4KTsKICAgICAgICAgLW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMDBweCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMzAwcHgpOwogICAgdHJhbnNpdGlvbjogNTAwbXM7CiAgICB3aWR0aDogMzAwcHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCA8JT0gbWVudUxpZ2h0ICU+OwogICAgYmFja2dyb3VuZDogPCU9IG1lbnVEYXJrICU+OwogICAgcGFkZGluZzogMWVtOwoJei1pbmRleDoxMDE7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwogICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgIGJveC1zaGFkb3c6IDAgMCAyZW0gcmdiYSgwLCAwLCAwLCAwLjE5KTsKfQoucG9lbS1tZW51LWJsb2NrZXIgewoJaGVpZ2h0OjA7Cgl3aWR0aDoxMDAlOwoJcG9zaXRpb246YWJzb2x1dGU7Cgl0b3A6MDsKCWxlZnQ6MDsKCXotaW5kZXg6MTAwOwoJY3Vyc29yOiBwb2ludGVyOwogICAgYmFja2dyb3VuZDogPCU9IG1lbnUgJT47CglvcGFjaXR5OjA7Cgktd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgLW1zLXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgIC1vLXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUtYmxvY2tlciB7CgloZWlnaHQ6MTAwJTsKCW9wYWNpdHk6MC43Owp9Ci5wb2VtLW1lbnUtb3BlbiAucG9lbS1tZW51LWNvbnRhaW5lciB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICBvcGFjaXR5OiAwLjM7Cn0KLnBvZW0tbWVudS1jb250YWluZXIgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CgkgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCSAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwoJICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CgkgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCWhlaWdodDogMTAwJTsKCXRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcywgb3BhY2l0eSA1MDBtczsKCXdpZHRoOiAxMDAlOwoJcG9zaXRpb246IGFic29sdXRlOwoJei1pbmRleDowOwp9Ci5wb2VtLW1lbnUtYnVyZ2VyIHsKCXBhZGRpbmc6IDEuNWVtIDAuNWVtOwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiAwOwoJcmlnaHQ6IDA7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7Cgktd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDUwMG1zOwoJICAgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSA1MDBtczsKCSAgICAtbXMtdHJhbnNpdGlvbjogLW1zLXRyYW5zZm9ybSA1MDBtczsKCSAgICAgLW8tdHJhbnNpdGlvbjogLW8tdHJhbnNmb3JtIDUwMG1zOwoJICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXM7Cn0KLnBvZW0tbWVudS1idXJnZXItYmFycyB7CglkaXNwbGF5OmJsb2NrOwoJaGVpZ2h0OjAuM2VtOwoJd2lkdGg6MmVtOwoJYmFja2dyb3VuZDogPCU9IGhhbWJ1cmdlciAlPjsKCXBvc2l0aW9uOnJlbGF0aXZlOwoJY3Vyc29yOiBwb2ludGVyOwoJLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAtbXMtdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgICAtby10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjY2czsKfQoucG9lbS1tZW51LWJ1cmdlci1iYXJzOmFmdGVyIHsKCWNvbnRlbnQ6Jyc7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCXRvcDowLjhlbTsKCXdpZHRoOjJlbTsKCWhlaWdodDowLjNlbTsKCWJhY2tncm91bmQ6IDwlPSBoYW1idXJnZXIgJT47Cgktd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNjZzOwp9Ci5wb2VtLW1lbnUtYnVyZ2VyLWJhcnM6YmVmb3JlIHsKCWNvbnRlbnQ6Jyc7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCXRvcDotMC44ZW07Cgl3aWR0aDoyZW07CgloZWlnaHQ6MC4zZW07CgliYWNrZ3JvdW5kOjwlPSBoYW1idXJnZXIgJT47Cgktd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNjZzOwp9CgoucG9lbS1tZW51LW9wZW4gLnBvZW0tbWVudS1idXJnZXItYmFycyB7CgliYWNrZ3JvdW5kOnRyYW5zcGFyZW50Owp9Ci5wb2VtLW1lbnUtb3BlbiAucG9lbS1tZW51LWJ1cmdlci1iYXJzOmJlZm9yZSB7Cgktd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMjI1ZGVnKTsKCSAgIC1tb3otdHJhbnNmb3JtOnJvdGF0ZSgyMjVkZWcpOwoJICAgIC1tcy10cmFuc2Zvcm06cm90YXRlKDIyNWRlZyk7CgkgICAgIC1vLXRyYW5zZm9ybTpyb3RhdGUoMjI1ZGVnKTsKCSAgICAgICAgdHJhbnNmb3JtOnJvdGF0ZSgyMjVkZWcpOwoJdG9wOjA7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUtYnVyZ2VyLWJhcnM6YWZ0ZXIgewoJLXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgLW1vei10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgIC1tcy10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgICAtby10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgICAgICB0cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJdG9wOjA7Cn0KLnBvZW0tbWVudS1ib3R0b20gewoJcG9zaXRpb246IGFic29sdXRlOwoJYm90dG9tOiAwOwoJd2lkdGg6IDEwMCU7CglsZWZ0OiAwOwoJcGFkZGluZzogMWVtOwp9Ci5wb2VtLW1lbnUtYm90dG9tLW11dGUgewoJdGV4dC1hbGlnbjpyaWdodDsKfQoucG9lbS1tZW51LWJvdHRvbS1tdXRlIGltZyB7Cgl3aWR0aDo2MHB4Owp9Ci5wb2VtLW1lbnUtYm90dG9tLXJlc2V0IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCWJvdHRvbToxLjNlbTsKCWxlZnQ6MWVtOwp9Ci5wb2VtLW1lbnUtdG9wIHsKICAgIGNvbG9yOiA8JT0gcHJpbWFyeSAlPjsKICAgIGZvbnQtc2l6ZTogMS43ZW07CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBmb250LXdlaWdodDogODAwOwogICAgbGluZS1oZWlnaHQ6IDEuMjsKICAgIG1hcmdpbi10b3A6IDAuMWVtOwp9Ci5wb2VtLW1lbnUtbWlkZGxlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDA7CiAgICByaWdodDogMDsKICAgIHRvcDogNC40ZW07CiAgICBib3R0b206IDVlbTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgcGFkZGluZzogMWVtOwogICAgYmFja2dyb3VuZDogPCU9IG1lbnUgJT47CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgPCU9IG1lbnVMaWdodCAlPjsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCA8JT0gbWVudURhcmsgJT47Cn0KLnBvZW0tbWVudS1sZXZlbC1uYW1lIHsKICAgIG1hcmdpbjogMDsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7CiAgICBmb250LXNpemU6IDEuMWVtOwogICAgbWFyZ2luLWJvdHRvbTogMC4zZW07Cgljb2xvcjogPCU9IHByaW1hcnkgJT4KfQphOmhvdmVyIC5wb2VtLW1lbnUtbGV2ZWwtbmFtZSB7Cgljb2xvcjogPCU9IHByaW1hcnlBY3RpdmUgJT4KfQoucG9lbS1tZW51LWxldmVsLWRlc2NyaXB0aW9uIHsKICAgIGNvbG9yOiA8JT0gdGV4dCAlPjsKICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgZm9udC1zaXplOiAwLjhlbTsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7Cn0KYTpob3ZlciAucG9lbS1tZW51LWxldmVsLWRlc2NyaXB0aW9uIHsKCWNvbG9yOiA8JT0gdGV4dEFjdGl2ZSAlPgp9CgphLnBvZW0tbWVudS1sZXZlbCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJvcmRlcjogMXB4IHNvbGlkIDwlPSBsZXZlbEFjdGl2ZSAlPjsKICAgIG1hcmdpbjogMS4zZW0gMDsKICAgIHBhZGRpbmc6IDAuNWVtOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgYm94LXNoYWRvdzogMCAwIDAuOWVtIHJnYmEoMCwgMCwgMCwgMC4yMik7CiAgICBiYWNrZ3JvdW5kOiA8JT0gbGV2ZWwgJT47CiAgICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDIwMG1zOwogICAgICAgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSAyMDBtczsKICAgICAgICAtbXMtdHJhbnNpdGlvbjogLW1zLXRyYW5zZm9ybSAyMDBtczsKICAgICAgICAgLW8tdHJhbnNpdGlvbjogLW8tdHJhbnNmb3JtIDIwMG1zOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXM7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7Cn0KYS5wb2VtLW1lbnUtbGV2ZWwtdGl0bGVzIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKCXBhZGRpbmc6IDAuNGVtOwoJbWFyZ2luLXRvcDogMC41ZW07Cn0KYS5wb2VtLW1lbnUtbGV2ZWw6aG92ZXIgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMDE1KTsKICAgICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgxLjAxNSk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMS4wMTUpOwogICAgICAgICAtby10cmFuc2Zvcm06IHNjYWxlKDEuMDE1KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjAxNSk7Cn0KQG1lZGlhIChtYXgtd2lkdGg6NDAwcHgpIHsKCS5wb2VtLW1lbnUgewoJICAgIGZvbnQtc2l6ZTogMC44NWVtOwoJfQoJLnBvZW0tbWVudS1vcGVuIC5idXJnZXItd3JhcHBlciB7CgkgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTAuMWVtKTsKCSAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMC4xZW0pOwoJICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0wLjFlbSk7CgkgICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTAuMWVtKTsKCSAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMC4xZW0pOwoJfQoJCgkucG9lbS1tZW51LXRvcCB7CgkgICAgdGV4dC1hbGlnbjogbGVmdDsKCSAgICBmb250LXNpemU6IDIuMWVtOwoJfQoJLnBvZW0tbWVudS1taWRkbGUgewoJICAgIHRvcDogNC44ZW07CgkgICAgYm90dG9tOiAzLjVlbTsKCX0KfQ==","base64")))}}(),runCssTemplates=function(C){var g=C.primaryColor>C.menuColor?1:-1,b=_cssTemplate(MapValues({hamburger:C.hamburgerColor,primaryActive:C.primaryColor,text:C.textColor,menu:C.menuColor,textActive:colors.lightness(C.textColor,.1*g),menuDark:colors.lightness(C.menuColor,-.2*g),menuLight:colors.lightness(C.menuColor,.2*g),primary:colors.mix(C.primaryColor,C.menuColor,.2),level:colors.mix(C.primaryColor,C.menuColor,.9),levelActive:colors.mix(C.primaryColor,C.menuColor,.6)},colors.hexToString));insertCss(b)},runHtmlTemplates=function(C,g){function b(C,g){IsElement(g)?C.appendChild(g):C.innerHTML=g}var l=Reduce(C,function(C,g){return C+_levelTemplate({slug:g[0],manifest:g[1]})},""),t=_menuTemplate({levels:l}),I=document.createElement("div");return I.innerHTML=t,b(I.getElementsByClassName("poem-menu-top")[0],g.top),b(I.getElementsByClassName("poem-menu-levels-top")[0],g.beforeLevels),b(I.getElementsByClassName("poem-menu-levels-bottom")[0],g.afterLevels),b(I.getElementsByClassName("poem-menu-bottom")[0],g.bottom),document.body.insertBefore(I,document.body.firstChild),I};module.exports=function(C,g){loadTemplatesOnce();var b=Extend({hamburgerColor:16777215,primaryColor:5550079,textColor:10471137,menuColor:2567732,top:"Poem",beforeLevels:"",afterLevels:"",bottom:"",preventDefaultLevelLinks:!0,toggleKey:27},g),l=new EventEmitter,t=sortAndFilterManifests(C);runCssTemplates(b);var I=runHtmlTemplates(t,b),e=handlers(b,l,I);return{emitter:l,close:e.close,open:e.open}};

}).call(this)}).call(this,require("buffer").Buffer)

},{"./colors":186,"buffer":3,"class-list":96,"events":4,"insert-css":137,"lodash.assign":161,"lodash.filter":163,"lodash.foreach":164,"lodash.iselement":167,"lodash.mapvalues":174,"lodash.pairs":175,"lodash.reduce":176,"lodash.sortby":178,"lodash.template":179}],188:[function(require,module,exports){
var localforage=require("localforage"),EventEmitter=require("events").EventEmitter,muteUI=require("./ui"),extend=require("extend"),dispatchChanged=function(e,t){e.emit("change",t),!0===t?e.emit("mute"):e.emit("unmute")},updateFromLocalStorage=function(e,t){localforage.getItem("poem-mute",function(t,u){e.muted();t||!1!==u&&!0!==u?e.muted(!1):e.muted(u)}.bind(this))},keyboardShortcut=function(e,t,u){!1!==u.keyCode&&window.addEventListener("keydown",function(e){e.keyCode===u.keyCode&&t()})},getSetMuted=function(e,t){return function(u){return!0!==u&&!1!==u||u!==e.muted&&(e.muted=u,localforage.setItem("poem-mute",e.muted),dispatchChanged(t,e.muted)),e.muted}},mute=function(e){var t=extend({muted:!1,keyCode:83}),u={muted:t.muted},n=new EventEmitter,o=getSetMuted(u,n),d=function(){o(!o())};keyboardShortcut(u,d,t);var r={muted:o,toggle:d,emitter:n,el:null};return updateFromLocalStorage(r,n),r.el=muteUI(r),r};module.exports=mute;

},{"./ui":190,"events":4,"extend":189,"localforage":139}],189:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===toStr.call(r)},isPlainObject=function(r){"use strict";if(!r||"[object Object]"!==toStr.call(r))return!1;var t=hasOwn.call(r,"constructor"),e=r.constructor&&r.constructor.prototype&&hasOwn.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!t&&!e)return!1;var o;for(o in r);return void 0===o||hasOwn.call(r,o)},setProperty=function(r,t){defineProperty&&"__proto__"===t.name?defineProperty(r,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):r[t.name]=t.newValue},getProperty=function(r,t){if("__proto__"===t){if(!hasOwn.call(r,t))return;if(gOPD)return gOPD(r,t).value}return r[t]};module.exports=function r(){"use strict";var t,e,o,n,a,i,c=arguments[0],u=1,l=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},u=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});u<l;++u)if(null!=(t=arguments[u]))for(e in t)o=getProperty(c,e),n=getProperty(t,e),c!==n&&(p&&n&&(isPlainObject(n)||(a=isArray(n)))?(a?(a=!1,i=o&&isArray(o)?o:[]):i=o&&isPlainObject(o)?o:{},setProperty(c,{name:e,newValue:r(p,i,n)})):void 0!==n&&setProperty(c,{name:e,newValue:n}));return c};

},{}],190:[function(require,module,exports){
(function (Buffer){(function (){
function createElement(L,M){var j=document.createElement("div");return j.innerHTML=L,j.getElementsByClassName(M)[0]}var ClassList=require("class-list"),insertCss=require("insert-css"),_html=Buffer("PGEgaHJlZj0nI211dGUnIGlkPSdwb2VtLW11dGUnIGNsYXNzPSdwb2VtLW11dGUnIHRpdGxlPSdIaXQgUyBrZXkgdG8gbXV0ZSc+Cgk8c3ZnIGNsYXNzPSdwb2VtLW11dGUtc3ZnJyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJCSB2aWV3Qm94PSIwIDAgNjQwIDQxNC40IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA2NDAgNDE0LjQiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS1zcGVha2VyJwoJCWQ9Ik0yOTQuNCwzNzlsLTExMi41LTc4LjljLTMuOC0yLjctOC4zLTQuMS0xMy00LjFINzMuNkM2MS4xLDI5Niw1MSwyODUuOSw1MSwyNzMuNFYxNDIuNmMwLTEyLjUsMTAuMS0yMi42LDIyLjYtMjIuNmg5Ni4yCgkJYzQuNywwLDkuMi0xLjQsMTMuMS00LjFsMTExLjUtNzguN2MxNS0xMC42LDM1LjcsMC4xLDM1LjcsMTguNXYzMDQuOEMzMzAsMzc4LjgsMzA5LjQsMzg5LjUsMjk0LjQsMzc5eiIvPgoJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS14JwoJCWQ9Ik01NjUuMywyNjkuM2wtNTkuMS01OS4xbDU5LjEtNTkuMWM3LjEtNy4xLDcuMS0xOC43LDAtMjUuOGMtNy4xLTcuMS0xOC43LTcuMS0yNS44LDBsLTU5LjEsNTkuMWwtNTkuMS01OS4xCgkJYy03LjEtNy4xLTE4LjctNy4xLTI1LjgsMGwwLDBjLTcuMSw3LjEtNy4xLDE4LjcsMCwyNS44bDU5LjEsNTkuMWwtNTkuMSw1OS4xYy03LjEsNy4xLTcuMSwxOC43LDAsMjUuOGM3LjEsNy4xLDE4LjcsNy4xLDI1LjgsMAoJCWw1OS4xLTU5LjFsNTkuMSw1OS4xYzcuMSw3LjEsMTguNyw3LjEsMjUuOCwwdjBDNTcyLjQsMjg3LjksNTcyLjQsMjc2LjQsNTY1LjMsMjY5LjN6Ii8+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS13YXZlJwoJCQkJZD0iTTM5NS4yLDMxNC4yYy02LjMsMC0xMi40LTMuNy0xNS4xLTkuOGMtMi44LTYuNS0xLjItMTMuNywzLjUtMTguNGMwLjUtMC42LDEtMS4yLDEuNi0xLjhjMi4yLTIuMiw0LjMtMy42LDYuMS00LjcKCQkJCWMxLTEuMSwyLTIuMiwzLTMuM2MxLjctMS44LDMuNC0zLjcsNS4zLTUuN2MxNi42LTE5LjksMjQuNC00Ni43LDIxLjYtNzMuN2MtMi44LTI2LjktMTYtNTEuMy0zNi4yLTY2LjljLTcuMi01LjYtOC41LTE1LjktMy0yMy4xCgkJCQljNS42LTcuMiwxNS45LTguNSwyMy4xLTNjMjcuMywyMS4xLDQ1LjEsNTMuNyw0OC44LDg5LjZjMy44LDM2LjEtNyw3Mi4yLTI5LjYsOTlsLTAuNCwwLjVsLTAuNSwwLjVjLTEuNiwxLjYtMy4xLDMuMi00LjcsNQoJCQkJYy0xLjgsMi0zLjcsNC4xLTUuOSw2LjNsLTEuOSwxLjlsLTIuNCwxLjJjMCwwLDAsMC0wLjEsMGMtMS40LDEuNy0zLjUsMy44LTYuOSw1LjJDMzk5LjcsMzEzLjgsMzk3LjUsMzE0LjIsMzk1LjIsMzE0LjJ6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ncG9lbS1tdXRlLXdhdmUnCgkJCQlkPSJNNDM4LjYsMzU2LjJjLTYuMywwLTEyLjQtMy43LTE1LjEtOS44Yy0yLjktNi42LTEuMS0xNC4xLDMuOS0xOC44YzAuNS0wLjcsMS4yLTEuNiwyLjEtMi40YzMtMyw1LjktNC44LDguMy02LjIKCQkJCWMxLjgtMS45LDMuNi0zLjgsNS40LTUuOWMyLjQtMi43LDQuOS01LjUsNy44LTguNGMyNS43LTMwLjcsMzcuOS03Mi4xLDMzLjUtMTEzLjhjLTQuNC00MS41LTI0LjgtNzkuMS01NS45LTEwMy4yCgkJCQljLTcuMi01LjYtOC41LTE1LjktMy0yMy4xYzUuNi03LjIsMTUuOS04LjUsMjMuMS0zYzM4LjIsMjkuNiw2My4yLDc1LjQsNjguNiwxMjUuOGM1LjQsNTAuOC05LjgsMTAxLjUtNDEuNiwxMzkuMWwtMC40LDAuNQoJCQkJbC0wLjUsMC41Yy0yLjQsMi40LTQuNyw1LTcuMSw3LjZjLTIuNiwyLjktNS4yLDUuOC04LjMsOC45bC0xLjksMS45bC0yLjQsMS4yYy0wLjgsMC40LTEuNCwwLjctMS43LDAuOWMtMS4zLDEuOS0zLjgsNC44LTguMSw2LjYKCQkJCUM0NDMsMzU1LjcsNDQwLjgsMzU2LjIsNDM4LjYsMzU2LjJ6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ncG9lbS1tdXRlLXdhdmUnCgkJCQlkPSJNNDgzLjYsMzk1LjZjLTYuMywwLTEyLjQtMy43LTE1LjEtOS44Yy0zLTYuNy0xLjEtMTQuNCw0LjItMTljMC42LTAuOSwxLjQtMS45LDIuNS0yLjljMy43LTMuNyw3LjMtNS45LDEwLjMtNy41CgkJCQljMi42LTIuNyw1LTUuNCw3LjYtOC4zYzMuMi0zLjUsNi40LTcuMSwxMC4xLTEwLjhjMzQuMy00MC44LDUwLjYtOTYsNDQuOC0xNTEuNmMtNS44LTU1LjItMzMtMTA1LjItNzQuNS0xMzcuMwoJCQkJYy03LjItNS42LTguNS0xNS45LTMtMjMuMWM1LjYtNy4yLDE1LjktOC41LDIzLjEtM2M0OC42LDM3LjYsODAuMyw5NS45LDg3LjEsMTYwYzYuOCw2NC43LTEyLjQsMTI5LjEtNTIuOCwxNzYuOWwtMC40LDAuNQoJCQkJbC0wLjUsMC41Yy0zLjMsMy4zLTYuMiw2LjYtOS40LDEwLjFjLTMuMywzLjctNi43LDcuNS0xMC42LDExLjNsLTEuOSwxLjlsLTIuNCwxLjJjLTEuOCwwLjktMi44LDEuNC0zLjYsMgoJCQkJYy0xLjMsMi0zLjksNS41LTguOSw3LjdDNDg4LjEsMzk1LjIsNDg1LjgsMzk1LjYsNDgzLjYsMzk1LjZ6Ii8+CgkJPC9nPgoJPC9nPgoJPC9zdmc+CjwvYT4=","base64"),_css=Buffer("LnBvZW0tbXV0ZS1zdmcgewogICAgZmlsbDogI2ZmZjsKCW9wYWNpdHk6MC44Owp9Ci5wb2VtLW11dGUtbXV0ZWQgLnBvZW0tbXV0ZS13YXZlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KLnBvZW0tbXV0ZS11bm11dGVkIC5wb2VtLW11dGUteCB7CiAgICBkaXNwbGF5OiBub25lOwp9Ci5wb2VtLW11dGUteCB7CiAgICBmaWxsOiByZWQ7Cn0KLnBvZW0tbXV0ZS1zdmc6aG92ZXIgewogICAgb3BhY2l0eToxOwp9","base64"),_cssInserted=!1;module.exports=function(L){var M=createElement(_html,"poem-mute"),j=ClassList(M);_cssInserted||(insertCss(_css),_cssInserted=!0);var u=function(){L.muted()?(j.remove("poem-mute-unmuted"),j.add("poem-mute-muted")):(j.remove("poem-mute-muted"),j.add("poem-mute-unmuted"))};return L.emitter.on("change",u),u(),M.addEventListener("click",function(M){L.toggle(),u(),M.preventDefault(),M.stopImmediatePropagation()},!0),M};

}).call(this)}).call(this,require("buffer").Buffer)

},{"buffer":3,"class-list":96,"insert-css":137}],191:[function(require,module,exports){
!function(i){function t(i,t,n,e,s){this._listener=t,this._isOnce=n,this.context=e,this._signal=i,this._priority=s||0}function n(i,t){if("function"!=typeof i)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function e(){this._bindings=[],this._prevParams=null;var i=this;this.dispatch=function(){e.prototype.dispatch.apply(i,arguments)}}t.prototype={active:!0,params:null,execute:function(i){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(i):i,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},e.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(i,n,e,s){var r,o=this._indexOfListener(i,e);if(-1!==o){if(r=this._bindings[o],r.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else r=new t(this,i,n,e,s),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){for(var n,e=this._bindings.length;e--;)if(n=this._bindings[e],n._listener===i&&n.context===t)return e;return-1},has:function(i,t){return-1!==this._indexOfListener(i,t)},add:function(i,t,e){return n(i,"add"),this._registerListener(i,!1,t,e)},addOnce:function(i,t,e){return n(i,"addOnce"),this._registerListener(i,!0,t,e)},remove:function(i,t){n(i,"remove");var e=this._indexOfListener(i,t);return-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)),i},removeAll:function(){for(var i=this._bindings.length;i--;)this._bindings[i]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(i){if(this.active){var t,n=Array.prototype.slice.call(arguments),e=this._bindings.length;if(this.memorize&&(this._prevParams=n),e){t=this._bindings.slice(),this._shouldPropagate=!0;do{e--}while(t[e]&&this._shouldPropagate&&!1!==t[e].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=e;s.Signal=e,"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:i.signals=s}(this);

},{}],192:[function(require,module,exports){
function noop(n){if(n)throw n}function badge(n,t){inserted||(insert(".npm-scb-wrap {\n  font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: 200;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 999;\n}\n\n.npm-scb-wrap a {\n  text-decoration: none;\n  color: #000;\n}\n.npm-scb-white\n.npm-scb-wrap a {\n  color: #fff;\n}\n\n.npm-scb-inner {\n  position: absolute;\n  top: -120px; left: 0;\n  padding: 8px;\n  width: 100%;\n  height: 150px;\n  z-index: 2;\n  -webkit-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n     -moz-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n      -ms-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n       -o-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n          transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n}\n.npm-scb-wrap:hover\n.npm-scb-inner {\n  top: 0;\n}\n\n.npm-scb-artwork {\n  position: absolute;\n  top: 16px; left: 16px;\n  width: 104px; height: 104px;\n  box-shadow: 0 0 8px -3px #000;\n  outline: 1px solid rgba(0,0,0,0.1);\n  z-index: 2;\n}\n.npm-scb-white\n.npm-scb-artwork {\n  outline: 1px solid rgba(255,255,255,0.1);\n  box-shadow: 0 0 10px -2px rgba(255,255,255,0.9);\n}\n\n.npm-scb-info {\n  position: absolute;\n  top: 16px;\n  left: 120px;\n  width: 300px;\n  z-index: 1;\n}\n\n.npm-scb-info > a {\n  display: block;\n}\n\n.npm-scb-now-playing {\n  font-size: 12px;\n  line-height: 12px;\n  position: absolute;\n  width: 500px;\n  z-index: 1;\n  padding: 15px 0;\n  top: 0; left: 138px;\n  opacity: 1;\n  -webkit-transition: opacity 0.25s;\n     -moz-transition: opacity 0.25s;\n      -ms-transition: opacity 0.25s;\n       -o-transition: opacity 0.25s;\n          transition: opacity 0.25s;\n}\n\n.npm-scb-wrap:hover\n.npm-scb-now-playing {\n  opacity: 0;\n}\n\n.npm-scb-white\n.npm-scb-now-playing {\n  color: #fff;\n}\n.npm-scb-now-playing > a {\n  font-weight: bold;\n}\n\n.npm-scb-info > a > p {\n  margin: 0;\n  padding-bottom: 0.25em;\n  line-height: 1.35em;\n  margin-left: 1em;\n  font-size: 1em;\n}\n\n.npm-scb-title {\n  font-weight: bold;\n}\n\n.npm-scb-icon {\n  position: absolute;\n  top: 120px;\n  padding-top: 0.75em;\n  left: 16px;\n}\n"),inserted=!0),template||(template=minstache.compile('<div class="npm-scb-wrap">\n  <div class="npm-scb-inner">\n    <a target="_blank" href="{{urls.song}}">\n      <img class="npm-scb-icon" src="{{icon}}">\n      <img class="npm-scb-artwork" src="{{artwork}}">\n    </a>\n    <div class="npm-scb-info">\n      <a target="_blank" href="{{urls.song}}">\n        <p class="npm-scb-title">{{title}}</p>\n      </a>\n      <a target="_blank" href="{{urls.artist}}">\n        <p class="npm-scb-artist">{{artist}}</p>\n      </a>\n    </div>\n  </div>\n  <div class="npm-scb-now-playing">\n    Now Playing:\n    <a href="{{urls.song}}">{{title}}</a>\n    by\n    <a href="{{urls.artist}}">{{artist}}</a>\n  </div>\n</div>\n')),!gwfadded&&n.getFonts&&(fonts.add({"Open Sans":[300,600]}),gwfadded=!0),n=n||{},t=t||noop;var i=n.el||document.createElement("div"),e="dark"in n&&!n.dark?"white":"black",s=n.client_id,o=n.song;return resolve(s,o,function(n,o){if(n)return t(n);if("track"!==o.kind)throw new Error("soundcloud-badge only supports individual tracks at the moment");i.classList["black"===e?"remove":"add"]("npm-scb-white"),i.innerHTML=template({artwork:o.artwork_url||o.user.avatar_url,artist:o.user.username,title:o.title,icon:icons[e],urls:{song:o.permalink_url,artist:o.user.permalink_url}}),document.body.appendChild(i),t(null,o.stream_url+"?client_id="+s,o,i)}),i}var resolve=require("soundcloud-resolve"),fonts=require("google-fonts"),minstache=require("minstache"),insert=require("insert-css"),fs=require("fs"),icons={black:"http://developers.soundcloud.com/assets/logo_black.png",white:"http://developers.soundcloud.com/assets/logo_white.png"};module.exports=badge;var inserted=!1,gwfadded=!1,template=null;

},{"fs":1,"google-fonts":134,"insert-css":193,"minstache":181,"soundcloud-resolve":194}],193:[function(require,module,exports){
var inserted=[];module.exports=function(e){if(!(inserted.indexOf(e)>=0)){inserted.push(e);var d=document.createElement("style"),t=document.createTextNode(e);d.appendChild(t),document.head.childNodes.length?document.head.insertBefore(d,document.head.childNodes[0]):document.head.appendChild(d)}};

},{}],194:[function(require,module,exports){
function resolve(r,e,o){var s="http://api.soundcloud.com/resolve.json?"+qs.stringify({url:e,client_id:r});xhr({uri:s,method:"GET"},function(r,e,s){if(r)return o(r);try{s=JSON.parse(s)}catch(r){return o(r)}return s.errors?o(new Error(s.errors[0].error_message)):o(null,s)})}var qs=require("querystring"),xhr=require("xhr");module.exports=resolve;

},{"querystring":9,"xhr":196}],195:[function(require,module,exports){
function offset(e,t){var n=e.clientX||0,r=e.clientY||0,u=bounds(t);return[n-u.left,r-u.top]}function getTargetTouch(e,t){return Array.prototype.slice.call(e).filter(function(e){return e.target===t})[0]||e[0]}function getTouch(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return null}function listeners(e,t){return function(n){t?e.addEventListener(n.type,n.listener,{passive:!1}):e.removeEventListener(n.type,n.listener,{passive:!1})}}function normalize(e){return e.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start")}function bounds(e){return e===window||e===document||e===document.body?ROOT:e.getBoundingClientRect()}var Emitter=require("events/"),allEvents=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],ROOT={left:0,top:0};module.exports=function(e,t){function n(e,t){var n;return u&&/^touch(end|cancel)/.test(t)?(n=getTouch(e.changedTouches,u.identifier||0))&&(u=null):!u&&/^touchstart/.test(t)?u=n=getTargetTouch(e.changedTouches,r.target):u&&(n=getTouch(e.changedTouches,u.identifier||0)),n}t=t||{},e=e||window;var r=new Emitter;r.target=t.target||e;var u=null,o=t.filtered,i=allEvents;"string"==typeof t.type&&(i=allEvents.filter(function(e){return 0===e.indexOf(t.type)}));var c=i.map(function(e){var u=normalize(e);return{type:e,listener:function(i){var c=i;if(/^touch/.test(e)&&(/^touchend$/.test(e)&&!1!==t.preventSimulated&&i.preventDefault(),c=o?n(i,e):getTargetTouch(i.changedTouches,r.target)),c){var a=offset(c,r.target);r.emit(u,i,a)}}}});return r.enable=function(){return c.forEach(listeners(e,!0)),r},r.disable=function(){return u=null,c.forEach(listeners(e,!1)),r},r.enable(),r};

},{"events/":132}],196:[function(require,module,exports){
function createXHR(e,t){function o(){4===s.readyState&&n()}function n(){var e=null,o=s.statusCode=s.status,n=s.body=s.response||s.responseText||s.responseXML;if(0===o||o>=400&&o<600){var r=s.responseText||messages[String(s.status).charAt(0)];e=new Error(r),e.statusCode=s.status}if(c)try{n=s.body=JSON.parse(n)}catch(e){}t(e,s,n)}function r(e){t(e,s)}"string"==typeof e&&(e={uri:e}),e=e||{},t=once(t);var s;s=e.cors?new XDR:new XHR;var a=s.url=e.uri,i=s.method=e.method||"GET",u=e.body||e.data,d=s.headers=e.headers||{},c=!1;return"json"in e&&(c=!0,d["Content-Type"]="application/json",u=JSON.stringify(e.json)),s.onreadystatechange=o,s.onload=n,s.onerror=r,s.onprogress=function(){},s.ontimeout=noop,s.open(i,a),e.cors&&(s.withCredentials=!0),s.timeout="timeout"in e?e.timeout:5e3,s.setRequestHeader&&Object.keys(d).forEach(function(e){s.setRequestHeader(e,d[e])}),s.send(u),s}function noop(){}var window=require("global/window"),once=require("once"),messages={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},XHR=window.XMLHttpRequest||noop,XDR="withCredentials"in new XHR?window.XMLHttpRequest:window.XDomainRequest;module.exports=createXHR;

},{"global/window":133,"once":197}],197:[function(require,module,exports){
function once(n){var o=!1;return function(){if(!o)return o=!0,n.apply(this,arguments)}}module.exports=once,once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0})});

},{}]},{},[44])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTguMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTguMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbGliL19lbXB0eS5qcyIsIi4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTguMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIi4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTguMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIi4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTguMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCIuLi8uLi8ubnZtL3ZlcnNpb25zL25vZGUvdjE4LjE1LjAvbGliL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwiLi4vLi4vLm52bS92ZXJzaW9ucy9ub2RlL3YxOC4xNS4wL2xpYi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiLi4vLi4vLm52bS92ZXJzaW9ucy9ub2RlL3YxOC4xNS4wL2xpYi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIi4uLy4uLy5udm0vdmVyc2lvbnMvbm9kZS92MTguMTUuMC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCIuLi8uLi8ubnZtL3ZlcnNpb25zL25vZGUvdjE4LjE1LjAvbGliL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCIuLi8uLi8ubnZtL3ZlcnNpb25zL25vZGUvdjE4LjE1LjAvbGliL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwianMvY29tcG9uZW50cy9JbmZvLmpzIiwianMvY29tcG9uZW50cy9TdGFycy5qcyIsImpzL2NvbXBvbmVudHMvYW1iaWFuY2UvQ2xvdWRzL2luZGV4LmpzIiwianMvY29tcG9uZW50cy9hbWJpYW5jZS9Ta3kvaW5kZXguanMiLCJqcy9jb21wb25lbnRzL2FtYmlhbmNlL2Jsb2JzL2Jsb2JzLmpzIiwianMvY29tcG9uZW50cy9hbWJpYW5jZS9saWdodC1iZWFtL2xpZ2h0LWJlYW0uanMiLCJqcy9jb21wb25lbnRzL2FtYmlhbmNlL3BhcnRpY2xlcy9wYXJ0aWNsZXMuanMiLCJqcy9jb21wb25lbnRzL2FuaW1hdG9yLmpzIiwianMvY29tcG9uZW50cy9jYW1lcmFzL0NhbWVyYS5qcyIsImpzL2NvbXBvbmVudHMvY2FtZXJhcy9Db250cm9scy5qcyIsImpzL2NvbXBvbmVudHMvY2FtZXJhcy9PcmllbnRhdGlvbi5qcyIsImpzL2NvbXBvbmVudHMvY2FtZXJhcy9SZXN0cmljdGVkQ2FtZXJhLmpzIiwianMvY29tcG9uZW50cy9jYW1lcmFzL1JvdGF0ZUFyb3VuZE9yaWdpbi5qcyIsImpzL2NvbXBvbmVudHMvZmJvLXBvc2l0aW9uaW5nL2Ziby5qcyIsImpzL2NvbXBvbmVudHMvaGlkcy9tb3VzZS10cmFja2VyLmpzIiwianMvY29tcG9uZW50cy9saWdodHMvVHJhY2tDYW1lcmFMaWdodHMuanMiLCJqcy9jb21wb25lbnRzL21vZGVscy90cmVlLmpzIiwianMvY29tcG9uZW50cy91dGlscy9TdGF0cy5qcyIsImpzL2NvbXBvbmVudHMvdXRpbHMvZHJhZy1zY3JvbGwuanMiLCJqcy9jb3JlL21hbmlmZXN0VG9Qb2VtLmpzIiwianMvY29yZS9wb2VtLmpzIiwianMvY29yZS9yb3V0aW5nLmpzIiwianMvY29yZS91aS5qcyIsImpzL2RlbW9zL0VhcnRoLmpzIiwianMvZGVtb3MvRW5kbGVzc1RlcnJhaW4vY3JlZGl0cy5qcyIsImpzL2RlbW9zL0VuZGxlc3NUZXJyYWluL2VuZGxlc3MuanMiLCJqcy9kZW1vcy9FbmRsZXNzVGVycmFpbi9rZXlmcmFtZXMuanMiLCJqcy9kZW1vcy9HcmlkLmpzIiwianMvZGVtb3MvTWVzaEdyb3VwQm94RGVtby9NZXNoR3JvdXAuanMiLCJqcy9kZW1vcy9NZXNoR3JvdXBCb3hEZW1vL2luZGV4LmpzIiwianMvZGVtb3Mvc2luZS1ncmF2aXR5LWNsb3VkL3NpbmUuanMiLCJqcy9kZW1vcy90ZXRyYWhlZHJhLmpzIiwianMvZGVtb3Mvd2lyZS10ZXJyYWluL3RlcnJhaW4uanMiLCJqcy9pbmRleC5qcyIsImpzL3Bvc3Rwcm9jZXNzaW5nL0Jsb29tUGFzcy5qcyIsImpzL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyLmpzIiwianMvcG9zdHByb2Nlc3NpbmcvRmlsbVBhc3MuanMiLCJqcy9wb3N0cHJvY2Vzc2luZy9NYXNrUGFzcy5qcyIsImpzL3Bvc3Rwcm9jZXNzaW5nL1JlbmRlclBhc3MuanMiLCJqcy9wb3N0cHJvY2Vzc2luZy9TU0FPU2hhZGVyLmpzIiwianMvcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyIsImpzL3Bvc3Rwcm9jZXNzaW5nL2Nocm9tYXRpY0FiZXJyYXRpb24vaW5kZXguanMiLCJqcy9wb3N0cHJvY2Vzc2luZy9pbmRleC5qcyIsImpzL3Bvc3Rwcm9jZXNzaW5nL3BsYXlncm91bmQvcGxheWdyb3VuZC5qcyIsImpzL3JlbmRlcmVycy9iYXNpYy1yZW5kZXJlci5qcyIsImpzL3JlbmRlcmVycy9jYXJkYm9hcmQtcmVuZGVyZXIuanMiLCJqcy9yZW5kZXJlcnMvZWZmZWN0cy1yZW5kZXJlci5qcyIsImpzL3JlbmRlcmVycy9wb3N0cHJvY2Vzcy1yZW5kZXJlci5qcyIsImpzL3JlbmRlcmVycy91dGlscy9jcmVhdGUtcmVuZGVyZXIuanMiLCJqcy9yZW5kZXJlcnMvdXRpbHMvZmFkZS1vdXQtdWkuanMiLCJqcy9yZW5kZXJlcnMvdXRpbHMvcmVzaXplLWhhbmRsZXIuanMiLCJqcy9yZW5kZXJlcnMvdXRpbHMvcmVzaXplLXJlbmRlcmVyLWZuLmpzIiwianMvc2hhZGVycy9Db252b2x1dGlvblNoYWRlci5qcyIsImpzL3NoYWRlcnMvQ29weVNoYWRlci5qcyIsImpzL3NoYWRlcnMvRlhBQVNoYWRlci5qcyIsImpzL3NoYWRlcnMvRmlsbVNoYWRlci5qcyIsImpzL3NvdW5kL011c2ljLmpzIiwianMvc291bmQvbXV0ZS5qcyIsImpzL3V0aWxzL1RocmVlQ29uc29sZS5qcyIsImpzL3V0aWxzL2NhbGN1bGF0ZVNxdWFyZWRUZXh0dXJlV2lkdGguanMiLCJqcy91dGlscy9kZXN0cm95TWVzaC5qcyIsImpzL3V0aWxzL2R1cGxpY2F0ZS1idWZmZXItZ2VvbWV0cnkuanMiLCJqcy91dGlscy9ncHUtcHJvY2Vzc29yL2NvcHktdGV4dHVyZS5qcyIsImpzL3V0aWxzL2dwdS1wcm9jZXNzb3IvZ3B1LXByb2Nlc3Nvci5qcyIsImpzL3V0aWxzL2xvYWRJbWFnZS5qcyIsImpzL3V0aWxzL2xvYWRUZXh0LmpzIiwianMvdXRpbHMvbG9hZFRleHR1cmUuanMiLCJqcy91dGlscy9yYW5kb20uanMiLCJqcy92ZW5kb3IvQXNzaW1wSlNPTkxvYWRlci5qcyIsImpzL3ZlbmRvci9EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzLmpzIiwianMvdmVuZG9yL09yYml0Q29udHJvbHMuanMiLCJqcy92ZW5kb3IvU3RhdHMuanMiLCJqcy92ZW5kb3IvU3RlcmVvRWZmZWN0LmpzIiwibWFuaWZlc3RzL2Jsb2JzLmpzIiwibWFuaWZlc3RzL2NhcmJvbkRpb3hpZGVFYXJ0aC5qcyIsIm1hbmlmZXN0cy9jdWJpYy5qcyIsIm1hbmlmZXN0cy9lbmRsZXNzVGVycmFpbi5qcyIsIm1hbmlmZXN0cy9mYm8tcG9zaXRpb25pbmcuanMiLCJtYW5pZmVzdHMvaW5kZXguanMiLCJtYW5pZmVzdHMvbGlnaHQtYmVhbXMuanMiLCJtYW5pZmVzdHMvbWVzaEdyb3VwQm94RGVtby5qcyIsIm1hbmlmZXN0cy9wb3N0cHJvY2Vzc2luZy5qcyIsIm1hbmlmZXN0cy9zaW5lR3Jhdml0eUNsb3VkLmpzIiwibWFuaWZlc3RzL3RldHJhaGVkcmEuanMiLCJtYW5pZmVzdHMvdnIuanMiLCJub2RlX21vZHVsZXMvY2xhc3MtbGlzdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jcm9zc3JvYWRzL2Rpc3QvY3Jvc3Nyb2Fkcy5qcyIsIm5vZGVfbW9kdWxlcy9jdWJpYy1iZXppZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZWFzZXMvYmFjay1pbi1vdXQuanMiLCJub2RlX21vZHVsZXMvZWFzZXMvYmFjay1pbi5qcyIsIm5vZGVfbW9kdWxlcy9lYXNlcy9iYWNrLW91dC5qcyIsIm5vZGVfbW9kdWxlcy9lYXNlcy9ib3VuY2UtaW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2JvdW5jZS1pbi5qcyIsIm5vZGVfbW9kdWxlcy9lYXNlcy9ib3VuY2Utb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2NpcmMtaW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2NpcmMtaW4uanMiLCJub2RlX21vZHVsZXMvZWFzZXMvY2lyYy1vdXQuanMiLCJub2RlX21vZHVsZXMvZWFzZXMvY3ViaWMtaW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2N1YmljLWluLmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2N1YmljLW91dC5qcyIsIm5vZGVfbW9kdWxlcy9lYXNlcy9lbGFzdGljLWluLW91dC5qcyIsIm5vZGVfbW9kdWxlcy9lYXNlcy9lbGFzdGljLWluLmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2VsYXN0aWMtb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2V4cG8taW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL2V4cG8taW4uanMiLCJub2RlX21vZHVsZXMvZWFzZXMvZXhwby1vdXQuanMiLCJub2RlX21vZHVsZXMvZWFzZXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZWFzZXMvbGluZWFyLmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL3F1YWQtaW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL3F1YWQtaW4uanMiLCJub2RlX21vZHVsZXMvZWFzZXMvcXVhZC1vdXQuanMiLCJub2RlX21vZHVsZXMvZWFzZXMvcXVhcnQtaW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL3F1YXJ0LWluLmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL3F1YXJ0LW91dC5qcyIsIm5vZGVfbW9kdWxlcy9lYXNlcy9xdWludC1pbi1vdXQuanMiLCJub2RlX21vZHVsZXMvZWFzZXMvcXVpbnQtaW4uanMiLCJub2RlX21vZHVsZXMvZWFzZXMvcXVpbnQtb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL3NpbmUtaW4tb3V0LmpzIiwibm9kZV9tb2R1bGVzL2Vhc2VzL3NpbmUtaW4uanMiLCJub2RlX21vZHVsZXMvZWFzZXMvc2luZS1vdXQuanMiLCJub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwibm9kZV9tb2R1bGVzL2dsb2JhbC93aW5kb3cuanMiLCJub2RlX21vZHVsZXMvZ29vZ2xlLWZvbnRzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2hhc2hlci9kaXN0L2pzL2hhc2hlci5qcyIsIm5vZGVfbW9kdWxlcy9pbmRleG9mL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2luc2VydC1jc3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbGVycC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2NhbGZvcmFnZS9kaXN0L2xvY2FsZm9yYWdlLmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fYXJyYXllYWNoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fYXJyYXlmaWx0ZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9hcnJheW1hcC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guX2Jhc2Vhc3NpZ24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9iYXNlY2FsbGJhY2svaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9iYXNlY29tcGFyZWFzY2VuZGluZy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guX2Jhc2Vjb3B5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fYmFzZWVhY2gvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9iYXNlZmlsdGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fYmFzZWZvci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guX2Jhc2Vpc2VxdWFsL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fYmFzZXJlZHVjZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guX2Jhc2Vzb3J0YnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9iYXNldG9zdHJpbmcvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9iYXNldmFsdWVzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fYmluZGNhbGxiYWNrL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5fY3JlYXRlYXNzaWduZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9nZXRuYXRpdmUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9pc2l0ZXJhdGVlY2FsbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guX3JlaW50ZXJwb2xhdGUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLl9yb290L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5hc3NpZ24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLmVzY2FwZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guZmlsdGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5mb3JlYWNoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5pc2FyZ3VtZW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNhcnJheS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNlbGVtZW50L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5pc29iamVjdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXNwbGFpbm9iamVjdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guaXN0eXBlZGFycmF5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5rZXlzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5rZXlzaW4vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLm1hcC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gubWFwdmFsdWVzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5wYWlycy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gucmVkdWNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5yZXN0cGFyYW0vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLnNvcnRieS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gudGVtcGxhdGUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLnRlbXBsYXRlc2V0dGluZ3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbWluc3RhY2hlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3BvZW0tbG9vcC9saWIvY2xvY2suanMiLCJub2RlX21vZHVsZXMvcG9lbS1sb29wL2xpYi9sb29wLmpzIiwibm9kZV9tb2R1bGVzL3BvZW0tbG9vcC9saWIvcmFmLmpzIiwibm9kZV9tb2R1bGVzL3BvZW0tbWFuaWZlc3RzL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wb2VtLW1lbnUvbGliL2NvbG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9wb2VtLW1lbnUvbGliL21lbnUuanMiLCJub2RlX21vZHVsZXMvcG9lbS1tdXRlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3BvZW0tbXV0ZS9ub2RlX21vZHVsZXMvZXh0ZW5kL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3BvZW0tbXV0ZS91aS5qcyIsIm5vZGVfbW9kdWxlcy9zaWduYWxzL2Rpc3Qvc2lnbmFscy5qcyIsIm5vZGVfbW9kdWxlcy9zb3VuZGNsb3VkLWJhZGdlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3NvdW5kY2xvdWQtYmFkZ2Uvbm9kZV9tb2R1bGVzL2luc2VydC1jc3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc291bmRjbG91ZC1yZXNvbHZlL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdG91Y2hlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy94aHIvaW5kZXguanMiLCJub2RlX21vZHVsZXMveGhyL25vZGVfbW9kdWxlcy9vbmNlL29uY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0EsQUNGQSxZQXFCQSxTQUFTLFNBQVMsR0FDaEIsR0FBSSxHQUFNLEVBQUksTUFFZCxJQUFJLEVBQU0sRUFBSSxFQUNaLEtBQU0sSUFBSSxPQUFNLGlEQUtsQixJQUFJLEdBQVcsRUFBSSxRQUFRLElBTzNCLFFBTmtCLElBQWQsSUFBaUIsRUFBVyxJQU14QixFQUpjLElBQWEsRUFDL0IsRUFDQSxFQUFLLEVBQVcsR0FNdEIsUUFBUyxZQUFZLEdBQ25CLEdBQUksR0FBTyxRQUFRLEdBQ2YsRUFBVyxFQUFLLEdBQ2hCLEVBQWtCLEVBQUssRUFDM0IsT0FBdUMsSUFBOUIsRUFBVyxHQUF1QixFQUFLLEVBR2xELFFBQVMsYUFBYSxF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SUFFbEQsRUFBSSxrQkFDTCxPQUFPLEtBQUssR0FBUyxRQUFRLFNBQVUsR0FDbkMsRUFBSSxpQkFBaUIsRUFBSyxFQUFRLE1BSTFDLEVBQUksS0FBSyxHQUVGLEVBcUNYLFFBQVMsU0F2R1QsR0FBSSxRQUFTLFFBQVEsaUJBQ2pCLEtBQU8sUUFBUSxRQUVmLFVBQ0EsRUFBSyxnQ0FDTCxFQUFLLG1CQUNMLEVBQUssb0JBR0wsSUFBTSxPQUFPLGdCQUFrQixLQUMvQixJQUFNLG1CQUFxQixJQUFLLEtBQzVCLE9BQU8sZUFBaUIsT0FBTyxjQUV2QyxRQUFPLFFBQVU7OztBQ0ZqQixRQUFTLE1BQU0sR0FDYixHQUFJLElBQVMsQ0FDYixPQUFPLFlBQ0wsSUFBSSxFQUVKLE1BREEsSUFBUyxFQUNGLEVBQUcsTUFBTSxLQUFNLFlBaEIxQixPQUFPLFFBQVUsS0FFakIsS0FBSyxNQUFRLEtBQUssV0FDaEIsT0FBTyxlQUFlLFNBQVMsVUFBVyxRQUN4QyxNQUFPLFdBQ0wsTUFBTyxNQUFLLE9BRWQsY0FBYyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWw5bGJYQjBlUzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pSWl3aVptbHNaU0k2SW05MWRDNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWlKZGZRPT0iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG52YXIgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZlxuZXhwb3J0cy5rTWF4TGVuZ3RoID0gS19NQVhfTEVOR1RIXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFByaW50IHdhcm5pbmcgYW5kIHJlY29tbWVuZCB1c2luZyBgYnVmZmVyYCB2NC54IHdoaWNoIGhhcyBhbiBPYmplY3RcbiAqICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIFdlIHJlcG9ydCB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGlmIHRoZSBhcmUgbm90IHN1YmNsYXNzYWJsZVxuICogdXNpbmcgX19wcm90b19fLiBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YFxuICogKFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4KS4gSUUgMTAgbGFja3Mgc3VwcG9ydFxuICogZm9yIF9fcHJvdG9fXyBhbmQgaGFzIGEgYnVnZ3kgdHlwZWQgYXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5pZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAnICtcbiAgICAnYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4nXG4gIClcbn1cblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICAvLyBDYW4gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWQ/XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHsgX19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9IH1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgYnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAhPSBudWxsICYmXG4gICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh2YWx1ZSlcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICAgIClcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICApXG4gIH1cblxuICB2YXIgdmFsdWVPZiA9IHZhbHVlLnZhbHVlT2YgJiYgdmFsdWUudmFsdWVPZigpXG4gIGlmICh2YWx1ZU9mICE9IG51bGwgJiYgdmFsdWVPZiAhPT0gdmFsdWUpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVPZiwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgdmFyIGIgPSBmcm9tT2JqZWN0KHZhbHVlKVxuICBpZiAoYikgcmV0dXJuIGJcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKFxuICAgICAgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSgnc3RyaW5nJyksIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aFxuICAgIClcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1Zzpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4XG5CdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG5CdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgc2l6ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIHZhciBidWZcbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIGJ1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgIH1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZ1xuICAgIClcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKVxuICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHtcbiAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICB9XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKVxuLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYFxuLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnRcbi8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlclxuLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0XG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpXG4gIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkge1xuICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB0YXJnZXQpXG4gICAgKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJylcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExXG4gICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKVxuICB9IGVsc2UgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHxcbiAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbi8vIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgb2JqZWN0cyBmcm9tIG90aGVyIGNvbnRleHRzIChpLmUuIGlmcmFtZXMpIGRvIG5vdCBwYXNzXG4vLyB0aGUgYGluc3RhbmNlb2ZgIGNoZWNrIGJ1dCB0aGV5IHNob3VsZCBiZSB0cmVhdGVkIGFzIG9mIHRoYXQgdHlwZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NlxuZnVuY3Rpb24gaXNJbnN0YW5jZSAob2JqLCB0eXBlKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiB0eXBlIHx8XG4gICAgKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9IG51bGwgJiZcbiAgICAgIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSB0eXBlLm5hbWUpXG59XG5mdW5jdGlvbiBudW1iZXJJc05hTiAob2JqKSB7XG4gIC8vIEZvciBJRTExIHN1cHBvcnRcbiAgcmV0dXJuIG9iaiAhPT0gb2JqIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9cbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsInZhciBuZXh0VGljayA9IHJlcXVpcmUoJ3Byb2Nlc3MvYnJvd3Nlci5qcycpLm5leHRUaWNrO1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGltbWVkaWF0ZUlkcyA9IHt9O1xudmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7IHRpbWVvdXQuY2xvc2UoKTsgfTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcbiAgdmFyIGlkID0gbmV4dEltbWVkaWF0ZUlkKys7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICBpbW1lZGlhdGVJZHNbaWRdID0gdHJ1ZTtcblxuICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuICAgIGlmIChpbW1lZGlhdGVJZHNbaWRdKSB7XG4gICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbi5jYWxsKG51bGwpO1xuICAgICAgfVxuICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG4gICAgICBleHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpZDtcbn07XG5cbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcbiAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG59OyIsInZhciBJbmZvID0gZnVuY3Rpb24oIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cdFxuXHR2YXIgb3JpZ2luYWxUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuXHRcblx0dmFyICRhcHBlbmRDcmVkaXRzID0gJCggcHJvcGVydGllcy5hcHBlbmRDcmVkaXRzICk7XG5cdFxuXHRpZiggcHJvcGVydGllcy5hcHBlbmRDcmVkaXRzICkgJCgnLmNyZWRpdHMnKS5hcHBlbmQoICRhcHBlbmRDcmVkaXRzICk7XG5cdGlmKCBwcm9wZXJ0aWVzLnRpdGxlICkgJChcIiNpbmZvLXRpdGxlXCIpLnRleHQoIHByb3BlcnRpZXMudGl0bGUgKTtcblx0aWYoIHByb3BlcnRpZXMuc3VidGl0bGUgKSAkKFwiI2luZm8tc3VidGl0bGVcIikudGV4dCggcHJvcGVydGllcy5zdWJ0aXRsZSk7XG5cdFxuXHRpZiggcHJvcGVydGllcy50aXRsZUNzcyApICQoXCIjaW5mby10aXRsZVwiKS5jc3MoIHByb3BlcnRpZXMudGl0bGVDc3MgKTtcblx0aWYoIHByb3BlcnRpZXMuc3VidGl0bGVDc3MgKSAkKFwiI2luZm8tc3VidGl0bGVcIikuY3NzKCBwcm9wZXJ0aWVzLnN1YnRpdGxlQ3NzICk7XG5cdFxuXHRcblx0aWYoIHByb3BlcnRpZXMuZG9jdW1lbnRUaXRsZSApIGRvY3VtZW50LnRpdGxlID0gcHJvcGVydGllcy5kb2N1bWVudFRpdGxlO1xuXHRcblx0aWYoIHByb3BlcnRpZXMuc2hvd0Fycm93TmV4dCApICQoXCIuYXJyb3ctbmV4dFwiKS5zaG93KCk7XG5cblx0JChcIiNpbmZvXCIpLnNob3coKTtcblx0XG5cdHBvZW0uZW1pdHRlci5vbignZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcblx0XHQkKFwiI2luZm8tdGl0bGVcIikudGV4dCgnJyk7XHRcdFxuXHRcdCQoXCIjaW5mby1zdWJ0aXRsZVwiKS50ZXh0KCcnKTtcblx0XHQkKFwiI2luZm8tdGl0bGVcIikuYXR0cignc3R5bGUnLCAnJyk7XG5cdFx0JChcIiNpbmZvLXN1YnRpdGxlXCIpLmF0dHIoJ3N0eWxlJywgJycpO1xuXHRcdCQoXCIuYXJyb3ctbmV4dFwiKS5oaWRlKCk7XG5cdFx0JChcIiNpbmZvXCIpLmhpZGUoKTtcblx0XHQkYXBwZW5kQ3JlZGl0cy5yZW1vdmUoKTtcblx0fSk7XG5cdFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbmZvOyIsInZhciBTdGFycyA9IGZ1bmN0aW9uKCBwb2VtICkge1xuXHR0aGlzLnBvZW0gPSBwb2VtO1xuXHR0aGlzLm9iamVjdCA9IG51bGw7XG5cdFxuXHR0aGlzLmNvdW50ID0gMzAwMDA7XG5cdHRoaXMuZGVwdGggPSA1MDAwO1xuXHR0aGlzLm1pbkRlcHRoID0gNzAwO1xuXHR0aGlzLmNvbG9yID0gMHhhYWFhYWE7XG5cdFxuXHR0aGlzLmFkZE9iamVjdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdGFycztcblxuU3RhcnMucHJvdG90eXBlID0ge1xuXHRcblx0Z2VuZXJhdGVHZW9tZXRyeSA6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciByLCB0aGV0YSwgeCwgeSwgeiwgZ2VvbWV0cnk7XG5cdFx0XG5cdFx0Z2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblx0XHRcblx0XHRmb3IodmFyIGk9MDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuXHRcdFx0XG5cdFx0XHRyID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuZGVwdGggKyB0aGlzLm1pbkRlcHRoO1xuXG5cdFx0XHR0aGV0YSA9IE1hdGgucmFuZG9tKCkgKiAyICogTWF0aC5QSTtcblx0XHRcdFxuXHRcdFx0eCA9IE1hdGguY29zKCB0aGV0YSApICogcjtcblx0XHRcdHogPSBNYXRoLnNpbiggdGhldGEgKSAqIHI7XG5cdFx0XHR5ID0gKDAuNSAtIE1hdGgucmFuZG9tKCkpICogdGhpcy5kZXB0aDtcblx0XHRcdFxuXHRcdFx0Z2VvbWV0cnkudmVydGljZXMucHVzaCggbmV3IFRIUkVFLlZlY3RvcjMoeCx5LHopICk7XG5cdFx0XHRcdFx0XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBnZW9tZXRyeTtcblx0fSxcblx0XG5cdGFkZE9iamVjdCA6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHZhciBnZW9tZXRyeSwgbGluZU1hdGVyaWFsO1xuXHRcdFxuXHRcdGdlb21ldHJ5ID0gdGhpcy5nZW5lcmF0ZUdlb21ldHJ5KCk7XG5cdFx0XG5cdFx0XG5cdFx0dGhpcy5vYmplY3QgPSBuZXcgVEhSRUUuUG9pbnRDbG91ZChcblx0XHRcdGdlb21ldHJ5LFxuXHRcdFx0bmV3IFRIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbCh7XG5cdFx0XHRcdCBzaXplOiAzICogdGhpcy5wb2VtLnJhdGlvLFxuXHRcdFx0XHQgY29sb3I6IHRoaXMuY29sb3IsXG5cdFx0XHRcdCBmb2c6IGZhbHNlXG5cdFx0XHR9XG5cdFx0KSApO1xuXHRcdFxuXHRcdHRoaXMucG9lbS5zY2VuZS5hZGQoIHRoaXMub2JqZWN0ICkgO1xuXHRcdFxuXHR9XG59OyIsIlxuXG5mdW5jdGlvbiBzZXR1cFRleHR1cmUoIG1lc2gsIHNjZW5lLCBtYXRlcmlhbCApIHtcblx0XG5cdHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcblx0dmFyIHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSggaW1nICk7XG5cdGltZy5zcmMgPSAnYXNzZXRzL2ltYWdlcy9jbG91ZDEwMjQucG5nJztcblx0XG5cdCQoJ2JvZHknKS5hcHBlbmQoaW1nKTtcblx0XG5cdHRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcblx0dGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuXG5cdCQoaW1nKS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRcdG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0XHR0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0fSk7XG5cdFxuXHRzY2VuZS5hZGQoIG1lc2ggKTtcblx0XG5cdHJldHVybiB0ZXh0dXJlO1xuXHRcbn1cblxudmFyIENsb3VkcyA9IGZ1bmN0aW9uKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0d2lkdGhcdFx0OiA1MDAsXG5cdFx0b2Zmc2V0XHRcdDogbmV3IFRIUkVFLlZlY3RvcjIoMSwxKSxcblx0XHRjb2xvclx0XHQ6IG5ldyBUSFJFRS5WZWN0b3I0KCAwLjUsIDEuMCwgMC43LCAxICksXG5cdFx0aGVpZ2h0XHRcdDogLTIwMCxcblx0XHRyb3RhdGlvblx0OiBNYXRoLlBJIC8gMlxuXHR9LCBwcm9wZXJ0aWVzKTtcblx0XG5cdHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KFx0Y29uZmlnLndpZHRoLCBjb25maWcud2lkdGggKTtcblx0XG5cdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFxuXHRcdHZlcnRleFNoYWRlcjogICAgXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VXY7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdFxcblxcdHZVdiA9IHV2O1xcblxcdFxcblxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqXFxuXFx0XFx0bW9kZWxWaWV3TWF0cml4ICpcXG5cXHRcXHR2ZWM0KCBwb3NpdGlvbiwgMS4wKTtcXG5cXHRcXHRcXG59XCIsXG5cdFx0ZnJhZ21lbnRTaGFkZXI6ICBcIiNkZWZpbmUgR0xTTElGWSAxXFxudW5pZm9ybSBmbG9hdCB0aW1lO1xcbnVuaWZvcm0gdmVjNCBjb2xvcjtcXG51bmlmb3JtIHZlYzIgb2Zmc2V0O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuXFxudmFyeWluZyB2ZWMyIHZVdjtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0XFxuXFx0dmVjNCB0ZXhlbCA9IFxcblxcdFxcdHRleHR1cmUyRCggdGV4dHVyZSwgdlV2ICogMC4xICsgKCBvZmZzZXQgKyB0aW1lICogMC4wMDAwMSkgKiBvZmZzZXQgKSArXFxuXFx0XFx0dGV4dHVyZTJEKCB0ZXh0dXJlLCB2VXYgKiAwLjIyICsgKCBvZmZzZXQgKyB0aW1lICogMC4wMDAwMDU1KSAqIG9mZnNldCApO1xcblxcdFxcblxcdGZsb2F0IGVkZ2VzID0gMC41IC0gbGVuZ3RoKHZVdiAtIDAuNSk7XFxuXFx0XFxuICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIGVkZ2VzICogdmVjNCggMS4wLCAxLjAsIDEuMCwgdGV4ZWwudyAqIHRleGVsLncgKiAyLjUgKTtcXG5cXHRcXG59XCIsXG5cdFx0XG5cdFx0dHJhbnNwYXJlbnQ6IHRydWUsXG5cdFx0YmxlbmRpbmc6ICAgIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsXG5cdFx0c2lkZTogICAgICAgIFRIUkVFLkRvdWJsZVNpZGUsXG5cdFx0ZGVwdGhUZXN0OiAgIGZhbHNlLFxuXHRcblx0XHR1bmlmb3Jtczoge1xuXHRcdFx0dGltZTpcdCBcdHsgdHlwZTogXCJmXCIsIHZhbHVlOjAgfSxcblx0XHRcdHRleHR1cmU6XHR7IHR5cGU6IFwidFwiLCB2YWx1ZTogbnVsbCB9LFxuXHRcdFx0b2Zmc2V0Olx0XHR7IHR5cGU6IFwidjJcIiwgdmFsdWU6IGNvbmZpZy5vZmZzZXQgfSxcblx0XHRcdGNvbG9yOiBcdFx0eyB0eXBlOiBcInY0XCIsIHZhbHVlOiBjb25maWcuY29sb3IgfVxuXHRcdH0sXG5cdFx0YXR0cmlidXRlczoge31cblx0fSlcblx0XG5cdHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXHRcblx0bWVzaC5yb3RhdGlvbi54ID0gY29uZmlnLnJvdGF0aW9uO1xuXHRtZXNoLnBvc2l0aW9uLnkgPSBjb25maWcuaGVpZ2h0O1xuXHRtZXNoLnNjYWxlLm11bHRpcGx5U2NhbGFyKCAxMCApO1xuXHRcblx0bWF0ZXJpYWwudW5pZm9ybXMudGV4dHVyZS52YWx1ZSA9IHNldHVwVGV4dHVyZSggbWVzaCwgcG9lbS5zY2VuZSwgbWF0ZXJpYWwgKTtcblx0XG5cdHBvZW0uZW1pdHRlci5vbigndXBkYXRlJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0dmFyIGNhbWVyYVBvc2l0aW9uID0gcG9lbS5jYW1lcmEub2JqZWN0LnBvc2l0aW9uO1xuXHRcdG1hdGVyaWFsLnVuaWZvcm1zLnRpbWUudmFsdWUgPSBlLmVsYXBzZWQ7XG5cdFx0bWVzaC5wb3NpdGlvbi5zZXQoXG5cdFx0XHRjYW1lcmFQb3NpdGlvbi54LFxuXHRcdFx0bWVzaC5wb3NpdGlvbi55LFxuXHRcdFx0Y2FtZXJhUG9zaXRpb24uelx0XHRcdFxuXHRcdCk7XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDbG91ZHM7XG4iLCJcblxudmFyIFNreSA9IGZ1bmN0aW9uKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXHRcblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHRcblx0XHR3aWR0aCA6IDUwMDBcblx0XHRcblx0fSwgcHJvcGVydGllcyApO1xuXHRcblx0dmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KCBjb25maWcud2lkdGgsIDY0LCAzMCApO1xuXHRcblx0dmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcblx0XG5cdFx0dmVydGV4U2hhZGVyICAgIDogXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gZmxvYXQgdGltZTtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbi8vXFxuLy8gRGVzY3JpcHRpb24gOiBBcnJheSBhbmQgdGV4dHVyZWxlc3MgR0xTTCAyRC8zRC80RCBzaW1wbGV4XFxuLy8gICAgICAgICAgICAgICBub2lzZSBmdW5jdGlvbnMuXFxuLy8gICAgICBBdXRob3IgOiBJYW4gTWNFd2FuLCBBc2hpbWEgQXJ0cy5cXG4vLyAgTWFpbnRhaW5lciA6IGlqbVxcbi8vICAgICBMYXN0bW9kIDogMjAxMTA4MjIgKGlqbSlcXG4vLyAgICAgTGljZW5zZSA6IENvcHlyaWdodCAoQykgMjAxMSBBc2hpbWEgQXJ0cy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG4vLyAgICAgICAgICAgICAgIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZS5cXG4vLyAgICAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hc2hpbWEvd2ViZ2wtbm9pc2VcXG4vL1xcblxcbnZlYzQgbW9kMjg5XzFfMCh2ZWM0IHgpIHtcXG4gIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7IH1cXG5cXG5mbG9hdCBtb2QyODlfMV8wKGZsb2F0IHgpIHtcXG4gIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7IH1cXG5cXG52ZWM0IHBlcm11dGVfMV8xKHZlYzQgeCkge1xcbiAgICAgcmV0dXJuIG1vZDI4OV8xXzAoKCh4KjM0LjApKzEuMCkqeCk7XFxufVxcblxcbmZsb2F0IHBlcm11dGVfMV8xKGZsb2F0IHgpIHtcXG4gICAgIHJldHVybiBtb2QyODlfMV8wKCgoeCozNC4wKSsxLjApKngpO1xcbn1cXG5cXG52ZWM0IHRheWxvckludlNxcnRfMV8yKHZlYzQgcilcXG57XFxuICByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByO1xcbn1cXG5cXG5mbG9hdCB0YXlsb3JJbnZTcXJ0XzFfMihmbG9hdCByKVxcbntcXG4gIHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7XFxufVxcblxcbnZlYzQgZ3JhZDRfMV8zKGZsb2F0IGosIHZlYzQgaXApXFxuICB7XFxuICBjb25zdCB2ZWM0IG9uZXMgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIC0xLjApO1xcbiAgdmVjNCBwLHM7XFxuXFxuICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDtcXG4gIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7XFxuICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTtcXG4gIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3O1xcblxcbiAgcmV0dXJuIHA7XFxuICB9XFxuXFxuLy8gKHNxcnQoNSkgLSAxKS80ID0gRjQsIHVzZWQgb25jZSBiZWxvd1xcbiNkZWZpbmUgRjQgMC4zMDkwMTY5OTQzNzQ5NDc0NTFcXG5cXG5mbG9hdCBzbm9pc2VfMV80KHZlYzQgdilcXG4gIHtcXG4gIGNvbnN0IHZlYzQgIEMgPSB2ZWM0KCAwLjEzODE5NjYwMTEyNTAxMSwgIC8vICg1IC0gc3FydCg1KSkvMjAgIEc0XFxuICAgICAgICAgICAgICAgICAgICAgICAgMC4yNzYzOTMyMDIyNTAwMjEsICAvLyAyICogRzRcXG4gICAgICAgICAgICAgICAgICAgICAgICAwLjQxNDU4OTgwMzM3NTAzMiwgIC8vIDMgKiBHNFxcbiAgICAgICAgICAgICAgICAgICAgICAgLTAuNDQ3MjEzNTk1NDk5OTU4KTsgLy8gLTEgKyA0ICogRzRcXG5cXG4vLyBGaXJzdCBjb3JuZXJcXG4gIHZlYzQgaSAgPSBmbG9vcih2ICsgZG90KHYsIHZlYzQoRjQpKSApO1xcbiAgdmVjNCB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eHh4KTtcXG5cXG4vLyBPdGhlciBjb3JuZXJzXFxuXFxuLy8gUmFuayBzb3J0aW5nIG9yaWdpbmFsbHkgY29udHJpYnV0ZWQgYnkgQmlsbCBMaWNlYS1LYW5lLCBBTUQgKGZvcm1lcmx5IEFUSSlcXG4gIHZlYzQgaTA7XFxuICB2ZWMzIGlzWCA9IHN0ZXAoIHgwLnl6dywgeDAueHh4ICk7XFxuICB2ZWMzIGlzWVogPSBzdGVwKCB4MC56d3csIHgwLnl5eiApO1xcbi8vICBpMC54ID0gZG90KCBpc1gsIHZlYzMoIDEuMCApICk7XFxuICBpMC54ID0gaXNYLnggKyBpc1gueSArIGlzWC56O1xcbiAgaTAueXp3ID0gMS4wIC0gaXNYO1xcbi8vICBpMC55ICs9IGRvdCggaXNZWi54eSwgdmVjMiggMS4wICkgKTtcXG4gIGkwLnkgKz0gaXNZWi54ICsgaXNZWi55O1xcbiAgaTAuencgKz0gMS4wIC0gaXNZWi54eTtcXG4gIGkwLnogKz0gaXNZWi56O1xcbiAgaTAudyArPSAxLjAgLSBpc1laLno7XFxuXFxuICAvLyBpMCBub3cgY29udGFpbnMgdGhlIHVuaXF1ZSB2YWx1ZXMgMCwxLDIsMyBpbiBlYWNoIGNoYW5uZWxcXG4gIHZlYzQgaTMgPSBjbGFtcCggaTAsIDAuMCwgMS4wICk7XFxuICB2ZWM0IGkyID0gY2xhbXAoIGkwLTEuMCwgMC4wLCAxLjAgKTtcXG4gIHZlYzQgaTEgPSBjbGFtcCggaTAtMi4wLCAwLjAsIDEuMCApO1xcblxcbiAgLy8gIHgwID0geDAgLSAwLjAgKyAwLjAgKiBDLnh4eHhcXG4gIC8vICB4MSA9IHgwIC0gaTEgICsgMS4wICogQy54eHh4XFxuICAvLyAgeDIgPSB4MCAtIGkyICArIDIuMCAqIEMueHh4eFxcbiAgLy8gIHgzID0geDAgLSBpMyAgKyAzLjAgKiBDLnh4eHhcXG4gIC8vICB4NCA9IHgwIC0gMS4wICsgNC4wICogQy54eHh4XFxuICB2ZWM0IHgxID0geDAgLSBpMSArIEMueHh4eDtcXG4gIHZlYzQgeDIgPSB4MCAtIGkyICsgQy55eXl5O1xcbiAgdmVjNCB4MyA9IHgwIC0gaTMgKyBDLnp6eno7XFxuICB2ZWM0IHg0ID0geDAgKyBDLnd3d3c7XFxuXFxuLy8gUGVybXV0YXRpb25zXFxuICBpID0gbW9kMjg5XzFfMChpKTtcXG4gIGZsb2F0IGowID0gcGVybXV0ZV8xXzEoIHBlcm11dGVfMV8xKCBwZXJtdXRlXzFfMSggcGVybXV0ZV8xXzEoaS53KSArIGkueikgKyBpLnkpICsgaS54KTtcXG4gIHZlYzQgajEgPSBwZXJtdXRlXzFfMSggcGVybXV0ZV8xXzEoIHBlcm11dGVfMV8xKCBwZXJtdXRlXzFfMSAoXFxuICAgICAgICAgICAgIGkudyArIHZlYzQoaTEudywgaTIudywgaTMudywgMS4wICkpXFxuICAgICAgICAgICArIGkueiArIHZlYzQoaTEueiwgaTIueiwgaTMueiwgMS4wICkpXFxuICAgICAgICAgICArIGkueSArIHZlYzQoaTEueSwgaTIueSwgaTMueSwgMS4wICkpXFxuICAgICAgICAgICArIGkueCArIHZlYzQoaTEueCwgaTIueCwgaTMueCwgMS4wICkpO1xcblxcbi8vIEdyYWRpZW50czogN3g3eDYgcG9pbnRzIG92ZXIgYSBjdWJlLCBtYXBwZWQgb250byBhIDQtY3Jvc3MgcG9seXRvcGVcXG4vLyA3KjcqNiA9IDI5NCwgd2hpY2ggaXMgY2xvc2UgdG8gdGhlIHJpbmcgc2l6ZSAxNyoxNyA9IDI4OS5cXG4gIHZlYzQgaXAgPSB2ZWM0KDEuMC8yOTQuMCwgMS4wLzQ5LjAsIDEuMC83LjAsIDAuMCkgO1xcblxcbiAgdmVjNCBwMF8xXzUgPSBncmFkNF8xXzMoajAsICAgaXApO1xcbiAgdmVjNCBwMSA9IGdyYWQ0XzFfMyhqMS54LCBpcCk7XFxuICB2ZWM0IHAyID0gZ3JhZDRfMV8zKGoxLnksIGlwKTtcXG4gIHZlYzQgcDMgPSBncmFkNF8xXzMoajEueiwgaXApO1xcbiAgdmVjNCBwNCA9IGdyYWQ0XzFfMyhqMS53LCBpcCk7XFxuXFxuLy8gTm9ybWFsaXNlIGdyYWRpZW50c1xcbiAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydF8xXzIodmVjNChkb3QocDBfMV81LHAwXzFfNSksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7XFxuICBwMF8xXzUgKj0gbm9ybS54O1xcbiAgcDEgKj0gbm9ybS55O1xcbiAgcDIgKj0gbm9ybS56O1xcbiAgcDMgKj0gbm9ybS53O1xcbiAgcDQgKj0gdGF5bG9ySW52U3FydF8xXzIoZG90KHA0LHA0KSk7XFxuXFxuLy8gTWl4IGNvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgZml2ZSBjb3JuZXJzXFxuICB2ZWMzIG0wID0gbWF4KDAuNiAtIHZlYzMoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSksIDAuMCk7XFxuICB2ZWMyIG0xID0gbWF4KDAuNiAtIHZlYzIoZG90KHgzLHgzKSwgZG90KHg0LHg0KSAgICAgICAgICAgICksIDAuMCk7XFxuICBtMCA9IG0wICogbTA7XFxuICBtMSA9IG0xICogbTE7XFxuICByZXR1cm4gNDkuMCAqICggZG90KG0wKm0wLCB2ZWMzKCBkb3QoIHAwXzFfNSwgeDAgKSwgZG90KCBwMSwgeDEgKSwgZG90KCBwMiwgeDIgKSkpXFxuICAgICAgICAgICAgICAgKyBkb3QobTEqbTEsIHZlYzIoIGRvdCggcDMsIHgzICksIGRvdCggcDQsIHg0ICkgKSApICkgO1xcblxcbiAgfVxcblxcblxcblxcbnZlYzMgaHN2MnJnYl8yXzYodmVjMyBjKSB7XFxuICB2ZWM0IEsgPSB2ZWM0KDEuMCwgMi4wIC8gMy4wLCAxLjAgLyAzLjAsIDMuMCk7XFxuICB2ZWMzIHAgPSBhYnMoZnJhY3QoYy54eHggKyBLLnh5eikgKiA2LjAgLSBLLnd3dyk7XFxuICByZXR1cm4gYy56ICogbWl4KEsueHh4LCBjbGFtcChwIC0gSy54eHgsIDAuMCwgMS4wKSwgYy55KTtcXG59XFxuXFxuXFxuXFxuXFxuZmxvYXQgaW5SYW5nZSggaW4gZmxvYXQgdmFsdWUsIGluIGZsb2F0IHN0YXJ0LCBpbiBmbG9hdCBzdG9wICkge1xcblxcdFxcblxcdHJldHVybiBtaW4oIDEuMCwgbWF4KCAwLjAsXFxuXFx0XFx0KHZhbHVlIC0gc3RhcnQpIC8gKHN0b3AgLSBzdGFydClcXG5cXHQpKTtcXG5cXHRcXG59XFxuXFxudmVjNCBjYWxjdWxhdGVDb2xvciggaW4gdmVjMiB1diwgaW4gdmVjMyBwb3NpdGlvbiApIHtcXG5cXHRcXG5cXHRmbG9hdCBncmFkaWVudCA9XFxuXFx0XFx0aW5SYW5nZSggdXYueSwgMC41NSwgMC43ICkgK1xcblxcdFxcdGluUmFuZ2UoIHV2LnksIDAuNDUsIDAuMyApIDtcXG5cXHRcXG5cXHRmbG9hdCBub2lzZSA9IHNub2lzZV8xXzQoIHZlYzQoIHBvc2l0aW9uICogMC4wMywgdGltZSAqIDAuMDAwMSApICk7XFxuXFx0XFxuXFx0dmVjMyBjb2xvciA9IGhzdjJyZ2JfMl82KHZlYzMoXFxuXFx0XFx0bWF4KDAuMCwgbm9pc2UpICogMC4yICsgMC40LFxcblxcdFxcdDEuMCxcXG5cXHRcXHQxLjBcXG5cXHQpKTtcXG5cXHRcXG5cXHRyZXR1cm4gdmVjNChcXG5cXHRcXHRjb2xvcixcXG5cXHRcXHRub2lzZSAqIGdyYWRpZW50XFxuXFx0KTtcXG5cXHRcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcdFxcblxcdHZDb2xvciA9IGNhbGN1bGF0ZUNvbG9yKCB1diwgcG9zaXRpb24gKTtcXG5cXHRcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKlxcblxcdFxcdG1vZGVsVmlld01hdHJpeCAqXFxuXFx0XFx0dmVjNCggcG9zaXRpb24sIDEuMCk7XFxuXFx0XFx0XFxufVwiLFxuXHRcdGZyYWdtZW50U2hhZGVyICA6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbi8vIGZsb2F0IHJlbWFwKCBpbiBmbG9hdCB2YWx1ZSwgaW4gZmxvYXQgc3RhcnQsIGluIGZsb2F0IHN0b3AgKSB7XFxuLy8gXFx0cmV0dXJuIHN0YXJ0ICsgdmFsdWUgKiAoIHN0b3AgLSBzdGFydCApO1xcbi8vIH1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcblxcdFxcbn1cIixcblx0XHRcblx0XHRzaWRlIDogVEhSRUUuQmFja1NpZGUsXG5cdFx0dHJhbnNwYXJlbnQgOiB0cnVlLFxuXHRcdGRlcHRoVGVzdCA6IGZhbHNlLFxuXHRcdFxuXHRcdHVuaWZvcm1zOiB7XG5cdFx0XHR0aW1lOlx0IHsgdHlwZTogXCJmXCIsIHZhbHVlOjAgfSxcblx0XHR9LFxuXHRcdGF0dHJpYnV0ZXM6IHt9XG5cdH0pXG5cdFxuXHR2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblx0cG9lbS5zY2VuZS5hZGQoIG1lc2ggKTtcblx0XG5cdHBvZW0uZW1pdHRlci5vbigndXBkYXRlJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0bWF0ZXJpYWwudW5pZm9ybXMudGltZS52YWx1ZSA9IGUuZWxhcHNlZDtcblx0XHRtZXNoLnBvc2l0aW9uLmNvcHkoIHBvZW0uY2FtZXJhLm9iamVjdC5wb3NpdGlvbiApO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2t5O1xuIiwiXG52YXIgTG9hZFRleHR1cmVcdD0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMvbG9hZFRleHR1cmUnKVxudmFyIFJhbmRvbSA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL3JhbmRvbScpXG5cblx0XG5mdW5jdGlvbiBfY3JlYXRlTWF0ZXJpYWwoIGNvbG9yLCByYW5nZSApIHtcblx0XG5cdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XG5cdFx0dmVydGV4U2hhZGVyICAgIDogXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gZmxvYXQgZWxhcHNlZDtcXG51bmlmb3JtIGZsb2F0IHVSYW5nZTtcXG5hdHRyaWJ1dGUgZmxvYXQgc2l6ZTtcXG5hdHRyaWJ1dGUgZmxvYXQgYU9mZnNldDtcXG5cXG52YXJ5aW5nIGZsb2F0IHZPZmZzZXQ7XFxuLy9cXG4vLyBEZXNjcmlwdGlvbiA6IEFycmF5IGFuZCB0ZXh0dXJlbGVzcyBHTFNMIDJELzNELzREIHNpbXBsZXhcXG4vLyAgICAgICAgICAgICAgIG5vaXNlIGZ1bmN0aW9ucy5cXG4vLyAgICAgIEF1dGhvciA6IElhbiBNY0V3YW4sIEFzaGltYSBBcnRzLlxcbi8vICBNYWludGFpbmVyIDogaWptXFxuLy8gICAgIExhc3Rtb2QgOiAyMDExMDgyMiAoaWptKVxcbi8vICAgICBMaWNlbnNlIDogQ29weXJpZ2h0IChDKSAyMDExIEFzaGltYSBBcnRzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbi8vICAgICAgICAgICAgICAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTElDRU5TRSBmaWxlLlxcbi8vICAgICAgICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2FzaGltYS93ZWJnbC1ub2lzZVxcbi8vXFxuXFxudmVjMyBtb2QyODlfMV8wKHZlYzMgeCkge1xcbiAgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDtcXG59XFxuXFxudmVjNCBtb2QyODlfMV8wKHZlYzQgeCkge1xcbiAgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDtcXG59XFxuXFxudmVjNCBwZXJtdXRlXzFfMSh2ZWM0IHgpIHtcXG4gICAgIHJldHVybiBtb2QyODlfMV8wKCgoeCozNC4wKSsxLjApKngpO1xcbn1cXG5cXG52ZWM0IHRheWxvckludlNxcnRfMV8yKHZlYzQgcilcXG57XFxuICByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByO1xcbn1cXG5cXG5mbG9hdCBzbm9pc2VfMV8zKHZlYzMgdilcXG4gIHtcXG4gIGNvbnN0IHZlYzIgIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApIDtcXG4gIGNvbnN0IHZlYzQgIERfMV80ID0gdmVjNCgwLjAsIDAuNSwgMS4wLCAyLjApO1xcblxcbi8vIEZpcnN0IGNvcm5lclxcbiAgdmVjMyBpICA9IGZsb29yKHYgKyBkb3QodiwgQy55eXkpICk7XFxuICB2ZWMzIHgwID0gICB2IC0gaSArIGRvdChpLCBDLnh4eCkgO1xcblxcbi8vIE90aGVyIGNvcm5lcnNcXG4gIHZlYzMgZ18xXzUgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTtcXG4gIHZlYzMgbCA9IDEuMCAtIGdfMV81O1xcbiAgdmVjMyBpMSA9IG1pbiggZ18xXzUueHl6LCBsLnp4eSApO1xcbiAgdmVjMyBpMiA9IG1heCggZ18xXzUueHl6LCBsLnp4eSApO1xcblxcbiAgLy8gICB4MCA9IHgwIC0gMC4wICsgMC4wICogQy54eHg7XFxuICAvLyAgIHgxID0geDAgLSBpMSAgKyAxLjAgKiBDLnh4eDtcXG4gIC8vICAgeDIgPSB4MCAtIGkyICArIDIuMCAqIEMueHh4O1xcbiAgLy8gICB4MyA9IHgwIC0gMS4wICsgMy4wICogQy54eHg7XFxuICB2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4O1xcbiAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTsgLy8gMi4wKkMueCA9IDEvMyA9IEMueVxcbiAgdmVjMyB4MyA9IHgwIC0gRF8xXzQueXl5OyAgICAgIC8vIC0xLjArMy4wKkMueCA9IC0wLjUgPSAtRC55XFxuXFxuLy8gUGVybXV0YXRpb25zXFxuICBpID0gbW9kMjg5XzFfMChpKTtcXG4gIHZlYzQgcCA9IHBlcm11dGVfMV8xKCBwZXJtdXRlXzFfMSggcGVybXV0ZV8xXzEoXFxuICAgICAgICAgICAgIGkueiArIHZlYzQoMC4wLCBpMS56LCBpMi56LCAxLjAgKSlcXG4gICAgICAgICAgICsgaS55ICsgdmVjNCgwLjAsIGkxLnksIGkyLnksIDEuMCApKVxcbiAgICAgICAgICAgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpO1xcblxcbi8vIEdyYWRpZW50czogN3g3IHBvaW50cyBvdmVyIGEgc3F1YXJlLCBtYXBwZWQgb250byBhbiBvY3RhaGVkcm9uLlxcbi8vIFRoZSByaW5nIHNpemUgMTcqMTcgPSAyODkgaXMgY2xvc2UgdG8gYSBtdWx0aXBsZSBvZiA0OSAoNDkqNiA9IDI5NClcXG4gIGZsb2F0IG5fID0gMC4xNDI4NTcxNDI4NTc7IC8vIDEuMC83LjBcXG4gIHZlYzMgIG5zID0gbl8gKiBEXzFfNC53eXogLSBEXzFfNC54eng7XFxuXFxuICB2ZWM0IGogPSBwIC0gNDkuMCAqIGZsb29yKHAgKiBucy56ICogbnMueik7ICAvLyAgbW9kKHAsNyo3KVxcblxcbiAgdmVjNCB4XyA9IGZsb29yKGogKiBucy56KTtcXG4gIHZlYzQgeV8gPSBmbG9vcihqIC0gNy4wICogeF8gKTsgICAgLy8gbW9kKGosTilcXG5cXG4gIHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTtcXG4gIHZlYzQgeSA9IHlfICpucy54ICsgbnMueXl5eTtcXG4gIHZlYzQgaCA9IDEuMCAtIGFicyh4KSAtIGFicyh5KTtcXG5cXG4gIHZlYzQgYjAgPSB2ZWM0KCB4Lnh5LCB5Lnh5ICk7XFxuICB2ZWM0IGIxID0gdmVjNCggeC56dywgeS56dyApO1xcblxcbiAgLy92ZWM0IHMwID0gdmVjNChsZXNzVGhhbihiMCwwLjApKSoyLjAgLSAxLjA7XFxuICAvL3ZlYzQgczEgPSB2ZWM0KGxlc3NUaGFuKGIxLDAuMCkpKjIuMCAtIDEuMDtcXG4gIHZlYzQgczAgPSBmbG9vcihiMCkqMi4wICsgMS4wO1xcbiAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7XFxuICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTtcXG5cXG4gIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDtcXG4gIHZlYzQgYTFfMV82ID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7XFxuXFxuICB2ZWMzIHAwXzFfNyA9IHZlYzMoYTAueHksaC54KTtcXG4gIHZlYzMgcDEgPSB2ZWMzKGEwLnp3LGgueSk7XFxuICB2ZWMzIHAyID0gdmVjMyhhMV8xXzYueHksaC56KTtcXG4gIHZlYzMgcDMgPSB2ZWMzKGExXzFfNi56dyxoLncpO1xcblxcbi8vTm9ybWFsaXNlIGdyYWRpZW50c1xcbiAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydF8xXzIodmVjNChkb3QocDBfMV83LHAwXzFfNyksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7XFxuICBwMF8xXzcgKj0gbm9ybS54O1xcbiAgcDEgKj0gbm9ybS55O1xcbiAgcDIgKj0gbm9ybS56O1xcbiAgcDMgKj0gbm9ybS53O1xcblxcbi8vIE1peCBmaW5hbCBub2lzZSB2YWx1ZVxcbiAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7XFxuICBtID0gbSAqIG07XFxuICByZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDBfMV83LHgwKSwgZG90KHAxLHgxKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdChwMix4MiksIGRvdChwMyx4MykgKSApO1xcbiAgfVxcblxcblxcblxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXHQvLyB2ZWMzIG1vdmVtZW50ID0gdmVjMygwLjAsIGVsYXBzZWQgKiAwLjAwMSwgMC4wKTtcXG5cXHR2ZWMzIG1vdmVtZW50ID0gdmVjMyhcXG5cXHRcXHRzaW4oIGVsYXBzZWQgKiAwLjAwMiAqIGFPZmZzZXQpICogdVJhbmdlICogMC4wMDMsXFxuXFx0XFx0ZWxhcHNlZCAqICgtdVJhbmdlIC8gMTAwMDAwLjAgLSB1UmFuZ2UgLyAxMDAwMDAuMCAqIGFPZmZzZXQpLFxcblxcdFxcdGNvcyggZWxhcHNlZCAqIDAuMDAyICogYU9mZnNldCApICogdVJhbmdlICogMC4wMDNcXG5cXHQpO1xcblxcdFxcblxcdHZlYzMgcmFuZ2UgPSB2ZWMzKHVSYW5nZSwgdVJhbmdlICogMC4zLCB1UmFuZ2UpO1xcblxcdFxcblxcdHZlYzMgY2FtZXJhT2Zmc2V0ID0gY2FtZXJhUG9zaXRpb24gLSByYW5nZTtcXG5cXHRcXG5cXHR2ZWMzIG1vZHVsb1Bvc2l0aW9uID0gbW9kKCBwb3NpdGlvbiArIG1vdmVtZW50IC0gY2FtZXJhT2Zmc2V0LCByYW5nZSAqIDIuMCApICsgY2FtZXJhT2Zmc2V0O1xcblxcdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIG1vZHVsb1Bvc2l0aW9uLCAxLjAgKTtcXG5cXHRcXG5cXHR2T2Zmc2V0ID0gYU9mZnNldDtcXG5cXHRcXG5cXHRnbF9Qb2ludFNpemUgPSBzaXplICogKCB1UmFuZ2UgLyAobGVuZ3RoKCBtdlBvc2l0aW9uLnh5eiApICsgMS4wKSApO1xcblxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XFxuXFxufVwiLFxuXHRcdGZyYWdtZW50U2hhZGVyICA6IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSBmbG9hdCBlbGFwc2VkO1xcbnZhcnlpbmcgZmxvYXQgdk9mZnNldDtcXG5cXG52ZWMyIGRvTW9kZWwodmVjMyBwKTtcXG5cXG4vLyBPcmlnaW5hbGx5IHNvdXJjZWQgZnJvbSBodHRwczovL3d3dy5zaGFkZXJ0b3kuY29tL3ZpZXcvbGRmU1dzXFxuLy8gVGhhbmsgeW91IEnDsWlnbyA6KVxcblxcbnZlYzIgY2FsY1JheUludGVyc2VjdGlvbl8zXzAodmVjMyByYXlPcmlnaW4sIHZlYzMgcmF5RGlyLCBmbG9hdCBtYXhkLCBmbG9hdCBwcmVjaXMpIHtcXG4gIGZsb2F0IGxhdGVzdCA9IHByZWNpcyAqIDIuMDtcXG4gIGZsb2F0IGRpc3QgICA9ICswLjA7XFxuICBmbG9hdCB0eXBlICAgPSAtMS4wO1xcbiAgdmVjMiAgcmVzICAgID0gdmVjMigtMS4wLCAtMS4wKTtcXG5cXG4gIGZvciAoaW50IGkgPSAwOyBpIDwgMzA7IGkrKykge1xcbiAgICBpZiAobGF0ZXN0IDwgcHJlY2lzIHx8IGRpc3QgPiBtYXhkKSBicmVhaztcXG5cXG4gICAgdmVjMiByZXN1bHQgPSBkb01vZGVsKHJheU9yaWdpbiArIHJheURpciAqIGRpc3QpO1xcblxcbiAgICBsYXRlc3QgPSByZXN1bHQueDtcXG4gICAgdHlwZSAgID0gcmVzdWx0Lnk7XFxuICAgIGRpc3QgICs9IGxhdGVzdDtcXG4gIH1cXG5cXG4gIGlmIChkaXN0IDwgbWF4ZCkge1xcbiAgICByZXMgPSB2ZWMyKGRpc3QsIHR5cGUpO1xcbiAgfVxcblxcbiAgcmV0dXJuIHJlcztcXG59XFxuXFxudmVjMiBjYWxjUmF5SW50ZXJzZWN0aW9uXzNfMCh2ZWMzIHJheU9yaWdpbiwgdmVjMyByYXlEaXIpIHtcXG4gIHJldHVybiBjYWxjUmF5SW50ZXJzZWN0aW9uXzNfMChyYXlPcmlnaW4sIHJheURpciwgMjAuMCwgMC4wMDEpO1xcbn1cXG5cXG5cXG5cXG4vLyBPcmlnaW5hbGx5IHNvdXJjZWQgZnJvbSBodHRwczovL3d3dy5zaGFkZXJ0b3kuY29tL3ZpZXcvbGRmU1dzXFxuLy8gVGhhbmsgeW91IEnDsWlnbyA6KVxcblxcbnZlYzMgY2FsY05vcm1hbF81XzEodmVjMyBwb3MsIGZsb2F0IGVwcykge1xcbiAgY29uc3QgdmVjMyB2MSA9IHZlYzMoIDEuMCwtMS4wLC0xLjApO1xcbiAgY29uc3QgdmVjMyB2MiA9IHZlYzMoLTEuMCwtMS4wLCAxLjApO1xcbiAgY29uc3QgdmVjMyB2MyA9IHZlYzMoLTEuMCwgMS4wLC0xLjApO1xcbiAgY29uc3QgdmVjMyB2NCA9IHZlYzMoIDEuMCwgMS4wLCAxLjApO1xcblxcbiAgcmV0dXJuIG5vcm1hbGl6ZSggdjEgKiBkb01vZGVsKCBwb3MgKyB2MSplcHMgKS54ICtcXG4gICAgICAgICAgICAgICAgICAgIHYyICogZG9Nb2RlbCggcG9zICsgdjIqZXBzICkueCArXFxuICAgICAgICAgICAgICAgICAgICB2MyAqIGRvTW9kZWwoIHBvcyArIHYzKmVwcyApLnggK1xcbiAgICAgICAgICAgICAgICAgICAgdjQgKiBkb01vZGVsKCBwb3MgKyB2NCplcHMgKS54ICk7XFxufVxcblxcbnZlYzMgY2FsY05vcm1hbF81XzEodmVjMyBwb3MpIHtcXG4gIHJldHVybiBjYWxjTm9ybWFsXzVfMShwb3MsIDAuMDAyKTtcXG59XFxuXFxuXFxuXFxudmVjMiBzcXVhcmVGcmFtZV82XzIodmVjMiBzY3JlZW5TaXplKSB7XFxuICB2ZWMyIHBvc2l0aW9uID0gMi4wICogKGdsX0ZyYWdDb29yZC54eSAvIHNjcmVlblNpemUueHkpIC0gMS4wO1xcbiAgcG9zaXRpb24ueCAqPSBzY3JlZW5TaXplLnggLyBzY3JlZW5TaXplLnk7XFxuICByZXR1cm4gcG9zaXRpb247XFxufVxcblxcbnZlYzIgc3F1YXJlRnJhbWVfNl8yKHZlYzIgc2NyZWVuU2l6ZSwgdmVjMiBjb29yZCkge1xcbiAgdmVjMiBwb3NpdGlvbiA9IDIuMCAqIChjb29yZC54eSAvIHNjcmVlblNpemUueHkpIC0gMS4wO1xcbiAgcG9zaXRpb24ueCAqPSBzY3JlZW5TaXplLnggLyBzY3JlZW5TaXplLnk7XFxuICByZXR1cm4gcG9zaXRpb247XFxufVxcblxcblxcblxcbm1hdDMgY2FsY0xvb2tBdE1hdHJpeF83XzModmVjMyBvcmlnaW4sIHZlYzMgdGFyZ2V0LCBmbG9hdCByb2xsKSB7XFxuICB2ZWMzIHJyID0gdmVjMyhzaW4ocm9sbCksIGNvcyhyb2xsKSwgMC4wKTtcXG4gIHZlYzMgd3cgPSBub3JtYWxpemUodGFyZ2V0IC0gb3JpZ2luKTtcXG4gIHZlYzMgdXUgPSBub3JtYWxpemUoY3Jvc3Mod3csIHJyKSk7XFxuICB2ZWMzIHZ2ID0gbm9ybWFsaXplKGNyb3NzKHV1LCB3dykpO1xcblxcbiAgcmV0dXJuIG1hdDModXUsIHZ2LCB3dyk7XFxufVxcblxcblxcblxcblxcbnZlYzMgZ2V0UmF5XzRfNChtYXQzIGNhbU1hdCwgdmVjMiBzY3JlZW5Qb3MsIGZsb2F0IGxlbnNMZW5ndGgpIHtcXG4gIHJldHVybiBub3JtYWxpemUoY2FtTWF0ICogdmVjMyhzY3JlZW5Qb3MsIGxlbnNMZW5ndGgpKTtcXG59XFxuXFxudmVjMyBnZXRSYXlfNF80KHZlYzMgb3JpZ2luLCB2ZWMzIHRhcmdldCwgdmVjMiBzY3JlZW5Qb3MsIGZsb2F0IGxlbnNMZW5ndGgpIHtcXG4gIG1hdDMgY2FtTWF0ID0gY2FsY0xvb2tBdE1hdHJpeF83XzMob3JpZ2luLCB0YXJnZXQsIDAuMCk7XFxuICByZXR1cm4gZ2V0UmF5XzRfNChjYW1NYXQsIHNjcmVlblBvcywgbGVuc0xlbmd0aCk7XFxufVxcblxcblxcblxcblxcbnZvaWQgb3JiaXRDYW1lcmFfMl81KFxcbiAgaW4gZmxvYXQgY2FtQW5nbGUsXFxuICBpbiBmbG9hdCBjYW1IZWlnaHQsXFxuICBpbiBmbG9hdCBjYW1EaXN0YW5jZSxcXG4gIGluIHZlYzIgc2NyZWVuUmVzb2x1dGlvbixcXG4gIG91dCB2ZWMzIHJheU9yaWdpbixcXG4gIG91dCB2ZWMzIHJheURpcmVjdGlvblxcbikge1xcbiAgdmVjMiBzY3JlZW5Qb3MgPSBzcXVhcmVGcmFtZV82XzIoc2NyZWVuUmVzb2x1dGlvbik7XFxuICB2ZWMzIHJheVRhcmdldCA9IHZlYzMoMC4wKTtcXG5cXG4gIHJheU9yaWdpbiA9IHZlYzMoXFxuICAgIGNhbURpc3RhbmNlICogc2luKGNhbUFuZ2xlKSxcXG4gICAgY2FtSGVpZ2h0LFxcbiAgICBjYW1EaXN0YW5jZSAqIGNvcyhjYW1BbmdsZSlcXG4gICk7XFxuXFxuICByYXlEaXJlY3Rpb24gPSBnZXRSYXlfNF80KHJheU9yaWdpbiwgcmF5VGFyZ2V0LCBzY3JlZW5Qb3MsIDIuMCk7XFxufVxcblxcblxcblxcbi8vXFxuLy8gRGVzY3JpcHRpb24gOiBBcnJheSBhbmQgdGV4dHVyZWxlc3MgR0xTTCAyRC8zRC80RCBzaW1wbGV4XFxuLy8gICAgICAgICAgICAgICBub2lzZSBmdW5jdGlvbnMuXFxuLy8gICAgICBBdXRob3IgOiBJYW4gTWNFd2FuLCBBc2hpbWEgQXJ0cy5cXG4vLyAgTWFpbnRhaW5lciA6IGlqbVxcbi8vICAgICBMYXN0bW9kIDogMjAxMTA4MjIgKGlqbSlcXG4vLyAgICAgTGljZW5zZSA6IENvcHlyaWdodCAoQykgMjAxMSBBc2hpbWEgQXJ0cy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG4vLyAgICAgICAgICAgICAgIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZS5cXG4vLyAgICAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hc2hpbWEvd2ViZ2wtbm9pc2VcXG4vL1xcblxcbnZlYzQgbW9kMjg5XzFfNih2ZWM0IHgpIHtcXG4gIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7IH1cXG5cXG5mbG9hdCBtb2QyODlfMV82KGZsb2F0IHgpIHtcXG4gIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7IH1cXG5cXG52ZWM0IHBlcm11dGVfMV83KHZlYzQgeCkge1xcbiAgICAgcmV0dXJuIG1vZDI4OV8xXzYoKCh4KjM0LjApKzEuMCkqeCk7XFxufVxcblxcbmZsb2F0IHBlcm11dGVfMV83KGZsb2F0IHgpIHtcXG4gICAgIHJldHVybiBtb2QyODlfMV82KCgoeCozNC4wKSsxLjApKngpO1xcbn1cXG5cXG52ZWM0IHRheWxvckludlNxcnRfMV84KHZlYzQgcilcXG57XFxuICByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByO1xcbn1cXG5cXG5mbG9hdCB0YXlsb3JJbnZTcXJ0XzFfOChmbG9hdCByKVxcbntcXG4gIHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7XFxufVxcblxcbnZlYzQgZ3JhZDRfMV85KGZsb2F0IGosIHZlYzQgaXApXFxuICB7XFxuICBjb25zdCB2ZWM0IG9uZXMgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIC0xLjApO1xcbiAgdmVjNCBwLHM7XFxuXFxuICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDtcXG4gIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7XFxuICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTtcXG4gIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3O1xcblxcbiAgcmV0dXJuIHA7XFxuICB9XFxuXFxuLy8gKHNxcnQoNSkgLSAxKS80ID0gRjQsIHVzZWQgb25jZSBiZWxvd1xcbiNkZWZpbmUgRjQgMC4zMDkwMTY5OTQzNzQ5NDc0NTFcXG5cXG5mbG9hdCBzbm9pc2VfMV8xMCh2ZWM0IHYpXFxuICB7XFxuICBjb25zdCB2ZWM0ICBDID0gdmVjNCggMC4xMzgxOTY2MDExMjUwMTEsICAvLyAoNSAtIHNxcnQoNSkpLzIwICBHNFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAuMjc2MzkzMjAyMjUwMDIxLCAgLy8gMiAqIEc0XFxuICAgICAgICAgICAgICAgICAgICAgICAgMC40MTQ1ODk4MDMzNzUwMzIsICAvLyAzICogRzRcXG4gICAgICAgICAgICAgICAgICAgICAgIC0wLjQ0NzIxMzU5NTQ5OTk1OCk7IC8vIC0xICsgNCAqIEc0XFxuXFxuLy8gRmlyc3QgY29ybmVyXFxuICB2ZWM0IGkgID0gZmxvb3IodiArIGRvdCh2LCB2ZWM0KEY0KSkgKTtcXG4gIHZlYzQgeDAgPSB2IC0gICBpICsgZG90KGksIEMueHh4eCk7XFxuXFxuLy8gT3RoZXIgY29ybmVyc1xcblxcbi8vIFJhbmsgc29ydGluZyBvcmlnaW5hbGx5IGNvbnRyaWJ1dGVkIGJ5IEJpbGwgTGljZWEtS2FuZSwgQU1EIChmb3JtZXJseSBBVEkpXFxuICB2ZWM0IGkwO1xcbiAgdmVjMyBpc1ggPSBzdGVwKCB4MC55encsIHgwLnh4eCApO1xcbiAgdmVjMyBpc1laID0gc3RlcCggeDAuend3LCB4MC55eXogKTtcXG4vLyAgaTAueCA9IGRvdCggaXNYLCB2ZWMzKCAxLjAgKSApO1xcbiAgaTAueCA9IGlzWC54ICsgaXNYLnkgKyBpc1guejtcXG4gIGkwLnl6dyA9IDEuMCAtIGlzWDtcXG4vLyAgaTAueSArPSBkb3QoIGlzWVoueHksIHZlYzIoIDEuMCApICk7XFxuICBpMC55ICs9IGlzWVoueCArIGlzWVoueTtcXG4gIGkwLnp3ICs9IDEuMCAtIGlzWVoueHk7XFxuICBpMC56ICs9IGlzWVouejtcXG4gIGkwLncgKz0gMS4wIC0gaXNZWi56O1xcblxcbiAgLy8gaTAgbm93IGNvbnRhaW5zIHRoZSB1bmlxdWUgdmFsdWVzIDAsMSwyLDMgaW4gZWFjaCBjaGFubmVsXFxuICB2ZWM0IGkzID0gY2xhbXAoIGkwLCAwLjAsIDEuMCApO1xcbiAgdmVjNCBpMiA9IGNsYW1wKCBpMC0xLjAsIDAuMCwgMS4wICk7XFxuICB2ZWM0IGkxID0gY2xhbXAoIGkwLTIuMCwgMC4wLCAxLjAgKTtcXG5cXG4gIC8vICB4MCA9IHgwIC0gMC4wICsgMC4wICogQy54eHh4XFxuICAvLyAgeDEgPSB4MCAtIGkxICArIDEuMCAqIEMueHh4eFxcbiAgLy8gIHgyID0geDAgLSBpMiAgKyAyLjAgKiBDLnh4eHhcXG4gIC8vICB4MyA9IHgwIC0gaTMgICsgMy4wICogQy54eHh4XFxuICAvLyAgeDQgPSB4MCAtIDEuMCArIDQuMCAqIEMueHh4eFxcbiAgdmVjNCB4MSA9IHgwIC0gaTEgKyBDLnh4eHg7XFxuICB2ZWM0IHgyID0geDAgLSBpMiArIEMueXl5eTtcXG4gIHZlYzQgeDMgPSB4MCAtIGkzICsgQy56enp6O1xcbiAgdmVjNCB4NCA9IHgwICsgQy53d3d3O1xcblxcbi8vIFBlcm11dGF0aW9uc1xcbiAgaSA9IG1vZDI4OV8xXzYoaSk7XFxuICBmbG9hdCBqMCA9IHBlcm11dGVfMV83KCBwZXJtdXRlXzFfNyggcGVybXV0ZV8xXzcoIHBlcm11dGVfMV83KGkudykgKyBpLnopICsgaS55KSArIGkueCk7XFxuICB2ZWM0IGoxID0gcGVybXV0ZV8xXzcoIHBlcm11dGVfMV83KCBwZXJtdXRlXzFfNyggcGVybXV0ZV8xXzcgKFxcbiAgICAgICAgICAgICBpLncgKyB2ZWM0KGkxLncsIGkyLncsIGkzLncsIDEuMCApKVxcbiAgICAgICAgICAgKyBpLnogKyB2ZWM0KGkxLnosIGkyLnosIGkzLnosIDEuMCApKVxcbiAgICAgICAgICAgKyBpLnkgKyB2ZWM0KGkxLnksIGkyLnksIGkzLnksIDEuMCApKVxcbiAgICAgICAgICAgKyBpLnggKyB2ZWM0KGkxLngsIGkyLngsIGkzLngsIDEuMCApKTtcXG5cXG4vLyBHcmFkaWVudHM6IDd4N3g2IHBvaW50cyBvdmVyIGEgY3ViZSwgbWFwcGVkIG9udG8gYSA0LWNyb3NzIHBvbHl0b3BlXFxuLy8gNyo3KjYgPSAyOTQsIHdoaWNoIGlzIGNsb3NlIHRvIHRoZSByaW5nIHNpemUgMTcqMTcgPSAyODkuXFxuICB2ZWM0IGlwID0gdmVjNCgxLjAvMjk0LjAsIDEuMC80OS4wLCAxLjAvNy4wLCAwLjApIDtcXG5cXG4gIHZlYzQgcDBfMV8xMSA9IGdyYWQ0XzFfOShqMCwgICBpcCk7XFxuICB2ZWM0IHAxID0gZ3JhZDRfMV85KGoxLngsIGlwKTtcXG4gIHZlYzQgcDIgPSBncmFkNF8xXzkoajEueSwgaXApO1xcbiAgdmVjNCBwMyA9IGdyYWQ0XzFfOShqMS56LCBpcCk7XFxuICB2ZWM0IHA0ID0gZ3JhZDRfMV85KGoxLncsIGlwKTtcXG5cXG4vLyBOb3JtYWxpc2UgZ3JhZGllbnRzXFxuICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0XzFfOCh2ZWM0KGRvdChwMF8xXzExLHAwXzFfMTEpLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpO1xcbiAgcDBfMV8xMSAqPSBub3JtLng7XFxuICBwMSAqPSBub3JtLnk7XFxuICBwMiAqPSBub3JtLno7XFxuICBwMyAqPSBub3JtLnc7XFxuICBwNCAqPSB0YXlsb3JJbnZTcXJ0XzFfOChkb3QocDQscDQpKTtcXG5cXG4vLyBNaXggY29udHJpYnV0aW9ucyBmcm9tIHRoZSBmaXZlIGNvcm5lcnNcXG4gIHZlYzMgbTAgPSBtYXgoMC42IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpKSwgMC4wKTtcXG4gIHZlYzIgbTEgPSBtYXgoMC42IC0gdmVjMihkb3QoeDMseDMpLCBkb3QoeDQseDQpICAgICAgICAgICAgKSwgMC4wKTtcXG4gIG0wID0gbTAgKiBtMDtcXG4gIG0xID0gbTEgKiBtMTtcXG4gIHJldHVybiA0OS4wICogKCBkb3QobTAqbTAsIHZlYzMoIGRvdCggcDBfMV8xMSwgeDAgKSwgZG90KCBwMSwgeDEgKSwgZG90KCBwMiwgeDIgKSkpXFxuICAgICAgICAgICAgICAgKyBkb3QobTEqbTEsIHZlYzIoIGRvdCggcDMsIHgzICksIGRvdCggcDQsIHg0ICkgKSApICkgO1xcblxcbiAgfVxcblxcblxcblxcblxcblxcbnZlYzIgZG9Nb2RlbCh2ZWMzIHApIHtcXG5cXHRmbG9hdCByICA9IDEuMCArIHNub2lzZV8xXzEwKHZlYzQocCwgZWxhcHNlZCAvIDEwMDAuMCkpICogMC4yNTtcXG5cXHRmbG9hdCBkICA9IGxlbmd0aChwKSAtIHI7XFxuXFx0ZmxvYXQgaWQgPSAwLjA7XFxuXFxuXFx0cmV0dXJuIHZlYzIoZCwgaWQpO1xcbn1cXG5cXG52ZWMyIHNxdWFyZUZyYW1lKHZlYzIgc2NyZWVuU2l6ZSwgdmVjMiBzY3JlZW5Qb3NpdGlvbikge1xcblxcdHZlYzIgcG9zaXRpb24gPSAyLjAgKiAoc2NyZWVuUG9zaXRpb24ueHkgLyBzY3JlZW5TaXplLnh5KSAtIDEuMDtcXG5cXHRwb3NpdGlvbi54ICo9IHNjcmVlblNpemUueCAvIHNjcmVlblNpemUueTtcXG5cXHRyZXR1cm4gcG9zaXRpb247XFxufVxcblxcblxcbnZvaWQgb3JiaXRDYW1lcmEoXFxuXFx0aW4gZmxvYXQgY2FtQW5nbGUsXFxuXFx0aW4gZmxvYXQgY2FtSGVpZ2h0LFxcblxcdGluIGZsb2F0IGNhbURpc3RhbmNlLFxcblxcdGluIHZlYzIgc2NyZWVuUmVzb2x1dGlvbixcXG5cXHRpbiB2ZWMyIHNjcmVlblBvc2l0aW9uLFxcblxcdG91dCB2ZWMzIHJheU9yaWdpbixcXG5cXHRvdXQgdmVjMyByYXlEaXJlY3Rpb25cXG4pIHtcXG5cXHR2ZWMyIHNjcmVlblBvcyA9IHNxdWFyZUZyYW1lKHNjcmVlblJlc29sdXRpb24sIHNjcmVlblBvc2l0aW9uKTtcXG5cXHR2ZWMzIHJheVRhcmdldCA9IHZlYzMoMC4wKTtcXG4gXFxuXFx0cmF5T3JpZ2luID0gdmVjMyhcXG5cXHRcXHRjYW1EaXN0YW5jZSAqIHNpbihjYW1BbmdsZSksXFxuXFx0XFx0Y2FtSGVpZ2h0LFxcblxcdFxcdGNhbURpc3RhbmNlICogY29zKGNhbUFuZ2xlKVxcblxcdCk7XFxuIFxcblxcdHJheURpcmVjdGlvbiA9IGdldFJheV80XzQocmF5T3JpZ2luLCByYXlUYXJnZXQsIHNjcmVlblBvcywgMi4wKTtcXG59XFxuXFxuXFxudm9pZCBtYWluKCkge1xcblxcdHZlYzMgY29sb3IgPSB2ZWMzKDAuMCk7XFxuXFx0dmVjMyByYXlPcmlnaW4sIHJheURpcmVjdGlvbjtcXG5cXG5cXHRmbG9hdCByb3RhdGlvbiA9IGVsYXBzZWQgLyAxMDAwLjA7XFxuXFx0ZmxvYXQgaGVpZ2h0ICAgPSAwLjA7XFxuXFx0ZmxvYXQgZGlzdCAgICAgPSAzLjA7XFxuXFx0dmVjMiBpUmVzb2x1dGlvbiA9IHZlYzIoIDEuMCwgMS4wICk7XFxuXFx0XFxuXFx0b3JiaXRDYW1lcmEocm90YXRpb24gKyB2T2Zmc2V0ICogMTAwLjAsIGhlaWdodCwgZGlzdCwgaVJlc29sdXRpb24sIGdsX1BvaW50Q29vcmQsIHJheU9yaWdpbiwgcmF5RGlyZWN0aW9uKTtcXG5cXG5cXHR2ZWMyIHQgPSBjYWxjUmF5SW50ZXJzZWN0aW9uXzNfMChyYXlPcmlnaW4sIHJheURpcmVjdGlvbik7XFxuXFx0aWYgKHQueCA+IC0wLjUpIHtcXG5cXHRcXHR2ZWMzIHBvcyA9IHJheU9yaWdpbiArIHJheURpcmVjdGlvbiAqIHQueDtcXG5cXHRcXHR2ZWMzIG5vciA9IGNhbGNOb3JtYWxfNV8xKHBvcyk7XFxuXFxuXFx0XFx0Y29sb3IgPSBub3IgKiAwLjUgKyAwLjU7XFxuXFx0fVxcblxcblxcdGdsX0ZyYWdDb2xvci5yZ2IgPSBjb2xvcjtcXG5cXHRnbF9GcmFnQ29sb3IuYVxcdCA9IGxlbmd0aChjb2xvcikgKiAxMC4wO1xcbn1cXG5cXG4vLyBPbGQgc2hhZGVyOlxcbi8vXFxuLy8gdW5pZm9ybSB2ZWMzIGNvbG9yO1xcbi8vIHVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuLy8gdW5pZm9ybSBmbG9hdCBlbGFwc2VkO1xcbi8vXFxuLy8gdmFyeWluZyBmbG9hdCB2QWxwaGE7XFxuLy9cXG4vLyB2b2lkIG1haW4oKSB7XFxuLy9cXG4vLyBcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbi8vXFxuLy8gfVxcbi8vIFwiLFxuXHRcdGRlcHRoVGVzdCAgICAgICA6IGZhbHNlLFxuXHRcdGJsZW5kaW5nICAgICAgIDogVEhSRUUuQWRkaXRpdmVCbGVuZGluZyxcblx0XHR0cmFuc3BhcmVudCAgICAgOiB0cnVlLFxuXHRcdHVuaWZvcm1zICAgICAgICA6IHtcblx0XHRcdGVsYXBzZWQgOiB7IHR5cGU6ICdmJywgdmFsdWU6IGNvbG9yIH0sXG5cdFx0XHR1UmFuZ2UgOiB7IHR5cGU6ICdmJywgdmFsdWU6IHJhbmdlIH1cblx0XHR9LFxuXHRcdGF0dHJpYnV0ZXMgICAgICAgOiB7XG5cdFx0XHRzaXplIDogeyB0eXBlOiAnZicsIHZhbHVlOiBbXSB9LFxuXHRcdFx0YU9mZnNldCA6IHsgdHlwZTogJ2YnLCB2YWx1ZTogW10gfVxuXHRcdH1cblxuXHR9KVxuXHRcblx0XG5cdHJldHVybiBtYXRlcmlhbFxufVxuXG5mdW5jdGlvbiBfY3JlYXRlR2VvbWV0cnkoIG1hdGVyaWFsLCBjb3VudCwgcmFuZ2UsIHNpemVSYW5nZSwgcmF0aW8gKSB7XG5cdFxuXHR2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKVxuXG5cdHZhciBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KCBjb3VudCAqIDMgKVxuXHR2YXIgc2l6ZXMgPSBuZXcgRmxvYXQzMkFycmF5KCBjb3VudCApXG5cdHZhciBvZmZzZXRzID0gbmV3IEZsb2F0MzJBcnJheSggY291bnQgKVxuXG5cdGZvciggdmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKyApIHtcblx0XHRcblx0XHRwb3NpdGlvbnNbIGkgKiAzICsgMCBdID0gUmFuZG9tLnJhbmdlKCAtcmFuZ2UsIHJhbmdlIClcblx0XHRwb3NpdGlvbnNbIGkgKiAzICsgMSBdID0gUmFuZG9tLnJhbmdlKCAtcmFuZ2UsIHJhbmdlICkgKiAwLjNcblx0XHRwb3NpdGlvbnNbIGkgKiAzICsgMiBdID0gUmFuZG9tLnJhbmdlKCAtcmFuZ2UsIHJhbmdlIClcblxuXHRcdHNpemVzWyBpIF0gPSBSYW5kb20ucmFuZ2UoIHNpemVSYW5nZVswXSwgc2l6ZVJhbmdlWzFdICkgKiByYXRpb1xuXHRcdG9mZnNldHNbIGkgXSA9IFJhbmRvbS5yYW5nZSggMCwgMSApXG5cblx0fVxuXHRcblx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBwb3NpdGlvbnMsIDMgKSApXG5cdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3NpemUnLCAgICAgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggc2l6ZXMsIDEgKSApXG5cdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ2FPZmZzZXQnLCAgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggb2Zmc2V0cywgMSApIClcblx0XG5cdHJldHVybiBnZW9tZXRyeVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlTWVzaEFuZFN0YXJ0KCBwb2VtLCBnZW9tZXRyeSwgbWF0ZXJpYWwgKSB7XG5cdFxuXHR2YXIgbWVzaCA9IG5ldyBUSFJFRS5Qb2ludENsb3VkKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKVxuXHRtZXNoLmZydXN0dW1DdWxsZWQgPSBmYWxzZVxuXG5cdHZhciBwID0gTG9hZFRleHR1cmUoIFwiYXNzZXRzL2ltYWdlcy9ib2tlaC5wbmdcIiwgbWF0ZXJpYWwudW5pZm9ybXMudGV4dHVyZSwgXCJ2YWx1ZVwiICkudGhlbihmdW5jdGlvbigpIHtcblxuXHRcdHBvZW0uc2NlbmUuYWRkKCBtZXNoIClcblx0XHRwb2VtLmVtaXR0ZXIub24oJ3VwZGF0ZScsIF91cGRhdGVGbiggcG9lbSwgbWVzaCApKVxuXHR9KVxuXHRcblx0cmV0dXJuIG1lc2hcbn1cblxuZnVuY3Rpb24gX3VwZGF0ZUZuKCBwb2VtLCBtZXNoICkge1xuXHRcblx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRcblx0XHQvLyBtZXNoLnBvc2l0aW9uLmNvcHkoIHBvZW0uY2FtZXJhLm9iamVjdC5wb3NpdGlvbiApXG5cdFx0bWVzaC5tYXRlcmlhbC51bmlmb3Jtcy5lbGFwc2VkLnZhbHVlID0gZS5lbGFwc2VkO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFydGljbGVzKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0Y291bnQ6XHRcdDEwMDBcblx0ICAsIGNvbG9yOlx0XHRuZXcgVEhSRUUuQ29sb3IoMHg3N2ZmZmYpXG5cdCAgLCByYW5nZTpcdFx0MzAwXG5cdCAgLCBzaXplUmFuZ2U6XHRbMTAsMjBdXG5cdH0sIHByb3BlcnRpZXMpXG5cdFxuXHR2YXIgbWF0ZXJpYWwgPSBfY3JlYXRlTWF0ZXJpYWwoXG5cdFx0Y29uZmlnLmNvbG9yXG5cdCAgLCBjb25maWcucmFuZ2Vcblx0KVxuXHRcblx0dmFyIGdlb21ldHJ5ID0gX2NyZWF0ZUdlb21ldHJ5KFxuXHRcdG1hdGVyaWFsXG5cdCAgLCBjb25maWcuY291bnRcblx0ICAsIGNvbmZpZy5yYW5nZVxuXHQgICwgY29uZmlnLnNpemVSYW5nZVxuXHQgICwgcG9lbS5yYXRpb1xuXHQpXG5cdFxuXHR2YXIgbWVzaCA9IF9jcmVhdGVNZXNoQW5kU3RhcnQoXG5cdFx0cG9lbSxcblx0XHRnZW9tZXRyeSxcblx0XHRtYXRlcmlhbFxuXHQpXG5cdFxuXHRyZXR1cm4ge31cbn0iLCJcbnZhciBMb2FkVGV4dHVyZVx0PSByZXF1aXJlKCcuLi8uLi8uLi91dGlscy9sb2FkVGV4dHVyZScpXG52YXIgUmFuZG9tID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMvcmFuZG9tJylcbnZhciBMZXJwID0gcmVxdWlyZSgnbGVycCcpXG5cdFxuZnVuY3Rpb24gX2NyZWF0ZU1hdGVyaWFsKCBjb2xvciApIHtcblx0XG5cdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XG5cdFx0dmVydGV4U2hhZGVyICAgIDogXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gZmxvYXQgZWxhcHNlZDtcXG5cXG5hdHRyaWJ1dGUgZmxvYXQgc2l6ZTtcXG5hdHRyaWJ1dGUgZmxvYXQgb3BhY2l0eTtcXG5cXG52YXJ5aW5nIGZsb2F0IHZBbHBoYTtcXG5cXG4vL1xcbi8vIERlc2NyaXB0aW9uIDogQXJyYXkgYW5kIHRleHR1cmVsZXNzIEdMU0wgMkQvM0QvNEQgc2ltcGxleFxcbi8vICAgICAgICAgICAgICAgbm9pc2UgZnVuY3Rpb25zLlxcbi8vICAgICAgQXV0aG9yIDogSWFuIE1jRXdhbiwgQXNoaW1hIEFydHMuXFxuLy8gIE1haW50YWluZXIgOiBpam1cXG4vLyAgICAgTGFzdG1vZCA6IDIwMTEwODIyIChpam0pXFxuLy8gICAgIExpY2Vuc2UgOiBDb3B5cmlnaHQgKEMpIDIwMTEgQXNoaW1hIEFydHMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuLy8gICAgICAgICAgICAgICBEaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMSUNFTlNFIGZpbGUuXFxuLy8gICAgICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYXNoaW1hL3dlYmdsLW5vaXNlXFxuLy9cXG5cXG52ZWMzIG1vZDI4OV8xXzAodmVjMyB4KSB7XFxuICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xcbn1cXG5cXG52ZWM0IG1vZDI4OV8xXzAodmVjNCB4KSB7XFxuICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xcbn1cXG5cXG52ZWM0IHBlcm11dGVfMV8xKHZlYzQgeCkge1xcbiAgICAgcmV0dXJuIG1vZDI4OV8xXzAoKCh4KjM0LjApKzEuMCkqeCk7XFxufVxcblxcbnZlYzQgdGF5bG9ySW52U3FydF8xXzIodmVjNCByKVxcbntcXG4gIHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7XFxufVxcblxcbmZsb2F0IHNub2lzZV8xXzModmVjMyB2KVxcbiAge1xcbiAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgO1xcbiAgY29uc3QgdmVjNCAgRF8xXzQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7XFxuXFxuLy8gRmlyc3QgY29ybmVyXFxuICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTtcXG4gIHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7XFxuXFxuLy8gT3RoZXIgY29ybmVyc1xcbiAgdmVjMyBnXzFfNSA9IHN0ZXAoeDAueXp4LCB4MC54eXopO1xcbiAgdmVjMyBsID0gMS4wIC0gZ18xXzU7XFxuICB2ZWMzIGkxID0gbWluKCBnXzFfNS54eXosIGwuenh5ICk7XFxuICB2ZWMzIGkyID0gbWF4KCBnXzFfNS54eXosIGwuenh5ICk7XFxuXFxuICAvLyAgIHgwID0geDAgLSAwLjAgKyAwLjAgKiBDLnh4eDtcXG4gIC8vICAgeDEgPSB4MCAtIGkxICArIDEuMCAqIEMueHh4O1xcbiAgLy8gICB4MiA9IHgwIC0gaTIgICsgMi4wICogQy54eHg7XFxuICAvLyAgIHgzID0geDAgLSAxLjAgKyAzLjAgKiBDLnh4eDtcXG4gIHZlYzMgeDEgPSB4MCAtIGkxICsgQy54eHg7XFxuICB2ZWMzIHgyID0geDAgLSBpMiArIEMueXl5OyAvLyAyLjAqQy54ID0gMS8zID0gQy55XFxuICB2ZWMzIHgzID0geDAgLSBEXzFfNC55eXk7ICAgICAgLy8gLTEuMCszLjAqQy54ID0gLTAuNSA9IC1ELnlcXG5cXG4vLyBQZXJtdXRhdGlvbnNcXG4gIGkgPSBtb2QyODlfMV8wKGkpO1xcbiAgdmVjNCBwID0gcGVybXV0ZV8xXzEoIHBlcm11dGVfMV8xKCBwZXJtdXRlXzFfMShcXG4gICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKVxcbiAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpXFxuICAgICAgICAgICArIGkueCArIHZlYzQoMC4wLCBpMS54LCBpMi54LCAxLjAgKSk7XFxuXFxuLy8gR3JhZGllbnRzOiA3eDcgcG9pbnRzIG92ZXIgYSBzcXVhcmUsIG1hcHBlZCBvbnRvIGFuIG9jdGFoZWRyb24uXFxuLy8gVGhlIHJpbmcgc2l6ZSAxNyoxNyA9IDI4OSBpcyBjbG9zZSB0byBhIG11bHRpcGxlIG9mIDQ5ICg0OSo2ID0gMjk0KVxcbiAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgLy8gMS4wLzcuMFxcbiAgdmVjMyAgbnMgPSBuXyAqIERfMV80Lnd5eiAtIERfMV80Lnh6eDtcXG5cXG4gIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIC8vICBtb2QocCw3KjcpXFxuXFxuICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopO1xcbiAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAvLyBtb2QoaixOKVxcblxcbiAgdmVjNCB4ID0geF8gKm5zLnggKyBucy55eXl5O1xcbiAgdmVjNCB5ID0geV8gKm5zLnggKyBucy55eXl5O1xcbiAgdmVjNCBoID0gMS4wIC0gYWJzKHgpIC0gYWJzKHkpO1xcblxcbiAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTtcXG4gIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7XFxuXFxuICAvL3ZlYzQgczAgPSB2ZWM0KGxlc3NUaGFuKGIwLDAuMCkpKjIuMCAtIDEuMDtcXG4gIC8vdmVjNCBzMSA9IHZlYzQobGVzc1RoYW4oYjEsMC4wKSkqMi4wIC0gMS4wO1xcbiAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7XFxuICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDtcXG4gIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpO1xcblxcbiAgdmVjNCBhMCA9IGIwLnh6eXcgKyBzMC54enl3KnNoLnh4eXkgO1xcbiAgdmVjNCBhMV8xXzYgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDtcXG5cXG4gIHZlYzMgcDBfMV83ID0gdmVjMyhhMC54eSxoLngpO1xcbiAgdmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTtcXG4gIHZlYzMgcDIgPSB2ZWMzKGExXzFfNi54eSxoLnopO1xcbiAgdmVjMyBwMyA9IHZlYzMoYTFfMV82Lnp3LGgudyk7XFxuXFxuLy9Ob3JtYWxpc2UgZ3JhZGllbnRzXFxuICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0XzFfMih2ZWM0KGRvdChwMF8xXzcscDBfMV83KSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTtcXG4gIHAwXzFfNyAqPSBub3JtLng7XFxuICBwMSAqPSBub3JtLnk7XFxuICBwMiAqPSBub3JtLno7XFxuICBwMyAqPSBub3JtLnc7XFxuXFxuLy8gTWl4IGZpbmFsIG5vaXNlIHZhbHVlXFxuICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTtcXG4gIG0gPSBtICogbTtcXG4gIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMF8xXzcseDApLCBkb3QocDEseDEpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7XFxuICB9XFxuXFxuXFxuXFxuXFxudm9pZCBtYWluKCkge1xcblxcblxcdHZBbHBoYSA9IG9wYWNpdHk7XFxuXFxuXFx0dmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcblxcdFxcblxcdGdsX1BvaW50U2l6ZSA9IDEwMC4wICogc2l6ZSAvIGxlbmd0aCggbXZQb3NpdGlvbi54eXogKTtcXG5cXHRcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xcbn1cIixcblx0XHRmcmFnbWVudFNoYWRlciAgOiBcIiNkZWZpbmUgR0xTTElGWSAxXFxudW5pZm9ybSB2ZWMzIGNvbG9yO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuLy8gdW5pZm9ybSBmbG9hdCBlbGFwc2VkO1xcblxcbnZhcnlpbmcgZmxvYXQgdkFscGhhO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCB2QWxwaGEpICogdGV4dHVyZTJEKCB0ZXh0dXJlLCBnbF9Qb2ludENvb3JkICk7XFxuXFx0XFxufVwiLFxuXHRcdFxuXHRcdGRlcHRoVGVzdCAgICAgICA6IGZhbHNlLFxuXHRcdGJsZW5kaW5nICAgICAgIDogVEhSRUUuQWRkaXRpdmVCbGVuZGluZyxcblx0XHR0cmFuc3BhcmVudCAgICAgOiB0cnVlLFxuXHRcdFxuXHRcdHVuaWZvcm1zOiB7XG5cdFx0XHRlbGFwc2VkIDogeyB0eXBlOiAnZicgfSxcblx0XHRcdHRleHR1cmUgOiB7IHR5cGU6ICd0JyB9LFxuXHRcdFx0Y29sb3IgOiB7IHR5cGU6ICdjJywgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcihjb2xvcikgfSxcblx0XHR9LFxuXHRcdFxuXHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdHNpemUgOiB7IHR5cGU6ICdmJywgdmFsdWU6IFtdIH0sXG5cdFx0XHRvcGFjaXR5IDogeyB0eXBlOiAnZicsIHZhbHVlOiBbXSB9XG5cdFx0fVxuXG5cdH0pXG5cdFxuXHRcblx0cmV0dXJuIG1hdGVyaWFsXG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVHZW9tZXRyeSggY29uZmlnLCByYXRpbyApIHtcblxuXHR2YXIgZ2VvbWV0cnkgID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KClcblx0XG5cdHZhciBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KCBjb25maWcuc2VnbWVudHNDb3VudCAqIDMgKVxuXHR2YXIgc2l6ZXMgICAgID0gbmV3IEZsb2F0MzJBcnJheSggY29uZmlnLnNlZ21lbnRzQ291bnQgKVxuXHR2YXIgb3BhY2l0eSAgID0gbmV3IEZsb2F0MzJBcnJheSggY29uZmlnLnNlZ21lbnRzQ291bnQgKVxuXG5cdGZvciggdmFyIGkgPSAwOyBpIDwgY29uZmlnLnNlZ21lbnRzQ291bnQ7IGkrKyApIHtcblx0XHRcblx0XHRsZXQgdW5pdEkgPSBpIC8gY29uZmlnLnNlZ21lbnRzQ291bnRcblxuXHRcdHBvc2l0aW9uc1sgaSAqIDMgKyAwIF0gPSAwXG5cdFx0cG9zaXRpb25zWyBpICogMyArIDEgXSA9IHVuaXRJICogY29uZmlnLmxpZ2h0TGVuZ3RoXG5cdFx0cG9zaXRpb25zWyBpICogMyArIDIgXSA9IDBcblxuXHRcdHNpemVzW2ldICAgPSAxMCAqIHJhdGlvXG5cdFx0XG5cdFx0b3BhY2l0eVtpXSA9IGNvbmZpZy5icmlnaHRuZXNzICogTWF0aC5wb3coICgxIC0gdW5pdEkpLCBjb25maWcuZmFsbG9mZiApXG5cblx0fVxuXHRcblx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBwb3NpdGlvbnMsIDMgKSApXG5cdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3NpemUnLCAgICAgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggc2l6ZXMsIDEgKSApXG5cdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ29wYWNpdHknLCAgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggb3BhY2l0eSwgMSApIClcblx0XG5cdHJldHVybiBnZW9tZXRyeVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlTWVzaFByb21pc2UoIHBvZW0sIGNvbmZpZywgZ2VvbWV0cnksIG1hdGVyaWFsICkge1xuXHRcblx0dmFyIHVybCA9IFwiYXNzZXRzL2ltYWdlcy9ib2tlaC5wbmdcIlxuXHRcblx0cmV0dXJuKFxuXHRcdExvYWRUZXh0dXJlKCB1cmwsIG1hdGVyaWFsLnVuaWZvcm1zLnRleHR1cmUsIFwidmFsdWVcIiApXG5cdFxuXHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0dmFyIG1lc2ggPSBuZXcgVEhSRUUuUG9pbnRDbG91ZCggZ2VvbWV0cnksIG1hdGVyaWFsIClcblx0XHRcdG1lc2gucG9zaXRpb24uZnJvbUFycmF5KCBjb25maWcucG9zaXRpb24gKVxuXHRcdFx0bWVzaC5mcnVzdHVtQ3VsbGVkID0gZmFsc2Vcblx0XHRcdG1lc2gubmFtZSA9IFwibGlnaHRCZWFtXCJcblx0XHRcblx0XHRcdHBvZW0uc2NlbmUuYWRkKCBtZXNoIClcblx0XHRcblx0XHRcdHJldHVybiBtZXNoXG5cdFx0fSlcblx0XHQudGhlbiggbnVsbCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBsb2FkIHRoZSB0ZXh0dXJlIGZvciB0aGUgbGlnaHRiZWFtXCIsIHVybClcblx0XHR9KVxuXHQpXG59XG5cbmZ1bmN0aW9uIF9zaXplTGlnaHRiZWFtRm4oIHNpemUsIGN1cnJlbnQgKSB7XG5cdFxuXHR2YXIgcHJldlNpemVSYW5nZVxuXHRcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdGlmKCBjdXJyZW50LnNpemVSYW5nZSAhPT0gcHJldlNpemVSYW5nZSApIHtcblx0XHRcdFxuXHRcdFx0Zm9yKCB2YXIgaT0wOyBpIDwgc2l6ZS5hcnJheS5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciB1bml0SSA9IGkgLyBzaXplLmFycmF5Lmxlbmd0aFxuXHRcdFx0XHRcblx0XHRcdFx0c2l6ZS5hcnJheVtpXSA9IExlcnAoXG5cdFx0XHRcdFx0Y3VycmVudC5zaXplUmFuZ2VbMF0sXG5cdFx0XHRcdFx0Y3VycmVudC5zaXplUmFuZ2VbMV0sXG5cdFx0XHRcdFx0dW5pdElcblx0XHRcdFx0KVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRwcmV2U2l6ZVJhbmdlID0gY3VycmVudC5zaXplUmFuZ2Vcblx0XHRcdHNpemUubmVlZHNVcGRhdGUgPSB0cnVlXG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIF91cGRhdGVGbiggcG9lbSwgbWVzaCwgY29uZmlnLCBjdXJyZW50ICkge1xuXHRcblx0dmFyIHNpemVMaWdodEJlYW0gPSBfc2l6ZUxpZ2h0YmVhbUZuKFxuXHRcdG1lc2guZ2VvbWV0cnkuYXR0cmlidXRlcy5zaXplLFxuXHRcdGN1cnJlbnRcblx0KVxuXHR2YXIgdW5kdWxhdGUgPSBfdW5kdWxhdGVGbiggbWVzaCwgY29uZmlnIClcblx0XG5cdHJldHVybiBmdW5jdGlvbihlKSB7XG5cdFx0c2l6ZUxpZ2h0QmVhbShlKVxuXHRcdHVuZHVsYXRlKGUpXG5cdFx0Ly8gbWVzaC5wb3NpdGlvbi5jb3B5KCBwb2VtLmNhbWVyYS5vYmplY3QucG9zaXRpb24gKVxuXHRcdG1lc2gubWF0ZXJpYWwudW5pZm9ybXMuZWxhcHNlZC52YWx1ZSA9IGUuZWxhcHNlZDtcblx0fVxufVxuXG5mdW5jdGlvbiBfdW5kdWxhdGVGbiggbWVzaCwgY29uZmlnICkge1xuXHRcblx0dmFyIHVuZHVsYXRpb24gPSBjb25maWcudW5kdWxhdGlvblxuXHR2YXIgeE9mZnNldCA9IFJhbmRvbS5yYW5nZSggMCwgTWF0aC5QSSoyIClcblx0dmFyIHpPZmZzZXQgPSBSYW5kb20ucmFuZ2UoIDAsIE1hdGguUEkqMiApXG5cdFxuXHRpZiggIXVuZHVsYXRpb24gKSByZXR1cm4gZnVuY3Rpb24oKSB7fVxuXHRcblx0cmV0dXJuIGZ1bmN0aW9uIHVuZHVsYXRlKGUpIHtcblx0XHRcblx0XHR2YXIgeCA9IHVuZHVsYXRpb24ueEFtb3VudCAqIE1hdGguc2luKCB4T2Zmc2V0ICsgZS5lbGFwc2VkICogdW5kdWxhdGlvbi54U3BlZWQgKVxuXHRcdHZhciB6ID0gdW5kdWxhdGlvbi56QW1vdW50ICogTWF0aC5zaW4oIHpPZmZzZXQgKyBlLmVsYXBzZWQgKiB1bmR1bGF0aW9uLnpTcGVlZCApXG5cdFx0bWVzaC5yb3RhdGlvbi5zZXQoIHgsIDAsIHogKVxuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbGlnaHRCZWFtKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0cG9zaXRpb246ICAgICAgICBbIDAsIC0xMDAsIDAgXVxuXHQgICwgc2VnbWVudHNDb3VudDogICAxNTBcblx0ICAsIGxpZ2h0TGVuZ3RoOiAgICAgMjAwXG5cdCAgLCBicmlnaHRuZXNzOiAgICAgIDJcblx0ICAsIGNvbG9yOlx0XHQgICAgIDB4Y2M0NDExXG5cdCAgLCBzaXplUmFuZ2U6XHQgICAgIFs1MCw1MDBdXG5cdCAgLCBmYWxsb2ZmOiAgICAgICAgIDNcblx0XHRcblx0ICAsIHVuZHVsYXRpb246IHtcblx0XHQgIHhBbW91bnQ6IE1hdGguUEkgKiAwLjFcblx0ICAgICwgekFtb3VudDogTWF0aC5QSSAqIDAuMVxuXHQgICAgLCB4U3BlZWQ6IDAuMDAwOFxuXHRcdCwgelNwZWVkOiAwLjAwMDZcblx0ICB9XG5cdH0sIHByb3BlcnRpZXMpXG5cdFxuXHR2YXIgY3VycmVudCA9IHtcblx0XHRzaXplUmFuZ2UgOiBfLmNsb25lKCBjb25maWcuc2l6ZVJhbmdlIClcblx0fVxuXHRcblx0dmFyIG1hdGVyaWFsID0gX2NyZWF0ZU1hdGVyaWFsKFxuXHRcdGNvbmZpZy5jb2xvclxuXHQpXG5cdFxuXHR2YXIgZ2VvbWV0cnkgPSBfY3JlYXRlR2VvbWV0cnkoXG5cdFx0Y29uZmlnXG5cdCAgLCBwb2VtLnJhdGlvXG5cdClcblx0XG5cdHJldHVybiAoXG5cdFx0X2NyZWF0ZU1lc2hQcm9taXNlKFxuXHRcdFx0cG9lbSxcblx0XHRcdGNvbmZpZyxcblx0XHRcdGdlb21ldHJ5LFxuXHRcdFx0bWF0ZXJpYWxcblx0XHQpXG5cdFx0LnRoZW4oZnVuY3Rpb24oIG1lc2ggKSB7XG5cdFx0XHRcblx0XHRcdHBvZW0uZW1pdHRlci5vbigndXBkYXRlJywgX3VwZGF0ZUZuKCBwb2VtLCBtZXNoLCBjb25maWcsIGN1cnJlbnQgKSlcblx0XHRcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1lc2ggOiBtZXNoXG5cdFx0XHR9XG5cdFx0fSlcblx0KVxufSIsIlxudmFyIExvYWRUZXh0dXJlXHQ9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL2xvYWRUZXh0dXJlJylcbnZhciBSYW5kb20gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscy9yYW5kb20nKVxuXG52YXIgaW50ZXJuYWxzID0ge1xuXHRcblx0Y3JlYXRlTWF0ZXJpYWwgOiBmdW5jdGlvbiggY29sb3IsIHJhbmdlICkge1xuXHRcdFxuXHRcdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XG5cdFx0XHR2ZXJ0ZXhTaGFkZXIgICAgOiBcIiNkZWZpbmUgR0xTTElGWSAxXFxudW5pZm9ybSBmbG9hdCBlbGFwc2VkO1xcbnVuaWZvcm0gZmxvYXQgdVJhbmdlO1xcbmF0dHJpYnV0ZSBmbG9hdCBzaXplO1xcbmF0dHJpYnV0ZSBmbG9hdCBhT2Zmc2V0O1xcbnZhcnlpbmcgZmxvYXQgdkFscGhhO1xcblxcbi8vXFxuLy8gRGVzY3JpcHRpb24gOiBBcnJheSBhbmQgdGV4dHVyZWxlc3MgR0xTTCAyRC8zRC80RCBzaW1wbGV4XFxuLy8gICAgICAgICAgICAgICBub2lzZSBmdW5jdGlvbnMuXFxuLy8gICAgICBBdXRob3IgOiBJYW4gTWNFd2FuLCBBc2hpbWEgQXJ0cy5cXG4vLyAgTWFpbnRhaW5lciA6IGlqbVxcbi8vICAgICBMYXN0bW9kIDogMjAxMTA4MjIgKGlqbSlcXG4vLyAgICAgTGljZW5zZSA6IENvcHlyaWdodCAoQykgMjAxMSBBc2hpbWEgQXJ0cy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG4vLyAgICAgICAgICAgICAgIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZS5cXG4vLyAgICAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hc2hpbWEvd2ViZ2wtbm9pc2VcXG4vL1xcblxcbnZlYzMgbW9kMjg5XzFfMCh2ZWMzIHgpIHtcXG4gIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7XFxufVxcblxcbnZlYzQgbW9kMjg5XzFfMCh2ZWM0IHgpIHtcXG4gIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7XFxufVxcblxcbnZlYzQgcGVybXV0ZV8xXzEodmVjNCB4KSB7XFxuICAgICByZXR1cm4gbW9kMjg5XzFfMCgoKHgqMzQuMCkrMS4wKSp4KTtcXG59XFxuXFxudmVjNCB0YXlsb3JJbnZTcXJ0XzFfMih2ZWM0IHIpXFxue1xcbiAgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjtcXG59XFxuXFxuZmxvYXQgc25vaXNlXzFfMyh2ZWMzIHYpXFxuICB7XFxuICBjb25zdCB2ZWMyICBDID0gdmVjMigxLjAvNi4wLCAxLjAvMy4wKSA7XFxuICBjb25zdCB2ZWM0ICBEXzFfNCA9IHZlYzQoMC4wLCAwLjUsIDEuMCwgMi4wKTtcXG5cXG4vLyBGaXJzdCBjb3JuZXJcXG4gIHZlYzMgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXl5KSApO1xcbiAgdmVjMyB4MCA9ICAgdiAtIGkgKyBkb3QoaSwgQy54eHgpIDtcXG5cXG4vLyBPdGhlciBjb3JuZXJzXFxuICB2ZWMzIGdfMV81ID0gc3RlcCh4MC55engsIHgwLnh5eik7XFxuICB2ZWMzIGwgPSAxLjAgLSBnXzFfNTtcXG4gIHZlYzMgaTEgPSBtaW4oIGdfMV81Lnh5eiwgbC56eHkgKTtcXG4gIHZlYzMgaTIgPSBtYXgoIGdfMV81Lnh5eiwgbC56eHkgKTtcXG5cXG4gIC8vICAgeDAgPSB4MCAtIDAuMCArIDAuMCAqIEMueHh4O1xcbiAgLy8gICB4MSA9IHgwIC0gaTEgICsgMS4wICogQy54eHg7XFxuICAvLyAgIHgyID0geDAgLSBpMiAgKyAyLjAgKiBDLnh4eDtcXG4gIC8vICAgeDMgPSB4MCAtIDEuMCArIDMuMCAqIEMueHh4O1xcbiAgdmVjMyB4MSA9IHgwIC0gaTEgKyBDLnh4eDtcXG4gIHZlYzMgeDIgPSB4MCAtIGkyICsgQy55eXk7IC8vIDIuMCpDLnggPSAxLzMgPSBDLnlcXG4gIHZlYzMgeDMgPSB4MCAtIERfMV80Lnl5eTsgICAgICAvLyAtMS4wKzMuMCpDLnggPSAtMC41ID0gLUQueVxcblxcbi8vIFBlcm11dGF0aW9uc1xcbiAgaSA9IG1vZDI4OV8xXzAoaSk7XFxuICB2ZWM0IHAgPSBwZXJtdXRlXzFfMSggcGVybXV0ZV8xXzEoIHBlcm11dGVfMV8xKFxcbiAgICAgICAgICAgICBpLnogKyB2ZWM0KDAuMCwgaTEueiwgaTIueiwgMS4wICkpXFxuICAgICAgICAgICArIGkueSArIHZlYzQoMC4wLCBpMS55LCBpMi55LCAxLjAgKSlcXG4gICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTtcXG5cXG4vLyBHcmFkaWVudHM6IDd4NyBwb2ludHMgb3ZlciBhIHNxdWFyZSwgbWFwcGVkIG9udG8gYW4gb2N0YWhlZHJvbi5cXG4vLyBUaGUgcmluZyBzaXplIDE3KjE3ID0gMjg5IGlzIGNsb3NlIHRvIGEgbXVsdGlwbGUgb2YgNDkgKDQ5KjYgPSAyOTQpXFxuICBmbG9hdCBuXyA9IDAuMTQyODU3MTQyODU3OyAvLyAxLjAvNy4wXFxuICB2ZWMzICBucyA9IG5fICogRF8xXzQud3l6IC0gRF8xXzQueHp4O1xcblxcbiAgdmVjNCBqID0gcCAtIDQ5LjAgKiBmbG9vcihwICogbnMueiAqIG5zLnopOyAgLy8gIG1vZChwLDcqNylcXG5cXG4gIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7XFxuICB2ZWM0IHlfID0gZmxvb3IoaiAtIDcuMCAqIHhfICk7ICAgIC8vIG1vZChqLE4pXFxuXFxuICB2ZWM0IHggPSB4XyAqbnMueCArIG5zLnl5eXk7XFxuICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7XFxuICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7XFxuXFxuICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApO1xcbiAgdmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTtcXG5cXG4gIC8vdmVjNCBzMCA9IHZlYzQobGVzc1RoYW4oYjAsMC4wKSkqMi4wIC0gMS4wO1xcbiAgLy92ZWM0IHMxID0gdmVjNChsZXNzVGhhbihiMSwwLjApKSoyLjAgLSAxLjA7XFxuICB2ZWM0IHMwID0gZmxvb3IoYjApKjIuMCArIDEuMDtcXG4gIHZlYzQgczEgPSBmbG9vcihiMSkqMi4wICsgMS4wO1xcbiAgdmVjNCBzaCA9IC1zdGVwKGgsIHZlYzQoMC4wKSk7XFxuXFxuICB2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7XFxuICB2ZWM0IGExXzFfNiA9IGIxLnh6eXcgKyBzMS54enl3KnNoLnp6d3cgO1xcblxcbiAgdmVjMyBwMF8xXzcgPSB2ZWMzKGEwLnh5LGgueCk7XFxuICB2ZWMzIHAxID0gdmVjMyhhMC56dyxoLnkpO1xcbiAgdmVjMyBwMiA9IHZlYzMoYTFfMV82Lnh5LGgueik7XFxuICB2ZWMzIHAzID0gdmVjMyhhMV8xXzYuencsaC53KTtcXG5cXG4vL05vcm1hbGlzZSBncmFkaWVudHNcXG4gIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnRfMV8yKHZlYzQoZG90KHAwXzFfNyxwMF8xXzcpLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpO1xcbiAgcDBfMV83ICo9IG5vcm0ueDtcXG4gIHAxICo9IG5vcm0ueTtcXG4gIHAyICo9IG5vcm0uejtcXG4gIHAzICo9IG5vcm0udztcXG5cXG4vLyBNaXggZmluYWwgbm9pc2UgdmFsdWVcXG4gIHZlYzQgbSA9IG1heCgwLjYgLSB2ZWM0KGRvdCh4MCx4MCksIGRvdCh4MSx4MSksIGRvdCh4Mix4MiksIGRvdCh4Myx4MykpLCAwLjApO1xcbiAgbSA9IG0gKiBtO1xcbiAgcmV0dXJuIDQyLjAgKiBkb3QoIG0qbSwgdmVjNCggZG90KHAwXzFfNyx4MCksIGRvdChwMSx4MSksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QocDIseDIpLCBkb3QocDMseDMpICkgKTtcXG4gIH1cXG5cXG5cXG5cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuXFx0Ly8gdmVjMyBtb3ZlbWVudCA9IHZlYzMoMC4wLCBlbGFwc2VkICogMC4wMDEsIDAuMCk7XFxuXFx0dmVjMyBtb3ZlbWVudCA9IHZlYzMoXFxuXFx0XFx0c2luKCBlbGFwc2VkICogMC4wMDIgKiBhT2Zmc2V0KSAqIHVSYW5nZSAqIDAuMDAzLFxcblxcdFxcdGVsYXBzZWQgKiAoLXVSYW5nZSAvIDEwMDAwMC4wIC0gdVJhbmdlIC8gMTAwMDAwLjAgKiBhT2Zmc2V0KSxcXG5cXHRcXHRjb3MoIGVsYXBzZWQgKiAwLjAwMiAqIGFPZmZzZXQgKSAqIHVSYW5nZSAqIDAuMDAzXFxuXFx0KTtcXG5cXHRcXG5cXHR2ZWMzIHJhbmdlID0gdmVjMyh1UmFuZ2UsIHVSYW5nZSAqIDAuMywgdVJhbmdlKTtcXG5cXHRcXG5cXHR2ZWMzIGNhbWVyYU9mZnNldCA9IGNhbWVyYVBvc2l0aW9uIC0gcmFuZ2U7XFxuXFx0XFxuXFx0dmVjMyBtb2R1bG9Qb3NpdGlvbiA9IG1vZCggcG9zaXRpb24gKyBtb3ZlbWVudCAtIGNhbWVyYU9mZnNldCwgcmFuZ2UgKiAyLjAgKSArIGNhbWVyYU9mZnNldDtcXG5cXHR2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBtb2R1bG9Qb3NpdGlvbiwgMS4wICk7XFxuXFx0XFxuXFx0Z2xfUG9pbnRTaXplID0gc2l6ZSAqICggdVJhbmdlIC8gKGxlbmd0aCggbXZQb3NpdGlvbi54eXogKSArIDEuMCkgKTtcXG5cXHRcXG5cXHRmbG9hdCBmbGlja2VyID0gbWl4KDAuNiwgMS4wLCBzbm9pc2VfMV8zKCBtb2R1bG9Qb3NpdGlvbiArIGVsYXBzZWQgKiAwLjAwMDEgKSk7XFxuXFx0XFxuXFx0dkFscGhhID0gMC41ICogbWluKDEuMCwgbWF4KDAuMCxcXG5cXHRcXHQxLjAgLSAobGVuZ3RoKCBtdlBvc2l0aW9uLnh5eiApIC8gdVJhbmdlKVxcblxcdCkpICogZmxpY2tlcjtcXG5cXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xcblxcbn1cIixcblx0XHRcdGZyYWdtZW50U2hhZGVyICA6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG51bmlmb3JtIHZlYzMgY29sb3I7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG51bmlmb3JtIGZsb2F0IGVsYXBzZWQ7XFxuXFxudmFyeWluZyBmbG9hdCB2QWxwaGE7XFxuXFxudm9pZCBtYWluKCkge1xcblxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIHZBbHBoYSkgKiB0ZXh0dXJlMkQoIHRleHR1cmUsIGdsX1BvaW50Q29vcmQgKTtcXG5cXHRcXG59XCIsXG5cdFx0XHRcblx0XHRcdGJsZW5kaW5nOiAgICAgICBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxuXHRcdFx0ZGVwdGhUZXN0OiAgICAgIGZhbHNlLFxuXHRcdFx0dHJhbnNwYXJlbnQ6ICAgIHRydWUsXG5cdFx0XG5cdFx0XHR1bmlmb3Jtczoge1xuXHRcdFx0XHRlbGFwc2VkIDogeyB0eXBlOiAnZicgfSxcblx0XHRcdFx0dGV4dHVyZSA6IHsgdHlwZTogJ3QnIH0sXG5cdFx0XHRcdGNvbG9yICAgOiB7IHR5cGU6IFwiY1wiLCB2YWx1ZTogY29sb3IgfSxcblx0XHRcdFx0dVJhbmdlICA6IHsgdHlwZTogXCJmXCIsIHZhbHVlOiByYW5nZSB9LFxuXHRcdFx0fSxcblx0XHRcdGF0dHJpYnV0ZXMgICAgICA6IHtcblx0XHRcdFx0cG9zaXRpb246IHsgdHlwZTogJ3YzJyB9LFxuXHRcdFx0XHRzaXplOiB7IHR5cGU6ICdmJyB9LFxuXHRcdFx0XHRhT2Zmc2V0OiB7IHR5cGU6ICdmJyB9LFxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0cmV0dXJuIG1hdGVyaWFsXG5cdH0sXG5cdFxuXHRjcmVhdGVHZW9tZXRyeSA6IGZ1bmN0aW9uKCBtYXRlcmlhbCwgY291bnQsIHJhbmdlLCBzaXplUmFuZ2UgKSB7XG5cdFx0XG5cdFx0dmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KClcblxuXHRcdHZhciBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KCBjb3VudCAqIDMgKVxuXHRcdHZhciBzaXplcyA9IG5ldyBGbG9hdDMyQXJyYXkoIGNvdW50IClcblx0XHR2YXIgb2Zmc2V0cyA9IG5ldyBGbG9hdDMyQXJyYXkoIGNvdW50IClcblxuXHRcdGZvciggdmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKyApIHtcblx0XHRcdFxuXHRcdFx0cG9zaXRpb25zWyBpICogMyArIDAgXSA9IFJhbmRvbS5yYW5nZSggLXJhbmdlLCByYW5nZSApXG5cdFx0XHRwb3NpdGlvbnNbIGkgKiAzICsgMSBdID0gUmFuZG9tLnJhbmdlKCAtcmFuZ2UsIHJhbmdlICkgKiAwLjNcblx0XHRcdHBvc2l0aW9uc1sgaSAqIDMgKyAyIF0gPSBSYW5kb20ucmFuZ2UoIC1yYW5nZSwgcmFuZ2UgKVxuXG5cdFx0XHRzaXplc1sgaSBdID0gUmFuZG9tLnJhbmdlKCBzaXplUmFuZ2VbMF0sIHNpemVSYW5nZVsxXSApXG5cdFx0XHRvZmZzZXRzWyBpIF0gPSBSYW5kb20ucmFuZ2UoIDAsIDEgKVxuXG5cdFx0fVxuXHRcdFxuXHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggcG9zaXRpb25zLCAzICkgKVxuXHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3NpemUnLCAgICAgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggc2l6ZXMsIDEgKSApXG5cdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCAnYU9mZnNldCcsICBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBvZmZzZXRzLCAxICkgKVxuXHRcdFxuXHRcdHJldHVybiBnZW9tZXRyeVxuXHR9LFxuXHRcblx0Y3JlYXRlTWVzaEFuZFN0YXJ0IDogZnVuY3Rpb24oIHBvZW0sIGdlb21ldHJ5LCBtYXRlcmlhbCApIHtcblx0XHRcblx0XHR2YXIgbWVzaCA9IG5ldyBUSFJFRS5Qb2ludENsb3VkKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKVxuXHRcdG1lc2guZnJ1c3R1bUN1bGxlZCA9IGZhbHNlXG5cblx0XHR2YXIgcCA9IExvYWRUZXh0dXJlKCBcImFzc2V0cy9pbWFnZXMvYm9rZWgucG5nXCIsIG1hdGVyaWFsLnVuaWZvcm1zLnRleHR1cmUsIFwidmFsdWVcIiApLnRoZW4oZnVuY3Rpb24oKSB7XG5cblx0XHRcdHBvZW0uc2NlbmUuYWRkKCBtZXNoIClcblx0XHRcdHBvZW0uZW1pdHRlci5vbigndXBkYXRlJywgaW50ZXJuYWxzLnVwZGF0ZUZuKCBwb2VtLCBtZXNoICkpXG5cdFx0fSlcblx0XHRcblx0XHRyZXR1cm4gbWVzaFxuXHR9LFxuXHRcblx0dXBkYXRlRm4gOiBmdW5jdGlvbiggcG9lbSwgbWVzaCApIHtcblx0XHRcblx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0XG5cdFx0XHQvLyBtZXNoLnBvc2l0aW9uLmNvcHkoIHBvZW0uY2FtZXJhLm9iamVjdC5wb3NpdGlvbiApXG5cdFx0XHRtZXNoLm1hdGVyaWFsLnVuaWZvcm1zLmVsYXBzZWQudmFsdWUgPSBlLmVsYXBzZWQ7XG5cdFx0fVxuXHR9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJ0aWNsZXMoIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHRjb3VudDpcdFx0MzAwMFxuXHQgICwgY29sb3I6XHRcdG5ldyBUSFJFRS5Db2xvcigweDc3ZmZmZilcblx0ICAsIHJhbmdlOlx0XHQzMDBcblx0ICAsIHNpemVSYW5nZTpcdFszLDhdXG5cdH0sIHByb3BlcnRpZXMpXG5cdFxuXHR2YXIgbWF0ZXJpYWwgPSBpbnRlcm5hbHMuY3JlYXRlTWF0ZXJpYWwoXG5cdFx0Y29uZmlnLmNvbG9yXG5cdCAgLCBjb25maWcucmFuZ2Vcblx0KVxuXHRcblx0dmFyIGdlb21ldHJ5ID0gaW50ZXJuYWxzLmNyZWF0ZUdlb21ldHJ5KFxuXHRcdG1hdGVyaWFsXG5cdCAgLCBjb25maWcuY291bnRcblx0ICAsIGNvbmZpZy5yYW5nZVxuXHQgICwgY29uZmlnLnNpemVSYW5nZVxuXHQpXG5cdFxuXHR2YXIgbWVzaCA9IGludGVybmFscy5jcmVhdGVNZXNoQW5kU3RhcnQoXG5cdFx0cG9lbSxcblx0XHRnZW9tZXRyeSxcblx0XHRtYXRlcmlhbFxuXHQpXG5cdFxuXHRyZXR1cm4ge31cbn0iLCJ2YXIgRWFzZXMgPSByZXF1aXJlKCdlYXNlcycpXG52YXIgTGVycCA9IHJlcXVpcmUoJ2xlcnAnKVxuXG52YXIgaW50ZXJuYWxzID0ge1xuXHRcblx0dXBkYXRlT2JqZWN0VmFsdWUgOiBmdW5jdGlvbiggZWxhcHNlZCwgcHJldkVsYXBzZWQsIGtleWZyYW1lLCBhY3Rpb24gKSB7XG5cdFx0XG5cdFx0dmFyIHQgPSAoIGVsYXBzZWQgLSBrZXlmcmFtZS5zdGFydCApIC8ga2V5ZnJhbWUuZHVyYXRpb25cblx0XHRcblx0XHRhY3Rpb24ub2JqW2FjdGlvbi5rZXldID0gTGVycChcblx0XHRcdGFjdGlvbi52YWx1ZXNbMF1cblx0XHQgICwgYWN0aW9uLnZhbHVlc1sxXVxuXHRcdCAgLCBrZXlmcmFtZS5lYXNpbmcodClcblx0XHQpXG5cdH0sXG5cdFxuXHR1cGRhdGVGdW5jdGlvblZhbHVlIDogZnVuY3Rpb24oIGVsYXBzZWQsIHByZXZFbGFwc2VkLCBrZXlmcmFtZSwgYWN0aW9uICkge1xuXHRcdFxuXHRcdHZhciB0ID0gKCBlbGFwc2VkIC0ga2V5ZnJhbWUuc3RhcnQgKSAvIGtleWZyYW1lLmR1cmF0aW9uXG5cdFx0XG5cdFx0YWN0aW9uLm9ialthY3Rpb24ua2V5XSggTGVycChcblx0XHRcdGFjdGlvbi52YWx1ZXNbMF1cblx0XHQgICwgYWN0aW9uLnZhbHVlc1sxXVxuXHRcdCAgLCBrZXlmcmFtZS5lYXNpbmcodClcblx0XHQpKVxuXHR9LFxuXHRcblx0dXBkYXRlT2JqZWN0VmFsdWVPbmNlIDogZnVuY3Rpb24oIGVsYXBzZWQsIHByZXZFbGFwc2VkLCBrZXlmcmFtZSwgYWN0aW9uICkge1xuXHRcdFxuXHRcdGlmKCBrZXlmcmFtZS5zdGFydCA+PSBwcmV2RWxhcHNlZCAmJiBrZXlmcmFtZS5zdGFydCA8IGVsYXBzZWQgKSB7XG5cdFx0XHRcblx0XHRcdGFjdGlvbi5vYmpbYWN0aW9uLmtleV0gPSBhY3Rpb24udmFsdWVzXG5cdFx0fVxuXHR9LFxuXG5cdHVwZGF0ZUZ1bmN0aW9uT25jZSA6IGZ1bmN0aW9uKCBlbGFwc2VkLCBwcmV2RWxhcHNlZCwga2V5ZnJhbWUsIGFjdGlvbiApIHtcblx0XHRcblx0XHRpZigga2V5ZnJhbWUuc3RhcnQgPj0gcHJldkVsYXBzZWQgJiYga2V5ZnJhbWUuc3RhcnQgPCBlbGFwc2VkICkge1xuXHRcdFx0XG5cdFx0XHRhY3Rpb24ub2JqW2FjdGlvbi5rZXldKCBhY3Rpb24udmFsdWVzIClcblx0XHR9XG5cdH0sXG5cdFxuXHR1cGRhdGVGbiA6IGZ1bmN0aW9uKCBwb2VtLCBrZXlmcmFtZXMsIG1heFRpbWUsIHNwZWVkICkge1xuXHRcdFxuXHRcdHZhciBwcmV2RWxhcHNlZCA9IDBcblx0XHRcblx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0XG5cdFx0XHR2YXIgZWxhcHNlZCA9IChlLmVsYXBzZWQgLyAxMDAwICogc3BlZWQpICUgbWF4VGltZVxuXHRcdFx0XG5cdFx0XHRmb3IoIHZhciBpPTA7IGkgPCBrZXlmcmFtZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhciBrZXlmcmFtZSA9IGtleWZyYW1lc1tpXVxuXHRcdFx0XHRcblx0XHRcdFx0Ly9UaW1lIGlzIGluIHJhbmdlXG5cdFx0XHRcdGlmKCBlbGFwc2VkID49IGtleWZyYW1lLnN0YXJ0ICYmIGVsYXBzZWQgPCBrZXlmcmFtZS5lbmQgKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Zm9yKCB2YXIgaj0wOyBqIDwga2V5ZnJhbWUuYWN0aW9ucy5sZW5ndGg7IGorKyApIHtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dmFyIGFjdGlvbiA9IGtleWZyYW1lLmFjdGlvbnNbal1cblx0XHRcdFx0XHRcdGFjdGlvbi51cGRhdGUoIGVsYXBzZWQsIHByZXZFbGFwc2VkLCBrZXlmcmFtZSwgYWN0aW9uIClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0cHJldkVsYXBzZWQgPSBlbGFwc2VkXG5cdFx0fVxuXHR9LFxuXHRcblx0ZWFzaW5nRm4gOiBmdW5jdGlvbiggZWFzaW5nUHJvcCApIHtcblx0XHRcblx0XHR2YXIgZWFzaW5nTmFtZSwgZWFzaW5nRm5cblx0XHRcblx0XHRpZiggIWVhc2luZ1Byb3AgfHwgXy5pc1N0cmluZyggZWFzaW5nUHJvcCApICkge1xuXHRcdFx0XG5cdFx0XHRlYXNpbmdOYW1lID0gZWFzaW5nUHJvcCB8fCBcImxpbmVhclwiXG5cdFx0XHRlYXNpbmdGbiA9IEVhc2VzWyBlYXNpbmdOYW1lIF1cblx0XHR9XG5cdFx0XG5cdFx0aWYoIF8uaXNGdW5jdGlvbiggZWFzaW5nUHJvcCApICkge1xuXHRcdFx0XG5cdFx0XHRlYXNpbmdGbiA9IGVhc2luZ1Byb3Bcblx0XHRcdFxuXHRcdFx0aWYoIGVhc2luZ0ZuKDApICE9PSAwIHx8IGVhc2luZ0ZuKDEpICE9PSAxICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwicG9lbS1hbmltYXRvciByZWNlaXZlZCBhbiBlYXNpbmcgZnVuY3Rpb24gdGhhdCBkaWRuJ3QgcmV0dXJuIGEgMCBhbmQgMVwiLCBlYXNpbmdQcm9wIClcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0aWYoICFfLmlzRnVuY3Rpb24oIGVhc2luZ0ZuICkgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwicG9lbS1hbmltYXRvciB3YXMgbm90IGFibGUgdG8gZmluZCB0aGUgZWFzaW5nIGZ1bmN0aW9uIFwiICsgZWFzaW5nUHJvcCApXG5cdFx0fVxuXHRcdHJldHVybiBlYXNpbmdGblxuXHRcdFxuXHR9LFxuXHRcblx0Y3JlYXRlQWN0aW9uIDogZnVuY3Rpb24oIHBvZW0sIGFjdGlvbiApIHtcblx0XHRcblx0XHQvLyBleGFtcGxlIGFjdGlvbjogWyBcImNhbWVyYS5vYmplY3QucG9zaXRpb24ueFwiLCBbMCwgMTBdIF1cblx0XHRcblx0XHR2YXIga2V5UGFydHMgPSBhY3Rpb25bMF0uc3BsaXQoJy4nKVxuXHRcdHZhciBwYXRoID0ga2V5UGFydHMuc2xpY2UoMCxrZXlQYXJ0cy5sZW5ndGggLSAxKVxuXHRcdHZhciBrZXkgPSBfLmxhc3Qoa2V5UGFydHMpXG5cdFx0dmFyIHZhbHVlcyA9IGFjdGlvblsxXVxuXHRcdFxuXHRcdHZhciBvYmogPSBfLnJlZHVjZSggcGF0aCwgZnVuY3Rpb24oIG1lbW8sIHBhdGhQYXJ0ICkge1xuXHRcdFx0XG5cdFx0XHR2YXIgbmV4dFJlZiA9IG1lbW9bcGF0aFBhcnRdXG5cdFx0XHRpZiggIV8uaXNPYmplY3QoIG5leHRSZWYgKSApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcInBvZW0tYW5pbWF0b3Igd2FzIG5vdCBhYmxlIHRvIGNyZWF0ZSBhIHJlZmVyZW5jZVwiLCBhY3Rpb24gKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5leHRSZWZcblx0XHR9LCBwb2VtKVxuXHRcdFxuXHRcdHZhciB1cGRhdGVcblx0XHRcblx0XHRpZiggXy5pc0Z1bmN0aW9uKCBvYmpba2V5XSApICkge1xuXHRcdFx0dXBkYXRlID0gXy5pc0FycmF5KCB2YWx1ZXMgKSA/IGludGVybmFscy51cGRhdGVGdW5jdGlvblZhbHVlIDogaW50ZXJuYWxzLnVwZGF0ZUZ1bmN0aW9uT25jZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL0VpdGhlciB1cGRhdGUgdGhlIHZhbHVlIHdpdGggdHJhbnNpdGlvbnMsIG9yIGp1c3Qgb25jZVxuXHRcdFx0dXBkYXRlID0gXy5pc0FycmF5KCB2YWx1ZXMgKSA/IGludGVybmFscy51cGRhdGVPYmplY3RWYWx1ZSA6IGludGVybmFscy51cGRhdGVPYmplY3RWYWx1ZU9uY2Vcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdG9iaiA6IG9iaixcblx0XHRcdGtleSA6IGtleSxcblx0XHRcdHZhbHVlczogdmFsdWVzLFxuXHRcdFx0dXBkYXRlIDogdXBkYXRlXG5cdFx0fVxuXHR9LFxuXHRcblx0Y2FsY3VsYXRlU3RhcnRFbmRGbiA6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHZhciBsYXN0RW5kID0gMFxuXHRcdFxuXHRcdHJldHVybiBmdW5jdGlvbigga2V5ZnJhbWUgKSB7XG5cdFx0XHRcblx0XHRcdHZhciBzdGFydCwgZW5kXG5cdFx0XHRcblx0XHRcdGlmKCBfLmlzTnVtYmVyKCBrZXlmcmFtZS5zdGFydCApICkge1xuXHRcdFx0XHRzdGFydCA9IGtleWZyYW1lLnN0YXJ0XG5cdFx0XHRcdGVuZCA9IHN0YXJ0ICsga2V5ZnJhbWUuZHVyYXRpb25cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXJ0ID0gbGFzdEVuZFxuXHRcdFx0XHRlbmQgPSBzdGFydCArIGtleWZyYW1lLmR1cmF0aW9uXG5cdFx0XHRcdGxhc3RFbmQgPSBlbmRcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3RhcnQ6IHN0YXJ0LFxuXHRcdFx0XHRlbmQ6IGVuZFxuXHRcdFx0fVxuXHRcdH1cdFx0XG5cdH0sXG5cdFxuXHRpc29sYXRlRmlsdGVyIDogZnVuY3Rpb24oIGtleWZyYW1lcyApIHtcblx0XHRcblx0XHR2YXIgaXNvbGF0ZSA9IF8uZmluZCgga2V5ZnJhbWVzLCBmdW5jdGlvbigga2V5ZnJhbWUgKSB7XG5cdFx0XHRyZXR1cm4ga2V5ZnJhbWUuaXNvbGF0ZVxuXHRcdH0pXG5cdFx0XG5cdFx0aWYoIGlzb2xhdGUgKSB7XG5cdFx0XHRyZXR1cm4gW2lzb2xhdGVdXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBrZXlmcmFtZXNcblx0XHR9XG5cdH0sXG5cdFxuXHRzdGFydEhlcmVGaWx0ZXIgOiBmdW5jdGlvbigga2V5ZnJhbWVzICkge1xuXHRcdFxuXHRcdHZhciBzdGFydEhlcmUgPSBfLmZpbmQoIGtleWZyYW1lcywgZnVuY3Rpb24oIGtleWZyYW1lICkge1xuXHRcdFx0cmV0dXJuIGtleWZyYW1lLnN0YXJ0SGVyZVxuXHRcdH0pXG5cdFx0XG5cdFx0aWYoICFzdGFydEhlcmUgKSB7XG5cdFx0XHRyZXR1cm4ga2V5ZnJhbWVzXG5cdFx0fVxuXHRcdFxuXHRcdHZhciBpbmRleCA9IGtleWZyYW1lcy5pbmRleE9mKCBzdGFydEhlcmUgKVxuXHRcdFxuXHRcdHJldHVybiBrZXlmcmFtZXMuc2xpY2UoaW5kZXgpXG5cdFx0XG5cdH0sXG5cdFxuXHRwcm9jZXNzS2V5ZnJhbWVDb25maWcgOiBmdW5jdGlvbiggcG9lbSwga2V5ZnJhbWVzICkge1xuXHRcdFxuXHRcdHZhciBzdGFydEVuZENhbGN1bGF0b3IgPSBpbnRlcm5hbHMuY2FsY3VsYXRlU3RhcnRFbmRGbigpXG5cdFx0XG5cdFx0dmFyIGZpbHRlcnMgPSBfLmNvbXBvc2UoXG5cdFx0XHRpbnRlcm5hbHMuaXNvbGF0ZUZpbHRlcixcblx0XHRcdGludGVybmFscy5zdGFydEhlcmVGaWx0ZXJcblx0XHQpXG5cdFx0XG5cdFx0cmV0dXJuIF8ubWFwKCBmaWx0ZXJzKCBrZXlmcmFtZXMgKSwgZnVuY3Rpb24oIGtleWZyYW1lICkge1xuXHRcdFx0XG5cdFx0XHR2YXIgdGltaW5nID0gc3RhcnRFbmRDYWxjdWxhdG9yKCBrZXlmcmFtZSApXG5cdFx0XHRcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXJ0ICAgICAgIDogdGltaW5nLnN0YXJ0XG5cdFx0XHQgICwgZW5kXHRcdFx0OiB0aW1pbmcuZW5kXG5cdFx0XHQgICwgZHVyYXRpb24gICAgOiBrZXlmcmFtZS5kdXJhdGlvblxuXHRcdFx0ICAsIGVhc2luZyAgICAgIDogaW50ZXJuYWxzLmVhc2luZ0ZuKCBrZXlmcmFtZS5lYXNpbmcgKVxuXHRcdFx0ICAsIGFjdGlvbnMgICAgIDogXy5tYXAoIGtleWZyYW1lLmFjdGlvbnMsIF8ucGFydGlhbCggaW50ZXJuYWxzLmNyZWF0ZUFjdGlvbiwgcG9lbSApIClcblx0XHRcdH1cblx0XHR9KVxuXHR9LFxuXHRcblx0Y2FsY01heFRpbWUgOiBmdW5jdGlvbigga2V5ZnJhbWVzLCBsb29wICkge1xuXHRcdFxuXHRcdGlmKCBsb29wICkge1xuXHRcdFx0cmV0dXJuIF8ucmVkdWNlKCBrZXlmcmFtZXMsIGZ1bmN0aW9uKCBtZW1vLCBrZXlmcmFtZSApIHtcblx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KCBtZW1vLCBrZXlmcmFtZS5lbmQgKVxuXHRcdFx0fSwgMClcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIEluZmluaXR5XG5cdFx0fVxuXHR9LFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXHRcblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHRrZXlmcmFtZXMgOiBbXVxuXHQgICwgbG9vcCA6IHRydWVcblx0ICAsIHNwZWVkIDogMVxuXHR9LCBwcm9wZXJ0aWVzKVxuXHRcblx0cG9lbS5lbWl0dGVyLm9uKCdwcm9taXNlcycsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBrZXlmcmFtZXMgPSBpbnRlcm5hbHMucHJvY2Vzc0tleWZyYW1lQ29uZmlnKCBwb2VtLCBjb25maWcua2V5ZnJhbWVzIClcblx0XHR2YXIgbWF4VGltZSA9IGludGVybmFscy5jYWxjTWF4VGltZSgga2V5ZnJhbWVzLCBjb25maWcubG9vcCApXG5cdFxuXHRcdGNvbnNvbGUubG9nKGtleWZyYW1lcylcblx0XHRwb2VtLmVtaXR0ZXIub24oJ3VwZGF0ZScsIGludGVybmFscy51cGRhdGVGbiggcG9lbSwga2V5ZnJhbWVzLCBtYXhUaW1lLCBjb25maWcuc3BlZWQgKSApXG5cdH0pXG5cdFxuXHRyZXR1cm4ge31cbn0iLCJcblxudmFyIENhbWVyYSA9IGZ1bmN0aW9uKCBwcm9wZXJ0aWVzLCBzY2VuZSwgcG9lbUVtaXR0ZXIgKSB7XG5cdFxuXHR2YXIgY29uZmlnID0gXy5leHRlbmQoe1xuXHRcdGZvdiA6IDUwLFxuXHRcdG5lYXIgOiAzLFxuXHRcdGZhciA6IDEwMDAwLFxuXHRcdGFzcGVjdFJhdGlvIDogd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHRcblx0fSwgcHJvcGVydGllcyk7XG5cdFxuXHR0aGlzLm9iamVjdCA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShcblx0XHRjb25maWcuZm92LFxuXHRcdGNvbmZpZy5hc3BlY3QsXG5cdFx0Y29uZmlnLm5lYXIsXG5cdFx0Y29uZmlnLmZhclxuXHQpO1xuXHRcblx0dGhpcy5vYmplY3QucG9zaXRpb24ueCA9IF8uaXNOdW1iZXIoIHByb3BlcnRpZXMueCApID8gcHJvcGVydGllcy54IDogMDtcblx0dGhpcy5vYmplY3QucG9zaXRpb24ueSA9IF8uaXNOdW1iZXIoIHByb3BlcnRpZXMueSApID8gcHJvcGVydGllcy55IDogMDtcblx0dGhpcy5vYmplY3QucG9zaXRpb24ueiA9IF8uaXNOdW1iZXIoIHByb3BlcnRpZXMueiApID8gcHJvcGVydGllcy56IDogNTAwO1xuXHRcblx0c2NlbmUuYWRkKCB0aGlzLm9iamVjdCApO1xuXHRcblx0cG9lbUVtaXR0ZXIub24oICdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpICk7XG5cdFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW1lcmE7XG5cbkNhbWVyYS5wcm90b3R5cGUgPSB7XG5cdFxuXHRyZXNpemUgOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm9iamVjdC5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHR0aGlzLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cdH0sXG5cdFxuXHRzZXRBbmRVcGRhdGVGb3YgOiBmdW5jdGlvbiggZm92ICkge1xuXHRcdHRoaXMub2JqZWN0LmZvdiA9IGZvdlxuXHRcdHRoaXMub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuXHR9XG59OyIsInZhciBPcmJpdENvbnRyb2xzID0gcmVxdWlyZSgnLi4vLi4vdmVuZG9yL09yYml0Q29udHJvbHMnKTtcblxudmFyIENvbnRyb2xzID0gZnVuY3Rpb24oIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cdFxuXHR0aGlzLnBvZW0gPSBwb2VtO1xuXHR0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuXG5cdHRoaXMuY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyggdGhpcy5wb2VtLmNhbWVyYS5vYmplY3QsIHRoaXMucG9lbS5jYW52YXMgKTtcblx0XG5cdF8uZXh0ZW5kKCB0aGlzLmNvbnRyb2xzLCBwcm9wZXJ0aWVzICk7XG5cdFxuXHR0aGlzLnBvZW0uZW1pdHRlci5vbiggJ3VwZGF0ZScsIHRoaXMuY29udHJvbHMudXBkYXRlLmJpbmQoIHRoaXMuY29udHJvbHMgKSApO1xuXHRcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udHJvbHM7XG4iLCJ2YXIgT3JiaXRDb250cm9scyA9IHJlcXVpcmUoJy4uLy4uL3ZlbmRvci9PcmJpdENvbnRyb2xzJyk7XG52YXIgRGV2aWNlT3JpZW50YXRpb25Db250cm9scyA9IHJlcXVpcmUoJy4uLy4uL3ZlbmRvci9EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzJyk7XG52YXIgX2U7XG5cbiQod2luZG93KS5vbmUoICdkZXZpY2VvcmllbnRhdGlvbicsIGZ1bmN0aW9uKCBlICkge1xuXHRfZSA9IGU7XG59KTtcblxuXG52YXIgT3JpZW50YXRpb24gPSBmdW5jdGlvbiggcG9lbSApIHtcblx0XG5cdHRoaXMucG9lbSA9IHBvZW07XG5cdHRoaXMuY2FtZXJhID0gdGhpcy5wb2VtLmNhbWVyYS5vYmplY3Q7XG5cdFxuXHR0aGlzLmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoIHRoaXMuY2FtZXJhLCB0aGlzLnBvZW0uY2FudmFzICk7XG5cdHRoaXMuY29udHJvbHMucm90YXRlVXAoTWF0aC5QSSAvIDQpO1xuXHR0aGlzLmNvbnRyb2xzLnRhcmdldC5zZXQoXG5cdFx0dGhpcy5jYW1lcmEucG9zaXRpb24ueCArIDAuMSxcblx0XHR0aGlzLmNhbWVyYS5wb3NpdGlvbi55LFxuXHRcdHRoaXMuY2FtZXJhLnBvc2l0aW9uLnpcblx0KTtcblx0dGhpcy5jb250cm9scy5ub1pvb20gPSB0cnVlO1xuXHR0aGlzLmNvbnRyb2xzLm5vUGFuID0gdHJ1ZTtcblxuXHR0aGlzLmRldmljZU9yaWVudGF0aW9uSGFuZGxlciA9IHRoaXMuc2V0T3JpZW50YXRpb25Db250cm9scy5iaW5kKHRoaXMpO1xuXG5cdCQod2luZG93KS5vbiggJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5kZXZpY2VPcmllbnRhdGlvbkhhbmRsZXIgKTtcblx0XG5cdHRoaXMucG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgdGhpcy51cGRhdGUuYmluZCh0aGlzKSApO1xuXHR0aGlzLnBvZW0uZW1pdHRlci5vbiggJ2Rlc3Ryb3knLCB0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSApO1xuXHRcblx0aWYoIF9lICkgdGhpcy5zZXRPcmllbnRhdGlvbkNvbnRyb2xzKCBfZSApO1xuXHRcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT3JpZW50YXRpb247XG5cbk9yaWVudGF0aW9uLnByb3RvdHlwZSA9IHtcblxuXHRzZXRPcmllbnRhdGlvbkNvbnRyb2xzIDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0Ly8gaWYoICFlLm9yaWdpbmFsRXZlbnQuYWxwaGEgKSB7XG5cdFx0Ly8gXHRyZXR1cm47XG5cdFx0Ly8gfVxuXG5cdFx0dGhpcy5jb250cm9scyA9IG5ldyBEZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzKCB0aGlzLmNhbWVyYSwgdHJ1ZSApO1xuXHRcdHRoaXMuY29udHJvbHMuY29ubmVjdCgpO1xuXHRcdHRoaXMuY29udHJvbHMudXBkYXRlKCk7XG5cblx0XHQkKHdpbmRvdykub2ZmKCAnZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLmRldmljZU9yaWVudGF0aW9uSGFuZGxlciApO1xuXHR9LFxuXHRcblx0dXBkYXRlIDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0dGhpcy5jb250cm9scy51cGRhdGUoKTtcblx0fSxcblx0XG5cdGRlc3Ryb3kgOiBmdW5jdGlvbiggZSApIHtcblx0XHQkKHdpbmRvdykub2ZmKCAnZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLmRldmljZU9yaWVudGF0aW9uSGFuZGxlciApO1xuXHR9XG5cdFxufTsiLCJ2YXIgaW50ZXJuYWxzID0ge1xuXG5cdGdldFhSb3RhdGlvbiA6IChmdW5jdGlvbigpIHtcblx0XG5cdFx0dmFyIHYgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG5cdFxuXHRcdHJldHVybiBmdW5jdGlvbiggcXVhdCwgYmFzZVF1YXRJbnZlcnNlICkge1xuXHRcdFx0di5zZXQoMCwwLDEpXG5cdFx0XHR2LmFwcGx5UXVhdGVybmlvbiggcXVhdCApXG5cdFx0XHRpZiggYmFzZVF1YXRJbnZlcnNlICkgdi5hcHBseVF1YXRlcm5pb24oIGJhc2VRdWF0SW52ZXJzZSApXG5cdFx0XHRyZXR1cm4gLU1hdGguYXRhbjIoIHYueSwgdi56IClcblx0XHR9XG5cdH0pKCksXG5cblx0Z2V0WVJvdGF0aW9uIDogKGZ1bmN0aW9uKCkge1xuXHRcblx0XHR2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKClcblx0XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBxdWF0LCBiYXNlUXVhdEludmVyc2UgKSB7XG5cdFx0XHR2LnNldCgxLDAsMClcblx0XHRcdHYuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0IClcblx0XHRcdGlmKCBiYXNlUXVhdEludmVyc2UgKSB2LmFwcGx5UXVhdGVybmlvbiggYmFzZVF1YXRJbnZlcnNlIClcblx0XHRcdHJldHVybiAtTWF0aC5hdGFuMiggdi56LCB2LnggKVxuXHRcdH1cblx0fSkoKSxcblxuXHRnZXRaUm90YXRpb24gOiAoZnVuY3Rpb24oKSB7XG5cdFxuXHRcdHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuXHRcblx0XHRyZXR1cm4gZnVuY3Rpb24oIHF1YXQsIGJhc2VRdWF0SW52ZXJzZSApIHtcblx0XHRcdHYuc2V0KDAsMSwwKVxuXHRcdFx0di5hcHBseVF1YXRlcm5pb24oIHF1YXQgKVxuXHRcdFx0aWYoIGJhc2VRdWF0SW52ZXJzZSApIHYuYXBwbHlRdWF0ZXJuaW9uKCBiYXNlUXVhdEludmVyc2UgKVxuXHRcdFx0cmV0dXJuIC1NYXRoLmF0YW4yKCB2LngsIHYueSApXG5cdFx0fVxuXHR9KSgpLFxuXG5cdG1vdXNlTW92ZSA6IGZ1bmN0aW9uKCBwb2VtLCBwcmV2WFksIHN0YXRlLCBzcGVlZFgsIHNwZWVkWSApIHtcblx0XHRcdFxuXHRcdHJldHVybiBmdW5jdGlvbiggZSApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XG5cdFx0XHR2YXIgeCA9IGUucGFnZVhcblx0XHRcdHZhciB5ID0gZS5wYWdlWVxuXHRcdFxuXHRcdFx0dmFyIG9mZnNldFggPSBwcmV2WFkueCAtIHhcblx0XHRcdHZhciBvZmZzZXRZID0gcHJldlhZLnkgLSB5XG5cdFx0XHRcblx0XHRcdHN0YXRlLm1vdXNlUm90YXRpb24ueSArPSBvZmZzZXRYICogc3BlZWRYIC8gKHBvZW0uY2FudmFzLndpZHRoIC8gcG9lbS5yYXRpbylcblx0XHRcdHN0YXRlLm1vdXNlUm90YXRpb24ueCArPSBvZmZzZXRZICogc3BlZWRZIC8gKHBvZW0uY2FudmFzLmhlaWdodCAvIHBvZW0ucmF0aW8pXG5cdFx0XHRcblx0XHRcdGlmKCBvZmZzZXRYICogc3BlZWRYIC8gKHBvZW0uY2FudmFzLndpZHRoIC8gcG9lbS5yYXRpbykgPiAxICkgZGVidWdnZXJcblx0XHRcdGlmKCBvZmZzZXRYICogc3BlZWRYIC8gKHBvZW0uY2FudmFzLndpZHRoIC8gcG9lbS5yYXRpbykgPCAtMSApIGRlYnVnZ2VyXG5cdFx0XHRcblx0XHRcdHByZXZYWS54ID0geFxuXHRcdFx0cHJldlhZLnkgPSB5XG5cdFx0fVxuXHR9LFxuXHRcblx0dXBkYXRlTW91c2VRdWF0ZXJuaW9uIDogKGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHZhciBheGlzWCA9IG5ldyBUSFJFRS5WZWN0b3IzKDEsMCwwKVxuXHRcdHZhciBheGlzWSA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKVxuXHRcblx0XHR2YXIgcTEgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpXG5cdFx0dmFyIHEyID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKVxuXHRcdFxuXHRcdHJldHVybiBmdW5jdGlvbiggc3RhdGUsIGUgKSB7XG5cdFx0XHRcblx0XHRcdHExLnNldEZyb21BeGlzQW5nbGUoIGF4aXNZLCBzdGF0ZS5tb3VzZVJvdGF0aW9uLnkgKVxuXHRcdFx0cTIuc2V0RnJvbUF4aXNBbmdsZSggYXhpc1gsIHN0YXRlLm1vdXNlUm90YXRpb24ueCApXG5cdFx0XHRcblx0XHRcdHN0YXRlLm1vdXNlUXVhdGVybmlvbi5jb3B5KCBzdGF0ZS5wYXRoUXVhdGVybmlvbiApXG5cdFx0XHRzdGF0ZS5tb3VzZVF1YXRlcm5pb24ubXVsdGlwbHkoIHExIClcblx0XHRcdHN0YXRlLm1vdXNlUXVhdGVybmlvbi5tdWx0aXBseSggcTIgKVxuXHRcdFx0XG5cdFx0XHRzdGF0ZS5tb3VzZVJvdGF0aW9uLm11bHRpcGx5U2NhbGFyKCAwLjk1ICogTWF0aC5taW4oMSwgZS51bml0RHQpIClcblx0XHRcdFxuXHRcdH1cblx0fSkoKSxcblxuXHRtb3VzZVVwIDogZnVuY3Rpb24oICRjYW52YXMsIGhhbmRsZXJzICkge1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0JGNhbnZhcy5vZmYoJ21vdXNlbGVhdmUnLCBoYW5kbGVycy5tb3VzZVVwKVxuXHRcdFx0JGNhbnZhcy5vZmYoJ21vdXNldXAnLCBoYW5kbGVycy5tb3VzZVVwKVxuXHRcdFx0JGNhbnZhcy5vZmYoJ21vdXNlbW92ZScsIGhhbmRsZXJzLm1vdXNlTW92ZSlcblx0XHR9XG5cdH0sXG5cblx0bW91c2VEb3duIDogZnVuY3Rpb24oICRjYW52YXMsIGhhbmRsZXJzLCBwcmV2WFkgKSB7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KClcblx0XHRcblx0XHRcdHByZXZYWS54ID0gZS5wYWdlWFxuXHRcdFx0cHJldlhZLnkgPSBlLnBhZ2VZXG5cdFx0XG5cdFx0XHQkY2FudmFzLm9uKCdtb3VzZWxlYXZlJywgaGFuZGxlcnMubW91c2VVcCApXG5cdFx0XHQkY2FudmFzLm9uKCdtb3VzZXVwJywgaGFuZGxlcnMubW91c2VVcCApXG5cdFx0XHQkY2FudmFzLm9uKCdtb3VzZW1vdmUnLCBoYW5kbGVycy5tb3VzZU1vdmUgKVxuXHRcdH1cblx0fSxcblxuXHRzdG9wSGFuZGxlcnMgOiBmdW5jdGlvbiggJGNhbnZhcywgaGFuZGxlcnMgKSB7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHQkY2FudmFzLm9mZignbW91c2VsZWF2ZScsIGhhbmRsZXJzLm1vdXNlVXApXG5cdFx0XHQkY2FudmFzLm9mZignbW91c2V1cCcsIGhhbmRsZXJzLm1vdXNlVXApXG5cdFx0XHQkY2FudmFzLm9mZignbW91c2Vtb3ZlJywgaGFuZGxlcnMubW91c2VNb3ZlKVxuXHRcdFx0JGNhbnZhcy5vZmYoJ21vdXNlZG93bicsIGhhbmRsZXJzLm1vdXNlRG93bilcblx0XHR9XG5cdH0sXG5cblx0c3RhcnRNb3VzZUhhbmRsZXJzIDogZnVuY3Rpb24oIHBvZW0sIGNhbWVyYU9iaiwgc3RhdGUsIHNwZWVkWCwgc3BlZWRZICkge1xuXHRcblx0XHR2YXIgcHJldlhZID0ge3g6MCx5OjB9XG5cdFx0dmFyICRjYW52YXMgPSAkKHBvZW0uY2FudmFzKVxuXHRcdHZhciBoYW5kbGVycyA9IHt9XHRcblx0XHR2YXIgbW91c2VRdWF0ZXJuaW9uID0gc3RhdGUubW91c2VRdWF0ZXJuaW9uLmNvcHkoIGNhbWVyYU9iai5xdWF0ZXJuaW9uIClcblx0XG5cdFx0aGFuZGxlcnMubW91c2VNb3ZlID0gaW50ZXJuYWxzLm1vdXNlTW92ZSggcG9lbSwgcHJldlhZLCBzdGF0ZSwgc3BlZWRYLCBzcGVlZFkgKVxuXHRcdGhhbmRsZXJzLm1vdXNlVXAgPSBpbnRlcm5hbHMubW91c2VVcCggJGNhbnZhcywgaGFuZGxlcnMgKVxuXHRcdGhhbmRsZXJzLm1vdXNlRG93biA9IGludGVybmFscy5tb3VzZURvd24oICRjYW52YXMsIGhhbmRsZXJzLCBwcmV2WFkgKVxuXHRcblx0XHQkY2FudmFzLm9uKCdtb3VzZWRvd24nLCBoYW5kbGVycy5tb3VzZURvd24pXG5cdFx0cG9lbS5lbWl0dGVyLm9uKCdkZXN0cm95JywgaW50ZXJuYWxzLnN0b3BIYW5kbGVycyggJGNhbnZhcywgaGFuZGxlcnMgKSApXG5cdH0sXG5cblx0dXBkYXRlQ2FtZXJhRm4gOiBmdW5jdGlvbiggc3RhdGUsIGVhc2luZywgcmV2ZXJ0ICkge1xuXHRcblx0XHR2YXIgZWFzZWRRdWF0ICAgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpXG5cdFx0dmFyIGNhbWVyYVF1YXQgID0gc3RhdGUuY2FtZXJhUXVhdGVybmlvblxuXHRcdHZhciBwYXRoUXVhdCAgICA9IHN0YXRlLnBhdGhRdWF0ZXJuaW9uXG5cdFx0dmFyIG1vdXNlUXVhdCAgID0gc3RhdGUubW91c2VRdWF0ZXJuaW9uXG5cdFx0dmFyIHJvdGF0aW9uICAgID0gc3RhdGUucm90YXRpb25cblx0XHRcdFxuXHRcdHJldHVybiBmdW5jdGlvbiggZSApIHtcblx0XHRcblx0XHRcdC8vRmVlZCB0aGUgZXVsZXIgYW5nbGUgcm90YXRpb24gaW50byB0aGUgcGF0aCBxdWF0XG5cdFx0XHRwYXRoUXVhdC5zZXRGcm9tRXVsZXIoIHJvdGF0aW9uIClcblx0XHRcdFxuXHRcdFx0aW50ZXJuYWxzLnVwZGF0ZU1vdXNlUXVhdGVybmlvbiggc3RhdGUsIGUgKVxuXHRcdFx0XG5cdFx0XHQvL0ZpZ3VyZSBvdXQgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBhdGggYW5kIG1vdXNlIHF1YXRcblx0XHRcdHZhciBkb3QgPSBNYXRoLm1heCgwLCBUSFJFRS5WZWN0b3I0LnByb3RvdHlwZS5kb3QuY2FsbChwYXRoUXVhdCwgbW91c2VRdWF0KSlcblx0XHRcdFxuXHRcdFx0Ly9FYXNlIHRoZSBtb3VzZSBxdWF0IGRvd24gdG8gdGhlIHBhdGggcXVhdCB0aGUgZnVydGhlciBhcGFydCB0aGV5IGFyZVxuXHRcdFx0ZWFzZWRRdWF0LmNvcHkoIHBhdGhRdWF0ICkuc2xlcnAoIG1vdXNlUXVhdCwgZG90IClcblxuXHRcdFx0bW91c2VRdWF0LmNvcHkoIGVhc2VkUXVhdCApXG5cdFx0XHRcblx0XHRcdGNhbWVyYVF1YXQuc2xlcnAoIGVhc2VkUXVhdCwgZWFzaW5nICogZS51bml0RHQgKVxuXHRcdFxuXHRcdH1cblx0fSxcblx0XG5cdHJvdGF0ZUFsbCA6IGZ1bmN0aW9uKCBzdGF0ZSwgeHl6ICkge1xuXHRcdGNvbnNvbGUubG9nKCdoZWxsbycpXG5cdFx0c3RhdGUubW91c2VSb3RhdGlvbi5zZXQoMCwwLDApXG5cdFx0c3RhdGUucm90YXRpb24uc2V0RnJvbVZlY3RvcjMoIHh5eiApXG5cdFx0c3RhdGUuY2FtZXJhUXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHN0YXRlLnJvdGF0aW9uIClcblx0XHRzdGF0ZS5wYXRoUXVhdGVybmlvbi5jb3B5KCBzdGF0ZS5jYW1lcmFRdWF0ZXJuaW9uIClcblx0XHRzdGF0ZS5tb3VzZVF1YXRlcm5pb24uY29weSggc3RhdGUuY2FtZXJhUXVhdGVybmlvbiApXG5cdH1cbn1cbi8vXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gUmVzdHJpY3RlZENhbWVyYSggcG9lbSwgcHJvcGVydGllcyApIHtcblx0XG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0ZWFzaW5nICAgICAgOiAwLjA1LFxuXHRcdHJldmVydFNwZWVkIDogMixcblx0XHRzcGVlZFggICAgICA6IDEsXG5cdFx0c3BlZWRZICAgICAgOiAwLjVcblx0fSwgcHJvcGVydGllcylcblx0XG5cdHZhciBzdGF0ZSA9IHtcblx0XHRyb3RhdGlvbiA6IG5ldyBUSFJFRS5FdWxlcigwLDAsMCwnWllYJylcblx0ICAsIG1vdXNlUm90YXRpb24gOiBuZXcgVEhSRUUuVmVjdG9yMygpXG5cdCAgLCBwYXRoUXVhdGVybmlvbiA6IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKClcblx0ICAsIG1vdXNlUXVhdGVybmlvbiA6IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKClcblx0ICAsIGNhbWVyYVF1YXRlcm5pb24gOiBwb2VtLmNhbWVyYS5vYmplY3QucXVhdGVybmlvblxuXHR9XG5cdFxuXHRpbnRlcm5hbHMuc3RhcnRNb3VzZUhhbmRsZXJzKFxuXHRcdHBvZW1cblx0ICAsIHBvZW0uY2FtZXJhLm9iamVjdFxuXHQgICwgc3RhdGVcblx0ICAsIGNvbmZpZy5zcGVlZFgsIGNvbmZpZy5zcGVlZFlcblx0KVxuXHRcblx0cG9lbS5lbWl0dGVyLm9uKCd1cGRhdGUnLCBpbnRlcm5hbHMudXBkYXRlQ2FtZXJhRm4oXG5cdFx0c3RhdGVcblx0ICAsIGNvbmZpZy5lYXNpbmdcblx0ICAsIGNvbmZpZy5yZXZlcnRTcGVlZFxuXHQpKVxuXHRcblx0cmV0dXJuIHtcblx0XHRwYXRoUXVhdGVybmlvbiAgICA6IHN0YXRlLnBhdGhRdWF0ZXJuaW9uXG5cdCAgLCBtb3VzZVF1YXRlcm5pb24gICA6IHN0YXRlLm1vdXNlUXVhdGVybmlvblxuXHQgICwgcm90YXRpb24gICAgICAgICAgOiBzdGF0ZS5yb3RhdGlvblxuXHQgICwgcm90YXRlQWxsICAgICAgIDogXy5wYXJ0aWFsKCBpbnRlcm5hbHMucm90YXRlQWxsLCBzdGF0ZSApXG5cdH1cbn0iLCJ2YXIgUm90YXRlQXJvdW5kT3JpZ2luID0gZnVuY3Rpb24oIHBvZW0gKSB7XG5cdFxuXHR2YXIgY2FtZXJhID0gcG9lbS5jYW1lcmEub2JqZWN0O1xuXHR2YXIgc3BlZWQgPSAwLjAwMDA1O1xuXHR2YXIgYmFzZVkgPSBjYW1lcmEucG9zaXRpb24ueTtcblx0dmFyIGJhc2VaID0gY2FtZXJhLnBvc2l0aW9uLnogLyAyO1xuXHRcblx0cG9lbS5lbWl0dGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcblx0XHRwb2VtLmdyaWQuZ3JpZC5yb3RhdGlvbi55ICs9IGUuZHQgKiBzcGVlZDtcblx0XHRpZiggcG9lbS5wb2ludGNsb3VkLm9iamVjdCApIHtcblx0XHRcdHBvZW0ucG9pbnRjbG91ZC5vYmplY3Qucm90YXRpb24ueSArPSBlLmR0ICogc3BlZWQ7XG5cdFx0fVxuXHRcdFxuXHRcdGNhbWVyYS5wb3NpdGlvbi55ID0gYmFzZVkgKyBNYXRoLnNpbiggZS5ub3cgKiBzcGVlZCAqIDEwICkgKiAyMDA7XG5cdFx0Y2FtZXJhLnBvc2l0aW9uLnogPSBiYXNlWSArIE1hdGguc2luKCBlLm5vdyAqIHNwZWVkICogMTAgKSAqIGJhc2VaO1xuXHRcdFxuXHRcdFxuXHR9KTtcblx0XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvdGF0ZUFyb3VuZE9yaWdpbjtcblxuUm90YXRlQXJvdW5kT3JpZ2luLnByb3RvdHlwZSA9IHtcblxufTsiLCJ2YXIgQ3JlYXRlR3B1UHJvY2Vzc29yID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZ3B1LXByb2Nlc3Nvci9ncHUtcHJvY2Vzc29yJylcblxudmFyIER1cGxpY2F0ZUJ1ZmZlckdlb21ldHJ5ID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZHVwbGljYXRlLWJ1ZmZlci1nZW9tZXRyeScpXG52YXIgQ29weVRleHR1cmUgPSByZXF1aXJlKCcuLi8uLi91dGlscy9ncHUtcHJvY2Vzc29yL2NvcHktdGV4dHVyZScpXG5cbmNvbnN0IFBBU1NfVEhST1VHSF9WRVJUID0gXCJ2b2lkIG1haW4oKSB7IGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApOyB9XCJcblxuZnVuY3Rpb24gX2dlbmVyYXRlUG9zaXRpb25GbiggY29uZmlnICkge1xuXHRcblx0cmV0dXJuIGZ1bmN0aW9uIGdlbmVyYXRlUG9zaXRpb24oIGRhdGEsIGkgKSB7XG5cblx0XHRkYXRhW2krMF0gPSBNYXRoLnJhbmRvbSgpICogMC4wMSArICggTWF0aC5jb3MoaSAqIDAuMDIpICsgTWF0aC5jb3MoaSAqIDAuMiApKiAwLjAxKSAqIDNcblx0XHRkYXRhW2krMV0gPSBNYXRoLnJhbmRvbSgpICogMC4wMSArICggTWF0aC5zaW4oaSAqIDAuMDIpICsgTWF0aC5zaW4oaSAqIDAuMiApKiAwLjAxKSAqIDNcblx0XHRkYXRhW2krMl0gPSBNYXRoLnJhbmRvbSgpICogMC4wMSArICAyICsgLWkgKiAwLjAwMDAyXG5cdFx0XG5cdFx0ZGF0YVtpKzBdICs9IE1hdGguc2luKCBkYXRhW2krMl0gKSAqIDAuMVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9pbml0UG9zaXRpb25pbmdQYXNzKCBncHVQcm9jZXNzb3IsIGNvbmZpZyApIHtcblx0XG5cdHZhciBwcmV2UG9zaXRpb25UZXh0dXJlIC8vIGNyZWF0ZWQgYXQgdGhlIGVuZFxuXHRcblx0dmFyIHNoYWRlck1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcblx0XHRcblx0XHR2ZXJ0ZXhTaGFkZXIgOiBQQVNTX1RIUk9VR0hfVkVSVCxcblx0XHRmcmFnbWVudFNoYWRlciA6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG51bmlmb3JtIGZsb2F0IHRleHR1cmVTaWRlTGVuZ3RoO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVDdXJyUG9zaXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVByZXZQb3NpdGlvbjtcXG5cXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0XFxuXFx0dmVjMiB1diA9IGdsX0ZyYWdDb29yZC54eSAvIHRleHR1cmVTaWRlTGVuZ3RoO1xcblxcdHZlYzQgY3VyclBvc2l0aW9uID0gdGV4dHVyZTJEKCB0ZXh0dXJlQ3VyclBvc2l0aW9uLCB1diApO1xcblxcdHZlYzQgcHJldlBvc2l0aW9uID0gdGV4dHVyZTJEKCB0ZXh0dXJlUHJldlBvc2l0aW9uLCB1diApO1xcblxcblxcdHZlYzMgdmVsb2NpdHkgPSBjdXJyUG9zaXRpb24ueHl6IC0gcHJldlBvc2l0aW9uLnh5ejtcXG5cXHR2ZWMzIHRvT3JpZ2luID0gbm9ybWFsaXplKC0xLjAgKiBjdXJyUG9zaXRpb24ueHl6KTtcXG5cXHR2ZWMzIG9yaWVudGF0aW9uID0gbm9ybWFsaXplKCB2ZWxvY2l0eSApO1xcblxcdHZlYzMgbmV3T3JpZW50YXRpb24gPSBub3JtYWxpemUoIG1peCggdG9PcmlnaW4sIG9yaWVudGF0aW9uLCAwLjkzICkgKTtcXG5cXHRuZXdPcmllbnRhdGlvbiArPSB2ZWMzKDAuMDAwMSwgMC4wMDAxLCAwLjAwMDEpO1xcblxcdGZsb2F0IHZlbG9jaXR5TGVuZ3RoID0gbGVuZ3RoKCB2ZWxvY2l0eSApO1xcblxcdGZsb2F0IHRvT3JpZ2luTGVuZ3RoID0gbGVuZ3RoKCBjdXJyUG9zaXRpb24ueHl6ICk7XFxuXFx0XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChcXG5cXHRcXHRjdXJyUG9zaXRpb24ueHl6ICsgbmV3T3JpZW50YXRpb24gKiAwLjAyLFxcblxcdFxcdDEuMFxcblxcdCk7XFxufVwiLFxuXHRcdHVuaWZvcm1zOiB7XG5cdFx0XHRlbGFwc2VkIDogeyB0eXBlIDogJ2YnIH0sXG5cdFx0XHR0ZXh0dXJlU2lkZUxlbmd0aCA6IHsgdHlwZSA6ICdmJyB9LFxuXHRcdFx0dGV4dHVyZUN1cnJQb3NpdGlvbiA6IHsgdHlwZSA6ICd0JyB9LFxuXHRcdFx0dGV4dHVyZVByZXZQb3NpdGlvbiA6IHsgdHlwZSA6ICd0JyB9XG5cdFx0fSxcblx0XHRhdHRyaWJ1dGVzIDoge31cblx0fSlcblx0XG5cdHNoYWRlck1hdGVyaWFsLm5hbWUgPSBcIkJvaWRzIFBvc2l0aW9uIFNoYWRlclwiXG5cblx0dmFyIHBhc3MgPSBncHVQcm9jZXNzb3IuYWRkUGFzcyggXCJwb3NpdGlvblwiLCB7XG5cdFx0XG5cdFx0c2l6ZSAgICAgICAgICAgICAgOiBjb25maWcuY291bnQsICAvLyBOdW1iZXIgb2YgdmVjdG9ycyBpbiBkYXRhXG5cdFx0c3RyaWRlICAgICAgICAgICAgOiAzLCAgICAgICAgICAgICAvLyBEaW1lbnNpb25zIG9mIHZlY3RvcnMsIGVpdGhlciAzIG9yIDRcblx0XHR1bmlmb3JtTmFtZSAgICAgICA6IFwidGV4dHVyZUN1cnJQb3NpdGlvblwiLFxuXHRcdHNoYWRlck1hdGVyaWFsICAgIDogc2hhZGVyTWF0ZXJpYWwsXG5cdFx0Z2VuZXJhdGVEYXR1bSAgICAgOiBfZ2VuZXJhdGVQb3NpdGlvbkZuKCBjb25maWcgKSxcblx0XHRwcmVSZW5kZXIgICAgICAgICA6IGZ1bmN0aW9uKCBwYXNzLCBwYXNzZXMgKSB7XG5cdFx0XHRcblx0XHRcdC8vQ29weSB0aGUgcHJldmlvdXMgcG9zaXRpb25cblx0XHRcdGdwdVByb2Nlc3Nvci5jb3B5VGV4dHVyZShcblx0XHRcdFx0cGFzcy5vdXRwdXRSZW5kZXJUYXJnZXQsXG5cdFx0XHRcdHByZXZQb3NpdGlvblRleHR1cmUsXG5cdFx0XHRcdHBhc3MudGV4dHVyZVNpZGVMZW5ndGhcblx0XHRcdClcblx0XHRcdFxuXHRcdH1cblx0fSlcblx0XG5cdC8vQ29weSBvbmUgb2YgdGhlIHJlbmRlciB0YXJnZXQgc2V0dGluZ3Ncblx0cHJldlBvc2l0aW9uVGV4dHVyZSA9IHBhc3MucmVuZGVyVGFyZ2V0c1swXS5jbG9uZSgpXG5cdHByZXZQb3NpdGlvblRleHR1cmUubmFtZSA9IFwicHJldlBvc2l0aW9uVGV4dHVyZVwiXG5cdFxuXHQvLyAvL1RPRE8gLSBEZWJ1ZyBvbmx5XG5cdC8vIGdwdVByb2Nlc3Nvci5jb3B5VGV4dHVyZShcblx0Ly8gXHRwYXNzLnJlbmRlclRhcmdldHNbMF0sXG5cdC8vIFx0cHJldlBvc2l0aW9uVGV4dHVyZSxcblx0Ly8gXHRwYXNzLnRleHR1cmVTaWRlTGVuZ3RoXG5cdC8vIClcblx0XG5cdHNoYWRlck1hdGVyaWFsLnVuaWZvcm1zLnRleHR1cmVTaWRlTGVuZ3RoLnZhbHVlID0gcGFzcy50ZXh0dXJlU2lkZUxlbmd0aFxuXHRzaGFkZXJNYXRlcmlhbC51bmlmb3Jtcy50ZXh0dXJlUHJldlBvc2l0aW9uLnZhbHVlID0gcHJldlBvc2l0aW9uVGV4dHVyZVxuXHRcblx0cmV0dXJuIHtcblx0XHRwYXNzIDogcGFzcyxcblx0XHRwcmV2UG9zaXRpb25UZXh0dXJlIDogcHJldlBvc2l0aW9uVGV4dHVyZSxcblx0XHRzaGFkZXJNYXRlcmlhbCA6IHNoYWRlck1hdGVyaWFsXG5cdH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVJlbmRlck1hdGVyaWFsKCBjb25maWcgKSB7XG5cdFxuXHR2YXIgc2hhZGVyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuXHRcdFxuXHRcdHZlcnRleFNoYWRlciAgICA6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG51bmlmb3JtIGZsb2F0IGVsYXBzZWQ7XFxuXFxudW5pZm9ybSBmbG9hdCB0ZXh0dXJlU2lkZUxlbmd0aDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlQ3VyclBvc2l0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVQcmV2UG9zaXRpb247XFxuXFxuYXR0cmlidXRlIGZsb2F0IGF0dHJpYnV0ZUluZGV4O1xcblxcbnZhcnlpbmcgZmxvYXQgdkxpZ2h0aW5nO1xcbnZhcnlpbmcgZmxvYXQgdkF0dHJpYnV0ZUluZGV4O1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRcXG5cXHR2ZWMyIHBvc2l0aW9uTG9va3VwID0gdmVjMihcXG5cXHRcXHRtb2QoYXR0cmlidXRlSW5kZXgsIHRleHR1cmVTaWRlTGVuZ3RoKSxcXG5cXHRcXHRmbG9vcihhdHRyaWJ1dGVJbmRleCAvIHRleHR1cmVTaWRlTGVuZ3RoKVxcblxcdCkgLyB0ZXh0dXJlU2lkZUxlbmd0aDtcXG5cXHRcXG5cXHR2ZWMzIGN1cnJQb3NpdGlvbiA9IHRleHR1cmUyRCggdGV4dHVyZUN1cnJQb3NpdGlvbiwgcG9zaXRpb25Mb29rdXAgKS54eXo7XFxuXFx0dmVjMyBwcmV2UG9zaXRpb24gPSB0ZXh0dXJlMkQoIHRleHR1cmVQcmV2UG9zaXRpb24sIHBvc2l0aW9uTG9va3VwICkueHl6O1xcblxcdFxcblxcdGZsb2F0IHRoZXRhID0gbG9nKGF0dHJpYnV0ZUluZGV4KSAqIDguMDtcXG5cXHRmbG9hdCByID0gYXR0cmlidXRlSW5kZXggKiAyLjA7XFxuXFx0XFxuXFx0dmVjNCBvZmZzZXQgPSB2ZWM0KCByICogc2luKHRoZXRhKSwgciAqIGNvcyh0aGV0YSksIDAuMCwgMC4wICk7XFxuXFx0XFxuXFx0dkxpZ2h0aW5nID0gZG90KCBub3JtYWwsIG5vcm1hbGl6ZShjYW1lcmFQb3NpdGlvbiAtIHBvc2l0aW9uKSApO1xcblxcdHZMaWdodGluZyA9IHZMaWdodGluZyAqIDAuNSArIDAuNTtcXG5cXHRcXG5cXHR2QXR0cmlidXRlSW5kZXggPSBhdHRyaWJ1dGVJbmRleDtcXG5cXHRcXG5cXHRnbF9Qb3NpdGlvbiA9XFxuXFx0XFx0cHJvamVjdGlvbk1hdHJpeCAqXFxuXFx0XFx0bW9kZWxWaWV3TWF0cml4ICogKFxcblxcdFxcdFxcdHZlYzQoIHBvc2l0aW9uLCAxLjAgKSArIG9mZnNldCAqIDAuMCArIHZlYzQoIGN1cnJQb3NpdGlvbiAqIDEwMC4wLCAwIClcXG5cXHRcXHQpO1xcbn1cIixcblx0XHRmcmFnbWVudFNoYWRlciAgOiBcIiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyBmbG9hdCB2TGlnaHRpbmc7XFxudmFyeWluZyBmbG9hdCB2QXR0cmlidXRlSW5kZXg7XFxuXFxuZmxvYXQgaHVlMnJnYl8xXzAoZmxvYXQgZjEsIGZsb2F0IGYyLCBmbG9hdCBodWUpIHtcXG4gICAgaWYgKGh1ZSA8IDAuMClcXG4gICAgICAgIGh1ZSArPSAxLjA7XFxuICAgIGVsc2UgaWYgKGh1ZSA+IDEuMClcXG4gICAgICAgIGh1ZSAtPSAxLjA7XFxuICAgIGZsb2F0IHJlcztcXG4gICAgaWYgKCg2LjAgKiBodWUpIDwgMS4wKVxcbiAgICAgICAgcmVzID0gZjEgKyAoZjIgLSBmMSkgKiA2LjAgKiBodWU7XFxuICAgIGVsc2UgaWYgKCgyLjAgKiBodWUpIDwgMS4wKVxcbiAgICAgICAgcmVzID0gZjI7XFxuICAgIGVsc2UgaWYgKCgzLjAgKiBodWUpIDwgMi4wKVxcbiAgICAgICAgcmVzID0gZjEgKyAoZjIgLSBmMSkgKiAoKDIuMCAvIDMuMCkgLSBodWUpICogNi4wO1xcbiAgICBlbHNlXFxuICAgICAgICByZXMgPSBmMTtcXG4gICAgcmV0dXJuIHJlcztcXG59XFxuXFxudmVjMyBoc2wycmdiXzFfMSh2ZWMzIGhzbCkge1xcbiAgICB2ZWMzIHJnYjtcXG4gICAgXFxuICAgIGlmIChoc2wueSA9PSAwLjApIHtcXG4gICAgICAgIHJnYiA9IHZlYzMoaHNsLnopOyAvLyBMdW1pbmFuY2VcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIGZsb2F0IGYyO1xcbiAgICAgICAgXFxuICAgICAgICBpZiAoaHNsLnogPCAwLjUpXFxuICAgICAgICAgICAgZjIgPSBoc2wueiAqICgxLjAgKyBoc2wueSk7XFxuICAgICAgICBlbHNlXFxuICAgICAgICAgICAgZjIgPSBoc2wueiArIGhzbC55IC0gaHNsLnkgKiBoc2wuejtcXG4gICAgICAgICAgICBcXG4gICAgICAgIGZsb2F0IGYxID0gMi4wICogaHNsLnogLSBmMjtcXG4gICAgICAgIFxcbiAgICAgICAgcmdiLnIgPSBodWUycmdiXzFfMChmMSwgZjIsIGhzbC54ICsgKDEuMC8zLjApKTtcXG4gICAgICAgIHJnYi5nID0gaHVlMnJnYl8xXzAoZjEsIGYyLCBoc2wueCk7XFxuICAgICAgICByZ2IuYiA9IGh1ZTJyZ2JfMV8wKGYxLCBmMiwgaHNsLnggLSAoMS4wLzMuMCkpO1xcbiAgICB9ICAgXFxuICAgIHJldHVybiByZ2I7XFxufVxcblxcbnZlYzMgaHNsMnJnYl8xXzEoZmxvYXQgaCwgZmxvYXQgcywgZmxvYXQgbCkge1xcbiAgICByZXR1cm4gaHNsMnJnYl8xXzEodmVjMyhoLCBzLCBsKSk7XFxufVxcblxcblxcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KFxcblxcdFxcdGhzbDJyZ2JfMV8xKCBtb2QoMC41ICsgdkF0dHJpYnV0ZUluZGV4ICogMC4wMDAwMDIsIDEuMCksIDAuOCwgMC41ICksXFxuXFx0XFx0MS4wXFxuXFx0KSAqIHZMaWdodGluZztcXG59XCIsXG5cdFx0XG5cdFx0dW5pZm9ybXM6IHtcblx0XHRcdGVsYXBzZWQgOiB7IHR5cGU6ICdmJywgdmFsdWUgOiAwIH0sXG5cdFx0XHR0ZXh0dXJlQ3VyclBvc2l0aW9uIDogeyB0eXBlIDogJ3QnIH0sXG5cdFx0XHR0ZXh0dXJlUHJldlBvc2l0aW9uIDogeyB0eXBlIDogJ3QnIH0sXG5cdFx0XHR0ZXh0dXJlU2lkZUxlbmd0aCA6IHsgdHlwZSA6ICdmJyB9XG5cdFx0fSxcblx0XHRcblx0XHRhdHRyaWJ1dGVzICAgICAgIDoge1xuXHRcdFx0YXR0cmlidXRlSW5kZXggOiB7IHR5cGU6ICdmJyB9XG5cdFx0fVxuXHR9KVxuXHRcblx0c2hhZGVyTWF0ZXJpYWwubmFtZSA9IFwiQm9pZHMgUmVuZGVyIFNoYWRlclwiXG5cdFxuXHRyZXR1cm4gc2hhZGVyTWF0ZXJpYWxcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUdlb21ldHJ5KCBjb25maWcgKSB7XG5cdFxuXHR2YXIgYnVmZmVyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKVxuXHRidWZmZXJHZW9tZXRyeS5mcm9tR2VvbWV0cnkoIG5ldyBUSFJFRS5PY3RhaGVkcm9uR2VvbWV0cnkoIDMgKSApXG5cdER1cGxpY2F0ZUJ1ZmZlckdlb21ldHJ5KCBidWZmZXJHZW9tZXRyeSwgY29uZmlnLmNvdW50IClcblxuXHRyZXR1cm4gYnVmZmVyR2VvbWV0cnlcbn1cblxuZnVuY3Rpb24gX2luaXRSZW5kZXJpbmdQYXNzKCBjb25maWcsIHNjZW5lLCBwb3NpdGlvbmluZyApIHtcblx0XG5cdHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goXG5cdFx0X2NyZWF0ZUdlb21ldHJ5KCBjb25maWcgKSxcblx0XHRfY3JlYXRlUmVuZGVyTWF0ZXJpYWwoIGNvbmZpZywgcG9zaXRpb25pbmcgKVxuXHQpXG5cdFxuXHRzY2VuZS5hZGQoIG1lc2ggKVxuXHRyZXR1cm4gbWVzaFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZibyggcG9lbSwgcHJvcHMgKSB7XG5cdFxuXHR2YXIgY29uZmlnID0gXy5leHRlbmQoe1xuXHRcdGNvdW50IDogMWU1ICogMlxuXHR9LCBwcm9wcylcblx0XG5cdHZhciBncHVQcm9jZXNzb3IgPSBDcmVhdGVHcHVQcm9jZXNzb3IoIHBvZW0ucmVuZGVyZXIgKVxuXHR2YXIgcG9zaXRpb25pbmcgPSBfaW5pdFBvc2l0aW9uaW5nUGFzcyggZ3B1UHJvY2Vzc29yLCBjb25maWcgKVxuXHRcblx0XG5cdHZhciBtZXNoID0gX2luaXRSZW5kZXJpbmdQYXNzKCBjb25maWcsIHBvZW0uc2NlbmUgKVxuXHRcblx0cG9lbS5lbWl0dGVyLm9uKCd1cGRhdGUnICwgZnVuY3Rpb24oZSkge1xuXHRcdFxuXHRcdGdwdVByb2Nlc3Nvci5yZW5kZXIoKVxuXHRcdFxuXHRcdG1lc2gubWF0ZXJpYWwudW5pZm9ybXMudGV4dHVyZUN1cnJQb3NpdGlvbi52YWx1ZSA9IHBvc2l0aW9uaW5nLnBhc3Mub3V0cHV0UmVuZGVyVGFyZ2V0XG5cdFx0Ly8gbWVzaC5tYXRlcmlhbC51bmlmb3Jtcy50ZXh0dXJlQ3VyclBvc2l0aW9uLnZhbHVlID0gcG9zaXRpb25pbmcucHJldlBvc2l0aW9uVGV4dHVyZVxuXHRcdG1lc2gubWF0ZXJpYWwudW5pZm9ybXMudGV4dHVyZVByZXZQb3NpdGlvbi52YWx1ZSA9IHBvc2l0aW9uaW5nLnByZXZQb3NpdGlvblRleHR1cmVcblx0XHRtZXNoLm1hdGVyaWFsLnVuaWZvcm1zLnRleHR1cmVTaWRlTGVuZ3RoLnZhbHVlID0gcG9zaXRpb25pbmcucGFzcy50ZXh0dXJlU2lkZUxlbmd0aFxuXHRcdG1lc2gubWF0ZXJpYWwudW5pZm9ybXMuZWxhcHNlZC52YWx1ZSA9IGUuZWxhcHNlZFxuXHR9KVxufSIsInZhciBUb3VjaGVzID0gcmVxdWlyZSgndG91Y2hlcycpXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlTW91c2VUcmFja2VyKCBwb2VtLCBjb25maWcgKSB7XG5cdFxuXHR2YXIgcGl4ZWxQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IyKClcblx0dmFyIG5vcm1hbGl6ZWRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IyKClcblx0XG5cdHZhciBzYXZlUG9zaXRpb24gPSBmdW5jdGlvbihlLCBwb3NpdGlvbikge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdFxuXHRcdG5vcm1hbGl6ZWRQb3NpdGlvbi54ID0gIDIgKiAocG9zaXRpb25bMF0gLyBwb2VtLmNhbnZhcy5vZmZzZXRXaWR0aCkgLSAxXG5cdFx0bm9ybWFsaXplZFBvc2l0aW9uLnkgPSAtMiAqIChwb3NpdGlvblsxXSAvIHBvZW0uY2FudmFzLm9mZnNldEhlaWdodCkgKyAxXG5cdFx0XG5cdFx0cGl4ZWxQb3NpdGlvbi54ID0gcG9zaXRpb25bMF1cblx0XHRwaXhlbFBvc2l0aW9uLnkgPSBwb3NpdGlvblsxXVx0XHRcdFxuXHR9XG5cblx0dmFyIGVtaXR0ZXIgPSBUb3VjaGVzKCBwb2VtLmNhbnZhcywgeyBmaWx0ZXJlZDogdHJ1ZSB9KVxuXHRcblx0XHQub24oJ3N0YXJ0Jywgc2F2ZVBvc2l0aW9uIClcblx0XHRcblx0XHQub24oJ21vdmUnLCBzYXZlUG9zaXRpb24pXG5cdFx0XG5cdFx0Lm9uKCdlbmQnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRwaXhlbFBvc2l0aW9uLnggPSBudWxsXG5cdFx0XHRwaXhlbFBvc2l0aW9uLnkgPSBudWxsXG5cdFx0XHRub3JtYWxpemVkUG9zaXRpb24ueCA9IG51bGxcblx0XHRcdG5vcm1hbGl6ZWRQb3NpdGlvbi55ID0gbnVsbFxuXHRcdH0pXG5cdFxuXHRwb2VtLmVtaXR0ZXIub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHRlbWl0dGVyLmRpc2FibGUoKVxuXHR9KVxuXHRcblx0cmV0dXJuIHtcblx0XHRlbWl0dGVyIDogZW1pdHRlclxuXHQgICwgcGl4ZWxQb3NpdGlvbiA6IHBpeGVsUG9zaXRpb25cblx0ICAsIG5vcm1hbGl6ZWRQb3NpdGlvbiA6IG5vcm1hbGl6ZWRQb3NpdGlvblxuXHR9XG59IiwidmFyIFRyYWNrQ2FtZXJhTGlnaHRzID0gZnVuY3Rpb24oIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cdFxuXHR0aGlzLmxpZ2h0cyA9IFtdO1xuXHRcblx0dmFyIGFtYmllbnQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KCAweDExMTExMSwgMSwgMCApO1xuXHRcdGFtYmllbnQucG9zaXRpb24uc2V0KDAsIDIwMDAsIDEwMDApO1xuXHRcblx0dmFyIGZyb250ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoIDB4ZmZmZmZmLCAwLjMsIDAgKTtcblxuXHR2YXIgcmlnaHRGaWxsID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoIDB4ZmZmZmZmLCAxLCAwICk7XG5cdFx0cmlnaHRGaWxsLnBvc2l0aW9uLnNldCgzMDAwLCAyMDAwLCA1MDAwKTtcblx0XG5cdHZhciByaW1Cb3R0b20gPSBuZXcgVEhSRUUuUG9pbnRMaWdodCggMHhmZmZmZmYsIDEsIDAgKTtcblx0XHRyaW1Cb3R0b20ucG9zaXRpb24uc2V0KC0xMDAwLCAtMTAwMCwgLTEwMDApO1xuXHRcdFxuXHR2YXIgcmltQmFja0xlZnQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCggMHhmZmZmZmYsIDIsIDAgKTtcblx0XHRyaW1CYWNrTGVmdC5wb3NpdGlvbi5zZXQoLTcwMCwgNTAwLCAtMTAwMCk7XG5cdFxuXHRwb2VtLnNjZW5lLmFkZCggYW1iaWVudCApO1xuXHQvLyBwb2VtLmNhbWVyYS5vYmplY3QuYWRkKCBmcm9udCApO1xuXHRwb2VtLmNhbWVyYS5vYmplY3QuYWRkKCByaWdodEZpbGwgKTtcblx0cG9lbS5jYW1lcmEub2JqZWN0LmFkZCggcmltQm90dG9tICk7XG5cdHBvZW0uY2FtZXJhLm9iamVjdC5hZGQoIHJpbUJhY2tMZWZ0ICk7XG5cdFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFja0NhbWVyYUxpZ2h0cztcblxuVHJhY2tDYW1lcmFMaWdodHMucHJvdG90eXBlID0ge1xuXG59OyIsInZhciBBc3NpbXBKU09OTG9hZGVyID0gcmVxdWlyZSgnLi4vLi4vdmVuZG9yL0Fzc2ltcEpTT05Mb2FkZXInKVxuXG52YXIgc3RhdGljcyA9IHtcblx0dHJlZSA6IG51bGxcbn1cblxuZnVuY3Rpb24gX2xvYWRUcmVlUHJvbWlzZSgpIHtcblx0XG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdFxuXHRcdGlmKCBzdGF0aWNzLnRyZWUgKSB7XG5cdFx0XHRyZXNvbHZlKCBzdGF0aWNzLnRyZWUgKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXHRcdFxuXHRcdHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuQXNzaW1wSlNPTkxvYWRlcigpO1xuXHRcdFxuXHRcdHZhciBkb25lTG9hZGluZyA9IGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXHRcdFx0X3VwZGF0ZU1hdGVyaWFscyggb2JqZWN0IClcblx0XHRcdHN0YXRpY3MudHJlZSA9IG9iamVjdFxuXHRcdFx0cmVzb2x2ZSggb2JqZWN0IClcblx0XHR9XG5cdFx0dmFyIG9uUHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHt9XG5cdFx0XG5cdFx0bG9hZGVyLmxvYWQoXG5cdFx0XHQnLi9qcy9jb21wb25lbnRzL21vZGVscy90cmVlLmpzb24nLFxuXHRcdFx0ZG9uZUxvYWRpbmcsXG5cdFx0XHRvblByb2dyZXNzLFxuXHRcdFx0cmVqZWN0XG5cdFx0KTtcblx0fSlcdFxufVxuXG5mdW5jdGlvbiBfdXBkYXRlTWF0ZXJpYWxzKCBvYmogKSB7XG5cdFxuXHRpZiggb2JqLm1hdGVyaWFsICkge1xuXHRcdG9iai5tYXRlcmlhbC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZVxuXHRcdG9iai5tYXRlcmlhbC5zaGFkaW5nID0gVEhSRUUuU21vb3RoU2hhZGluZ1xuXHRcdG9iai5tYXRlcmlhbC5zcGVjdWxhciA9IG5ldyBUSFJFRS5Db2xvcigweDU1NTU1NSlcblx0XHRvYmoubWF0ZXJpYWwuc2hpbmluZXNzID0gMVxuXHR9XG5cdFxuXHRmb3IoIHZhciBpPTA7IGkgPCBvYmouY2hpbGRyZW4ubGVuZ3RoOyBpKysgKSB7XG5cdFx0X3VwZGF0ZU1hdGVyaWFscyggb2JqLmNoaWxkcmVuW2ldIClcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZVRyZWUoIHBvZW0sIHByb3BzICkge1xuXHRcblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHRwb3NpdGlvbjogWzAsMCwwXSxcblx0XHRzY2FsZTogICAgWzEwLDEwLDEwXSxcblx0fSwgcHJvcHMpXG5cdFxuXHR2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoIDIwLCAzMiwgMzIgKTtcblx0dmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKCB7Y29sb3I6IDB4ZmZmZjAwfSApO1xuXHR2YXIgc3BoZXJlID0gbmV3IFRIUkVFLk1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXHRzcGhlcmUucG9zaXRpb24ueCA9IDIwXG5cdHBvZW0uc2NlbmUuYWRkKCBzcGhlcmUgKTtcblx0XG5cdHJldHVybiBfbG9hZFRyZWVQcm9taXNlKCkudGhlbihmdW5jdGlvbiggdHJlZSApIHtcblx0XHRcblx0XHRwb2VtLnNjZW5lLmFkZCggdHJlZSApXG5cdFx0dHJlZS5wb3NpdGlvbi5mcm9tQXJyYXkoIGNvbmZpZy5wb3NpdGlvbiApXG5cdFx0dHJlZS5zY2FsZS5mcm9tQXJyYXkoIGNvbmZpZy5zY2FsZSApXG5cdFx0XG5cdFx0d2luZG93LnRyZWUgPSB0cmVlLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdXG5cdFx0XG5cdFx0cmV0dXJuIHRyZWVcblx0fSlcbn0iLCJ2YXIgTXJEb29iU3RhdHMgPSByZXF1aXJlKCcuLi8uLi92ZW5kb3IvU3RhdHMnKTtcblxudmFyIFN0YXRzID0gZnVuY3Rpb24oIHBvZW0gKSB7XG5cdFxuXHR0aGlzLnBvZW0gPSBwb2VtO1xuXHRcblx0dGhpcy5zdGF0cyA9IG5ldyBNckRvb2JTdGF0cygpO1xuXHR0aGlzLnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHR0aGlzLnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUudG9wID0gJzBweCc7XG5cdCQoIHRoaXMucG9lbS5kaXYgKS5hcHBlbmQoIHRoaXMuc3RhdHMuZG9tRWxlbWVudCApO1xuXHRcblx0dGhpcy5wb2VtLmVtaXR0ZXIub24oICd1cGRhdGUnLCB0aGlzLnN0YXRzLnVwZGF0ZS5iaW5kKCB0aGlzLnN0YXRzICkgKTtcblx0XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRzOyIsInZhciBMZXJwID0gcmVxdWlyZSgnbGVycCcpXG5cbmZ1bmN0aW9uIF9nZXRXaGVlbEV2ZW50TmFtZSgpIHtcblx0XG5cdGlmKCBcIm9ud2hlZWxcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICkge1xuXHRcdHJldHVybiBcIndoZWVsXCIgXG5cdH0gZWxzZSBpZiggZG9jdW1lbnQub25tb3VzZXdoZWVsICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0cmV0dXJuIFwibW91c2V3aGVlbFwiXG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIFwiRE9NTW91c2VTY3JvbGxcIlxuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZHJhZ1Njcm9sbCggcG9lbSwgcHJvcGVydGllcyApIHtcblx0XG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0ZGlzdGFuY2UgOiAwLjEsXG5cdFx0cmVzZXRTcGVlZCA6IDAuMDUsXG5cdFx0Y2VudGVyIDogcG9lbS5jYW1lcmEub2JqZWN0LnBvc2l0aW9uLmNsb25lKClcblx0fSwgcHJvcGVydGllcylcblxuXHR2YXIgY3VycmVudCA9IHtcblx0XHRjZW50ZXIgOiBjb25maWcuY2VudGVyLmNsb25lKClcblx0fVxuXHRcblx0cG9lbS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lciggX2dldFdoZWVsRXZlbnROYW1lKCksIGZ1bmN0aW9uIGhhbmRsZU1vdXNlV2hlZWwoZSkge1xuXHRcdGN1cnJlbnQuY2VudGVyLnkgKz0gY29uZmlnLmRpc3RhbmNlICogLWUuZGVsdGFZXG5cdFx0Y3VycmVudC5jZW50ZXIueCArPSBjb25maWcuZGlzdGFuY2UgKiBlLmRlbHRhWCAqIDVcblx0XHRcblx0fSwgZmFsc2UgKTtcblx0XG5cdHBvZW0uZW1pdHRlci5vbigndXBkYXRlJywgZnVuY3Rpb24gdXBkYXRlRHJhZ1Njcm9sbCgpIHtcblx0XHRjdXJyZW50LmNlbnRlci55ID0gTGVycChcblx0XHRcdGN1cnJlbnQuY2VudGVyLnksXG5cdFx0XHRjb25maWcuY2VudGVyLnksXG5cdFx0XHRjb25maWcucmVzZXRTcGVlZFxuXHRcdClcblx0XHRjdXJyZW50LmNlbnRlci54ID0gTGVycChcblx0XHRcdGN1cnJlbnQuY2VudGVyLngsXG5cdFx0XHRjb25maWcuY2VudGVyLngsXG5cdFx0XHRjb25maWcucmVzZXRTcGVlZFxuXHRcdClcblx0XHRjdXJyZW50LmNlbnRlci56ID0gTGVycChcblx0XHRcdGN1cnJlbnQuY2VudGVyLnosXG5cdFx0XHRjb25maWcuY2VudGVyLnosXG5cdFx0XHRjb25maWcucmVzZXRTcGVlZFxuXHRcdClcblx0XHRcblx0XHRwb2VtLmNhbWVyYS5vYmplY3QucG9zaXRpb24uY29weSggY3VycmVudC5jZW50ZXIgKVxuXHR9KVxufSIsInZhciBjcmVhdGVNYW5pZmVzdExvYWRlciA9IHJlcXVpcmUoJ3BvZW0tbWFuaWZlc3RzJyk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG52YXIgX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG52YXIgX2xvYWRlciA9IG51bGw7XG5cbnZhciBpbml0ID0gZnVuY3Rpb24oIGNyZWF0ZVBvZW1HcmFwaCwgbWFuaWZlc3RzICkge1xuXHRcdFxuXHRfbG9hZGVyID0gY3JlYXRlTWFuaWZlc3RMb2FkZXIoIG1hbmlmZXN0cywge1xuXHRcdGVtaXR0ZXIgOiBfZW1pdHRlcixcblx0XHRnZXRHcmFwaCA6IGZ1bmN0aW9uKCBtYW5pZmVzdCwgc2x1ZyApIHtcdHJldHVybiBjcmVhdGVQb2VtR3JhcGgoIG1hbmlmZXN0LCBfZW1pdHRlciApOyB9LFxuXHRcdGdsb2JhbE1hbmlmZXN0IDoge31cblx0fSk7XG5cdFxuXHRfZW1pdHRlci5vbignbG9hZCcsIGZ1bmN0aW9uKCBlICkge1xuXHRcdHdpbmRvdy5wb2VtID0gZS5ncmFwaDtcblx0fSk7XG5cdFxufTtcblxudmFyIGxvYWQgPSBmdW5jdGlvbiggc2x1ZyApIHtcblx0cmV0dXJuIF9sb2FkZXIubG9hZCggc2x1ZyApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGluaXQgOiBpbml0LFxuXHRsb2FkIDogbG9hZCxcblx0ZW1pdHRlciA6IF9lbWl0dGVyXG59O1xuIiwidmFyIENhbWVyYSA9IHJlcXVpcmUoJy4uL2NvbXBvbmVudHMvY2FtZXJhcy9DYW1lcmEnKVxudmFyIENyZWF0ZUxvb3AgPSByZXF1aXJlKCdwb2VtLWxvb3AnKVxuXG5jb25zdCBSQVRJTyA9IF8uaXNOdW1iZXIoIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICkgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IDFcblxuZnVuY3Rpb24gX2NyZWF0ZUZvZyggc2NlbmUsIHByb3BlcnRpZXMsIGNhbWVyYVBvc2l0aW9uWiApIHtcblxuXHR2YXIgY29uZmlnID0gXy5leHRlbmQoe1xuXHRcdGNvbG9yIDogMHgyMjIyMjIsXG5cdFx0bmVhckZhY3RvciA6IDAuNSxcblx0XHRmYXJGYWN0b3IgOiAyXG5cdH0sIHByb3BlcnRpZXMgKVxuXG5cdHNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coXG5cdFx0Y29uZmlnLmNvbG9yLFxuXHRcdGNhbWVyYVBvc2l0aW9uWiAqIGNvbmZpZy5uZWFyRmFjdG9yLFxuXHRcdGNhbWVyYVBvc2l0aW9uWiAqIGNvbmZpZy5mYXJGYWN0b3Jcblx0KVxuXG59XG5cbmZ1bmN0aW9uIF9zdGFydEFmdGVyUHJvbWlzZXMoIHBvZW0gKSB7XG5cdFxuXHR2YXIgcHJvbWlzZXNVbmZpbHRlcmVkID0gXy5tYXAoIHBvZW0sIGZ1bmN0aW9uKCBjb21wb25lbnQgKSB7XG5cdFx0cmV0dXJuIF8uaXNPYmplY3QoIGNvbXBvbmVudCApID8gY29tcG9uZW50LnByb21pc2UgOiB1bmRlZmluZWRcblx0fSlcblx0dmFyIHByb21pc2VzID0gXy5maWx0ZXIocHJvbWlzZXNVbmZpbHRlcmVkLCBmdW5jdGlvbiggY29tcG9uZW50ICkge1xuXHRcdHJldHVybiAhXy5pc1VuZGVmaW5lZCggY29tcG9uZW50IClcblx0fSlcblx0XG5cdFByb21pc2UuYWxsKCBwcm9taXNlcyApLnRoZW4oXG5cdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRwb2VtLmVtaXR0ZXIuZW1pdCgncHJvbWlzZXMnKVxuXHRcdFx0cG9lbS5sb29wLnN0YXJ0KClcblx0XHR9LFxuXHRcdGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSlcblx0KVxufVxuXHRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlUG9lbSggbWFuaWZlc3QsIGxvYWRlckVtaXR0ZXIgKSB7XG5cblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHRjYW1lcmEgOiBudWxsLFxuXHRcdGZvZyA6IG51bGwsXG5cdFx0cmVuZGVyZXIgOiBudWxsXHRcdFxuXHR9LCBtYW5pZmVzdC5jb25maWcpXG5cdFxuXHR2YXIgcG9lbSA9IHt9XG5cdHZhciBsb29wID0gQ3JlYXRlTG9vcCgpXG5cdHZhciBlbWl0dGVyID0gbG9vcC5lbWl0dGVyIC8vIFN0ZWFsIHRoZSBlbWl0dGVyIGZvciB0aGUgcG9lbVxuXHRcblx0dmFyIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKClcblx0dmFyIGNhbWVyYSA9IG5ldyBDYW1lcmEoIGNvbmZpZy5jYW1lcmEsIHNjZW5lLCBlbWl0dGVyIClcblx0XG5cdF9jcmVhdGVGb2coIHNjZW5lLCBjb25maWcuZm9nLCBjYW1lcmEub2JqZWN0LnBvc2l0aW9uLnogKVxuXHRcblx0Ly8gUmVuZGVyZXIoIGNvbmZpZy5yZW5kZXJlciwgc2NlbmUsIGNhbWVyYS5vYmplY3QsIGVtaXR0ZXIgKVxuXHRcblx0bG9hZGVyRW1pdHRlci5vbmNlKCAnbG9hZCcsIF8ucGFydGlhbCggX3N0YXJ0QWZ0ZXJQcm9taXNlcywgcG9lbSApIClcblx0XG5cdGxvYWRlckVtaXR0ZXIub24oICd1bmxvYWQnLCBmdW5jdGlvbigpIHtcblx0XHRsb29wLnN0b3AoKVxuXHRcdGVtaXR0ZXIuZW1pdCgnZGVzdHJveScpXG5cdH0pXG5cdFxuXHRyZXR1cm4gXy5leHRlbmQoIHBvZW0sIHtcblx0XHRlbWl0dGVyIDogZW1pdHRlcixcblx0XHRjYW52YXMgOiBudWxsLFxuXHRcdHNjZW5lIDogc2NlbmUsXG5cdFx0cmF0aW8gOiBSQVRJTyxcblx0XHRjYW1lcmEgOiBjYW1lcmEsXG5cdFx0JGRpdiA6ICQoXCIjY29udGFpbmVyXCIpLFxuXHRcdGxvb3AgOiBsb29wLFxuXHRcdHN0YXJ0IDogbG9vcC5zdGFydCxcblx0XHRzdG9wIDogbG9vcC5zdG9wXG5cdH0pXG59IiwidmFyIGNyb3Nzcm9hZHMgPSByZXF1aXJlKCdjcm9zc3JvYWRzJyk7XG52YXIgaGFzaGVyID0gcmVxdWlyZSgnaGFzaGVyJyk7XG52YXIgbWFuaWZlc3RUb1BvZW0gPSByZXF1aXJlKCcuL21hbmlmZXN0VG9Qb2VtJyk7XG5cbnZhciBfYmFzZVVybCA9ICcvc2FuZGJveCc7XG52YXIgX2RlZmF1bHRMZXZlbFxuXG52YXIgcm91dGluZyA9IHtcblx0XG5cdHN0YXJ0IDogZnVuY3Rpb24oIFBvZW0sIG1hbmlmZXN0cyApIHtcblx0XHRcblx0XHRfZGVmYXVsdExldmVsID0gXy5maXJzdCggXy5rZXlzKCBtYW5pZmVzdHMgKSApXG5cdFx0XG5cdFx0bWFuaWZlc3RUb1BvZW0uaW5pdCggUG9lbSwgbWFuaWZlc3RzICk7XG5cdFx0XG5cdFx0ZnVuY3Rpb24gcGFyc2VIYXNoKCBuZXdIYXNoLCBvbGRIYXNoICl7XG5cdFx0XHRjcm9zc3JvYWRzLnBhcnNlKCBuZXdIYXNoICk7XG5cdFx0fVxuXHRcdFxuXHRcdGNyb3Nzcm9hZHMuYWRkUm91dGUoICcvJyxcdFx0cm91dGluZy5zaG93TWFpblRpdGxlcyApO1xuXHRcdGNyb3Nzcm9hZHMuYWRkUm91dGUoICcve25hbWV9JyxcdHJvdXRpbmcubG9hZFVwQUxldmVsICk7XG5cdFxuXHRcdGNyb3Nzcm9hZHMuYWRkUm91dGUoIC8uKi8sIGZ1bmN0aW9uIHJlUm91dGVUb01haW5UaXRsZXNJZk5vTWF0Y2goKSB7XG5cdFx0XHRoYXNoZXIucmVwbGFjZUhhc2goJycpO1xuXHRcdH0pO1xuXHRcblx0XHRoYXNoZXIuaW5pdGlhbGl6ZWQuYWRkKHBhcnNlSGFzaCk7IC8vIHBhcnNlIGluaXRpYWwgaGFzaFxuXHRcdGhhc2hlci5jaGFuZ2VkLmFkZChwYXJzZUhhc2gpOyAvL3BhcnNlIGhhc2ggY2hhbmdlc1xuXHRcdGhhc2hlci5pbml0KCk7IC8vc3RhcnQgbGlzdGVuaW5nIGZvciBoaXN0b3J5IGNoYW5nZVxuXHRcdFxuXHR9LFxuXHRcblx0c2hvd01haW5UaXRsZXMgOiBmdW5jdGlvbigpIHtcblxuXHRcdF9nYXEucHVzaCggWyAnX3RyYWNrUGFnZXZpZXcnLCBfYmFzZVVybCBdICk7XG5cdFxuXHRcdG1hbmlmZXN0VG9Qb2VtLmxvYWQoIF9kZWZhdWx0TGV2ZWwgKTtcdFx0XG5cblx0fSxcblxuXHRsb2FkVXBBTGV2ZWwgOiBmdW5jdGlvbiggbGV2ZWxOYW1lICkge1xuXG5cdFx0X2dhcS5wdXNoKCBbICdfdHJhY2tQYWdldmlldycsIF9iYXNlVXJsKycvI2xldmVsLycrbGV2ZWxOYW1lIF0gKTtcblx0XG5cdFx0dmFyIGxldmVsRm91bmQgPSBtYW5pZmVzdFRvUG9lbS5sb2FkKCBsZXZlbE5hbWUgKTtcblx0XG5cdFx0aWYoICFsZXZlbEZvdW5kICkge1xuXHRcdFx0bWFuaWZlc3RUb1BvZW0ubG9hZCggX2RlZmF1bHRMZXZlbCApO1xuXHRcdH1cblx0XHRcblx0fVxuXHRcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGluZzsiLCJ2YXIgcG9lbU1lbnUgPSByZXF1aXJlKCdwb2VtLW1lbnUnKTtcbnZhclx0cm91dGluZ1x0PSByZXF1aXJlKCcuL3JvdXRpbmcnKTtcbnZhciBtdXRlID0gcmVxdWlyZSgnLi4vc291bmQvbXV0ZScpO1xudmFyIG1hbmlmZXN0VG9Qb2VtID0gcmVxdWlyZSgnLi9tYW5pZmVzdFRvUG9lbScpO1xuXG53aW5kb3cubXV0ZSA9IG11dGU7XG5cbmZ1bmN0aW9uIGhhbmRsZXJzKCBtZW51ICkge1xuXHRcblx0dmFyIHBvZW07XG5cblx0bWFuaWZlc3RUb1BvZW0uZW1pdHRlci5vbiggJ2xvYWQnLCBmdW5jdGlvbiggZSApIHtcblx0XHRwb2VtID0gZS5ncmFwaDtcblx0fSk7XG5cblx0bWVudS5lbWl0dGVyLm9uKCdjbG9zZScsIGZ1bmN0aW9uKCkge1xuXHRcdGlmKCBwb2VtICkgcG9lbS5zdGFydCgpO1xuXHR9KTtcblxuXHRtZW51LmVtaXR0ZXIub24oJ29wZW4nLCBmdW5jdGlvbigpIHtcblx0XHRpZiggcG9lbSApIHBvZW0uc3RvcCgpO1xuXHR9KTtcblx0XG59XG5cbi8vU3RhcnRcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdGFydFVJKCBtYW5pZmVzdHMgKSB7XG5cdFxuXHR2YXIgbWVudSA9IHBvZW1NZW51KCBtYW5pZmVzdHMsIHtcblx0XHR0b3A6IFwiVGhyZWUuanMgU2FuZGJveFwiLFxuXHRcdGJvdHRvbSA6IG11dGUuZWxcblx0fSk7XG5cblx0aGFuZGxlcnMoIG1lbnUgKTtcblx0XG59OyIsInZhciByYW5kb20gPSByZXF1aXJlKCcuLi91dGlscy9yYW5kb20nKVxuICAsIGxvYWRUZXh0dXJlXHQ9IHJlcXVpcmUoJy4uL3V0aWxzL2xvYWRUZXh0dXJlJylcbiAgLCBkZXN0cm95TWVzaCA9IHJlcXVpcmUoJy4uL3V0aWxzL2Rlc3Ryb3lNZXNoJylcbiAgLCBtdXRlID0gcmVxdWlyZSgnLi4vc291bmQvbXV0ZScpO1xuXG52YXIgRWFydGggPSBmdW5jdGlvbihwb2VtLCBwcm9wZXJ0aWVzKSB7XG5cdFxuXHR0aGlzLnBvZW0gPSBwb2VtO1xuXHRcblx0dGhpcy5nZW9tZXRyeSA9IG51bGw7XG5cdHRoaXMubWF0ZXJpYWwgPSBudWxsO1xuICAgIHRoaXMubWVzaCA9IG51bGw7XG5cdHRoaXMudGV4dHVyZSA9IG51bGw7XG5cdFxuXHQkKCcjTGV2ZWxTZWxlY3QnKS5oaWRlKCk7XG5cdFxuXHR0aGlzLnJhZGl1cyA9IHByb3BlcnRpZXMucmFkaXVzID4gMCA/IHByb3BlcnRpZXMucmFkaXVzIDogMjUwO1xuXG5cdHRoaXMuJGEgPSAkKFwiPGEgaHJlZj0naHR0cDovL3N2cy5nc2ZjLm5hc2EuZ292L2NnaS1iaW4vZGV0YWlscy5jZ2k/YWlkPTExNzE5Jz48L2E+XCIpO1xuXHR0aGlzLiRhLmFwcGVuZCggJChcIjxpbWcgY2xhc3M9J25hc2EtbG9nbyB3aWRlJyBzcmM9J2Fzc2V0cy9pbWFnZXMvbmFzYS1nb2RkYXJkLnBuZycgLz5cIikgKTtcblx0dGhpcy4kYS5hdHRyKFwidGl0bGVcIiwgXCJNYXAgdmlzdWFsaXphdGlvbiBjcmVkaXQgdG8gTkFTQSdzIEdvZGRhcmQgU3BhY2UgRmxpZ2h0IENlbnRlclwiKTtcblx0XG5cdHRoaXMucG9lbS4kZGl2LmFwcGVuZCggdGhpcy4kYSApO1xuXHRcblx0dGhpcy5wb2VtLmVtaXR0ZXIub24oJ2Rlc3Ryb3knLCB0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSk7XG5cdFxuXHR0aGlzLnN0YXJ0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVhcnRoO1xuXG5FYXJ0aC5wcm90b3R5cGUgPSB7XG5cdFxuXHRzdGFydCA6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHRoaXMuY3JlYXRlVGV4dHVyZSgpO1xuXG5cdFx0dGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSggdGhpcy5yYWRpdXMsIDY0LCA2NCApO1xuXHRcdHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuXHRcdFx0bWFwOiB0aGlzLnRleHR1cmUsXG5cdFx0XHRzaGluaW5lc3M6IDI1LFxuXHRcdFx0c3BlY3VsYXI6IDB4MTExMTExLFxuXHRcdFx0Ly8gY29sb3I6IDB4ZmYwMDAwXG5cdFx0fSk7XG5cdFxuXHRcdHRoaXMubWVzaCA9IG5ldyBUSFJFRS5NZXNoKCB0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsICk7XG5cdFxuXHRcdHRoaXMucG9lbS5zY2VuZS5hZGQoIHRoaXMubWVzaCApO1xuXHRcblx0XHR0aGlzLnBvZW0uZW1pdHRlci5vbiggJ3VwZGF0ZScsIHRoaXMudXBkYXRlLmJpbmQodGhpcykgKTtcblx0XHRcblx0fSxcblx0XG5cdGNyZWF0ZVRleHR1cmUgOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHR0aGlzLnZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3ZpZGVvJyApO1xuXHRcdHRoaXMuJHZpZGVvID0gJCh0aGlzLnZpZGVvKTtcblxuXHRcdC8vIHRoaXMudmlkZW8ubXV0ZWQgPSB0cnVlO1xuXHRcdHRoaXMudmlkZW8uY29udHJvbHMgPSB0cnVlO1xuXHRcdHRoaXMudmlkZW8ubG9vcCA9IHRydWU7XG5cdFx0dGhpcy52aWRlby5tdXRlZCA9IG11dGUubXV0ZWQoKTtcblx0XHRcblx0XHRcblx0XHRtdXRlLmVtaXR0ZXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCBtdXRlZCApIHtcblx0XHRcdHRoaXMudmlkZW8ubXV0ZWQgPSBtdXRlZDtcblx0XHR9LmJpbmQodGhpcykpO1xuXHRcdFxuXHRcdC8vIHRoaXMucG9lbS4kZGl2LmFwcGVuZCggdGhpcy52aWRlbyApO1xuXHRcdFxuXHRcdC8vIHRoaXMuJHZpZGVvLmNzcyh7XG5cdFx0Ly8gXHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdC8vIFx0dG9wOiAwLFxuXHRcdC8vIFx0bGVmdDogMFxuXHRcdC8vIH0pO1xuXHRcdFxuXHRcdC8vIHdpbmRvdy52ID0gdGhpcy52aWRlbztcblx0XHRcblx0XHRcblx0XHQvLyB2aWRlby5pZCA9ICd2aWRlbyc7XG5cdFx0Ly8gdmlkZW8udHlwZSA9ICcgdmlkZW8vb2dnOyBjb2RlY3M9XCJ0aGVvcmEsIHZvcmJpc1wiICc7XG5cdFx0Ly8gdGhpcy52aWRlby5zcmMgPSBcImFzc2V0cy92aWRlby9lYXJ0aGNvMi5tNHZcIjtcblx0XHRcblx0XHRcdFxuXHRcdGlmKCB0aGlzLnZpZGVvLmNhblBsYXlUeXBlKFwidmlkZW8vbXA0XCIpICkge1xuXHRcdFx0XG5cdFx0XHR0aGlzLnZpZGVvLnNyYyA9IFwiYXNzZXRzL3ZpZGVvL2VhcnRoY28yLWxhcmdlLm1wNFwiO1xuXHRcdFx0XG5cdFx0fSBlbHNlIHtcblx0XHRcdFxuXHRcdFx0dGhpcy52aWRlby5zcmMgPSBcImFzc2V0cy92aWRlby9lYXJ0aGNvMi53ZWJtXCI7XG5cdFx0XHRcblx0XHR9XG5cdFx0XHRcblx0XHRcdFx0XG5cdFx0XG5cdFx0dGhpcy52aWRlby5sb2FkKCk7IC8vIG11c3QgY2FsbCBhZnRlciBzZXR0aW5nL2NoYW5naW5nIHNvdXJjZVxuXHRcdHRoaXMudmlkZW8ucGxheSgpO1xuXHRcblx0XHR0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdjYW52YXMnICk7XG5cdFx0Ly8gdGhpcy5jYW52YXMud2lkdGggPSA5NjA7XG5cdFx0Ly8gdGhpcy5jYW52YXMuaGVpZ2h0ID0gNDgwO1xuXHRcdHRoaXMuY2FudmFzLndpZHRoID0gMTkyMDtcblx0XHR0aGlzLmNhbnZhcy5oZWlnaHQgPSA5NjA7XG5cblxuXHRcdHRoaXMuY3R4MmQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCAnMmQnICk7XG5cdFx0Ly8gYmFja2dyb3VuZCBjb2xvciBpZiBubyB2aWRlbyBwcmVzZW50XG5cdFx0dGhpcy5jdHgyZC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG5cdFx0dGhpcy5jdHgyZC5maWxsUmVjdCggMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCApO1xuXG5cdFx0dGhpcy50ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUoIHRoaXMuY2FudmFzICk7XG5cdFx0dGhpcy50ZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlcjtcblx0XHR0aGlzLnRleHR1cmUubWFnRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xuXHRcdFxuXHR9LFxuXHRcblx0ZXJyb3IgOiBmdW5jdGlvbigpIHtcblx0XHRcblx0fSxcblx0XG5cdHVwZGF0ZSA6IGZ1bmN0aW9uKGUpIHtcblx0XHRcblx0XHRpZiAoIHRoaXMudmlkZW8ucmVhZHlTdGF0ZSA9PT0gdGhpcy52aWRlby5IQVZFX0VOT1VHSF9EQVRBICkge1xuXHRcdFx0XG5cdFx0XHR0aGlzLmN0eDJkLmRyYXdJbWFnZSggdGhpcy52aWRlbywgMCwgMCApO1xuXHRcdFx0XG5cdFx0XHRpZiAoIHRoaXMudGV4dHVyZSApIHRoaXMudGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5tZXNoLnJvdGF0aW9uLnkgKz0gZS5kdCAqIDAuMDAwMDU7XG5cdFx0XG5cdH0sXG5cdFxuXHRkZXN0cm95IDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy4kYS5yZW1vdmUoKTtcblx0XHR0aGlzLnZpZGVvLnBhdXNlKCk7XG5cdFx0ZGVzdHJveU1lc2goIHRoaXMubWVzaCApO1xuXHRcdHRoaXMudGV4dHVyZS5kaXNwb3NlKCk7XG5cdH1cblx0XG59OyIsInZhciBMb2FkSW1hZ2UgPSByZXF1aXJlKCcuLi8uLi91dGlscy9sb2FkSW1hZ2UnKVxuXG52YXIgaW50ZXJuYWxzID0ge1xuXHRcblx0Y3JlYXRlVGV4dHVyZSA6IGZ1bmN0aW9uKCB2aWRlbyApIHtcblx0XHRcblx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2NhbnZhcycgKVxuXHRcdGNhbnZhcy53aWR0aCA9IDEwMjRcblx0XHRjYW52YXMuaGVpZ2h0ID0gMjU2XG5cblx0XHR2YXIgY3R4MmQgPSBjYW52YXMuZ2V0Q29udGV4dCggJzJkJyApXG5cblx0XHR2YXIgdGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlKCBjYW52YXMgKVxuXHRcdHRleHR1cmUubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyXG5cdFx0dGV4dHVyZS5tYWdGaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXJcblx0XHRcblx0XHRyZXR1cm4gWyBjYW52YXMsIGN0eDJkLCB0ZXh0dXJlIF1cblx0fSxcblx0XG5cdGNyZWF0ZVZpZGVvIDogZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0XHRcblx0XHRcdHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd2aWRlbycgKVxuXHRcdFx0dmFyICR2aWRlbyA9ICQodmlkZW8pXG5cblx0XHRcdC8vIHZpZGVvLm11dGVkID0gdHJ1ZVxuXHRcdFx0dmlkZW8uY29udHJvbHMgPSBmYWxzZVxuXHRcdFx0dmlkZW8ubG9vcCA9IGZhbHNlXG5cdFx0XG5cdFx0XHR2aWRlby5zcmMgPSB2aWRlby5jYW5QbGF5VHlwZShcInZpZGVvL21wNFwiKSA/XG5cdFx0XHRcdFwiYXNzZXRzL3ZpZGVvL2dlbmUuc3lzLm1wNFwiIDpcblx0XHRcdFx0XCJhc3NldHMvdmlkZW8vZ2VuZS5zeXMud2VibVwiXG5cdFx0XG5cdFx0XHR2aWRlby5sb2FkKClcblx0XHRcdFxuXHRcdFx0JCh2aWRlbykub24oJ2NhbnBsYXl0aHJvdWdoJywgKCkgPT4geyByZXNvbHZlKCB2aWRlbyApIH0pXG5cdFx0XHQkKHZpZGVvKS5vbignZXJyb3IsIHN0YWxsZWQsIGFib3J0JywgKGUpID0+IHsgcmVqZWN0KCBlLm9yaWdpbmFsRXZlbnQgKSB9KVxuXHRcdH0pXG5cdFx0XG5cdH0sXG5cdFxuXHRjcmVhdGVNZXNoIDogZnVuY3Rpb24oIHBvZW0sIHRleHR1cmUsIGNhbnZhcyApIHtcblx0XHRcblx0XHR2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuXHRcdFx0bmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCApLFxuXHRcdFx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcblx0XHRcdFx0Y29sb3I6IDB4ZmZmZmZmXG5cdFx0XHQgICwgdHJhbnNwYXJlbnQ6IHRydWVcblx0XHRcdCAgLCBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG5cdFx0XHQgIC8vICwgbWFwOiB0ZXh0dXJlXG5cdFx0XHQgICwgYWxwaGFNYXA6IHRleHR1cmVcblx0XHRcdH0pXG5cdFx0KVxuXHRcdHJldHVybiBtZXNoXG5cdH0sXG5cdFxuXHR1cGRhdGVGbiA6IGZ1bmN0aW9uKCBtZXNoLCBjdHgyZCwgdmlkZW8sIHRleHR1cmUgKSB7XG5cdFx0XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHRpZiAoIHZpZGVvLnJlYWR5U3RhdGUgPT09IHZpZGVvLkhBVkVfRU5PVUdIX0RBVEEgJiYgdmlkZW8uZW5kZWQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcblx0XHRcdFx0Y3R4MmQuZHJhd0ltYWdlKCB2aWRlbywgMCwgMCApXG5cdFx0XHRcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRcblx0YWRkIDogKCBjYW1lcmFPYmosIG1lc2gsIHZpZGVvLCB1cGRhdGUgKSA9PiB7XG5cdFx0XG5cdFx0bWVzaC5zY2FsZS5zZXQoMC4wMDUsIDAuMDA1LCAwLjAwNSlcblx0XHRtZXNoLnBvc2l0aW9uLnogPSAtMTBcblx0XHRtZXNoLnBvc2l0aW9uLnkgPSAwLjJcblx0XHRjYW1lcmFPYmouYWRkKCBtZXNoIClcblx0XHRcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29uc29sZS53YXJuKCdUT0RPOiByZW1vdmUgc2V0VGltZW91dCcpXG5cdFx0XHR2aWRlby5jdXJyZW50VGltZSA9IDBcblx0XHRcdHZpZGVvLnBsYXkoKVxuXHRcdFxuXHRcdFx0cG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgdXBkYXRlIClcblx0XHRcdFxuXHRcdH0sIDIwMDApXG5cdH0sXG5cdFxuXHRyZW1vdmUgOiAoIGNhbWVyYU9iaiwgbWVzaCwgdmlkZW8sIHVwZGF0ZSApID0+IHtcblx0XHRcblx0XHRjYW1lcmFPYmoucmVtb3ZlKCBtZXNoIClcblx0XHR2aWRlby5wYXVzZSgwKVxuXHRcdFxuXHRcdFxuXHRcdHBvZW0uZW1pdHRlci5yZW1vdmVMaXN0ZW5lciggJ3VwZGF0ZScsIHVwZGF0ZSApXG5cdH1cblx0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oIHBvZW0gKSB7XG5cdFxuXHR2YXIgYXBpID0ge1xuXHRcdHByb21pc2UgOiBpbnRlcm5hbHMuY3JlYXRlVmlkZW8oKVxuXHR9XG5cdFx0XG5cdGFwaS5wcm9taXNlLnRoZW4oIGZ1bmN0aW9uKCB2aWRlbyApIHtcblx0XHRcblx0XHR2YXIgWyBjYW52YXMsIGN0eDJkLCB0ZXh0dXJlIF0gPSBpbnRlcm5hbHMuY3JlYXRlVGV4dHVyZSggdmlkZW8gKVxuXHRcdHZhciBtZXNoID0gaW50ZXJuYWxzLmNyZWF0ZU1lc2goIHBvZW0sIHRleHR1cmUsIGNhbnZhcyApXG5cdFx0XG5cdFx0dmFyIHVwZGF0ZSA9IGludGVybmFscy51cGRhdGVGbiggbWVzaCwgY3R4MmQsIHZpZGVvLCB0ZXh0dXJlIClcblx0XHRcblx0XHRfLmV4dGVuZCggYXBpLCB7XG5cdFx0XHRtZXNoICAgIDogbWVzaFxuXHRcdCAgLCBjYW52YXMgIDogY2FudmFzXG5cdFx0ICAsIGN0eDJkICAgOiBjdHgyZFxuXHRcdCAgLCB0ZXh0dXJlIDogdGV4dHVyZVxuXHRcdCAgLCB2aWRlbyAgIDogdmlkZW9cblx0XHQgICwgYWRkICAgICA6IF8ucGFydGlhbCggaW50ZXJuYWxzLmFkZCwgICAgcG9lbS5jYW1lcmEub2JqZWN0LCBtZXNoLCB2aWRlbywgdXBkYXRlIClcblx0XHQgICwgcmVtb3ZlICA6IF8ucGFydGlhbCggaW50ZXJuYWxzLnJlbW92ZSwgcG9lbS5jYW1lcmEub2JqZWN0LCBtZXNoLCB2aWRlbywgdXBkYXRlIClcblx0XHR9KVxuXHR9KVxuXHRcblx0cmV0dXJuIGFwaVxufSIsIlxuXG5mdW5jdGlvbiBjcmVhdGVHZW9tZXRyeSggd2lkdGgsIHNlZ21lbnRzICkge1xuXHRcblx0dmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoIHdpZHRoLCB3aWR0aCwgc2VnbWVudHMsIHNlZ21lbnRzICk7XG5cdFxuXHRnZW9tZXRyeS5hcHBseU1hdHJpeChcblx0XHRuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoIE1hdGguUEkgKiAwLjUgKVxuXHQpO1xuXHRcblx0cmV0dXJuIGdlb21ldHJ5O1xuXHRcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZSggbWVzaCwgc2NlbmUgKSB7XG5cdFxuXHR2YXIgaW1nID0gbmV3IEltYWdlKCk7XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUoIGltZyApO1xuXHRpbWcuc3JjID0gJ2Fzc2V0cy9pbWFnZXMvY2xvdWQxMDI0LnBuZyc7XG5cdFxuXHR0ZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG5cdHRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcblx0XG5cdCQoaW1nKS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcdHNjZW5lLmFkZCggbWVzaCApO1xuXHR9KTtcblx0XG5cdHJldHVybiB0ZXh0dXJlO1xuXHRcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2hhZGVyKCkge1xuXHRcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWVzaEdyaWQoIG1hdGVyaWFsLCB3aWR0aCwgZ3JpZExlbmd0aCwgdG90YWxQb2x5Z29uRGVuc2l0eSApIHtcblx0XG5cdHZhciBnZW9tZXRyeSA9IGNyZWF0ZUdlb21ldHJ5KFxuXHRcdHdpZHRoIC8gZ3JpZExlbmd0aCxcblx0XHRNYXRoLmZsb29yKCB0b3RhbFBvbHlnb25EZW5zaXR5IC8gZ3JpZExlbmd0aCApXG5cdCk7XG5cdFxuXHR2YXIgbWVzaEdyaWQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblx0XG5cdHZhciBtZXNoO1xuXHR2YXIgc3RlcCA9IHdpZHRoIC8gZ3JpZExlbmd0aDtcblx0XG5cdGZvciggdmFyIGk9MDsgaSA8IGdyaWRMZW5ndGg7IGkrKyApIHtcblx0XHRmb3IoIHZhciBqPTA7IGogPCBncmlkTGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcblx0XHRcdG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG5cdFx0XHRtZXNoLmZydXN0dW1DdWxsZWQgPSBmYWxzZVxuXHRcdFx0XG5cdFx0XHRtZXNoR3JpZC5hZGQoIG1lc2ggKTtcblx0XHRcdG1lc2gucG9zaXRpb24uc2V0KFxuXHRcdFx0XHRpICogc3RlcCxcblx0XHRcdFx0MCxcblx0XHRcdFx0aiAqIHN0ZXBcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gbWVzaEdyaWQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1vZHVsb01lc2hHcmlkKCBjYW1lcmFQb3NpdGlvbiwgbWVzaGVzLCB3aWR0aCwgc3RhdGUgKSB7XG5cdFxuXHR2YXIgaWwgPSBtZXNoZXMubGVuZ3RoO1xuXHR2YXIgaGFsZldpZHRoID0gd2lkdGggLyAyO1xuXHRcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwb3NpdGlvbjtcblx0XHRcblx0XHRmb3IoIHZhciBpPTA7IGkgPCBpbDsgaSsrICkge1xuXHRcdFx0XG5cdFx0XHRwb3NpdGlvbiA9IG1lc2hlc1tpXS5wb3NpdGlvbjtcblx0XG5cdFx0XHRwb3NpdGlvbi5zZXQoXG5cdFx0XHRcdCggKCBwb3NpdGlvbi54IC0gY2FtZXJhUG9zaXRpb24ueCArIGhhbGZXaWR0aCApICUgd2lkdGggKSArIGNhbWVyYVBvc2l0aW9uLnggLSBoYWxmV2lkdGgsXG5cdFx0XHRcdHBvc2l0aW9uLnksXG5cdFx0XHRcdCggKCBwb3NpdGlvbi56IC0gY2FtZXJhUG9zaXRpb24ueiArIGhhbGZXaWR0aCApICUgd2lkdGggKSArIGNhbWVyYVBvc2l0aW9uLnogLSBoYWxmV2lkdGhcblx0XHRcdCk7XG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdH07XG59XG5cbnZhciBFbmRsZXNzVGVycmFpbiA9IGZ1bmN0aW9uKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXHRcblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHR3aWR0aFx0XHRcdFx0OiA0MDAwLFxuXHRcdGhlaWdodFNjYWxlXHRcdFx0OiAyMDAsXG5cdFx0Z3JpZExlbmd0aFx0XHRcdDogMTYsXG5cdFx0dG90YWxQb2x5Z29uRGVuc2l0eVx0OiAxMDI0LFxuXHRcdHBvc2l0aW9uWVx0XHRcdDogMCxcblx0XHRoZWlnaHRcdFx0XHRcdDogMVxuXHR9LCBwcm9wZXJ0aWVzKTtcblx0XG5cdHZhciBzdGF0ZSA9IHtcblx0XHRoZWlnaHQgOiBjb25maWcuaGVpZ2h0XG5cdH1cblx0XG5cdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XG5cdFx0dmVydGV4U2hhZGVyICAgIDogXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gc2FtcGxlcjJEIHRlcnJhaW47XFxudW5pZm9ybSBmbG9hdCBoZWlnaHRGYWN0b3I7XFxudW5pZm9ybSBmbG9hdCB3aWR0aDtcXG5cXG52YXJ5aW5nIGZsb2F0IGhlaWdodDtcXG52YXJ5aW5nIHZlYzIgdlV2O1xcbnZhcnlpbmcgZmxvYXQgdkNhbWVyYURpc3RhbmNlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXHR2ZWM0IG1vZGVsUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuXFx0XFxuXFx0dlV2ID0gdmVjMiggbW9kZWxQb3NpdGlvbi54LCBtb2RlbFBvc2l0aW9uLnogKSAvIHdpZHRoO1xcblxcblxcdGhlaWdodCA9IHRleHR1cmUyRCggdGVycmFpbiwgdlV2ICogMC4zICkudztcXG5cXHRcXG5cXHR2Q2FtZXJhRGlzdGFuY2UgPSBkaXN0YW5jZSggbW9kZWxQb3NpdGlvbi54eXosIGNhbWVyYVBvc2l0aW9uICk7XFxuXFx0XFxuXFx0XFxuXFx0dmVjNCBtb2RpZmllZFBvc2l0aW9uID0gdmVjNChcXG5cXHRcXHRwb3NpdGlvbi54LFxcblxcdFxcdHBvc2l0aW9uLnkgKyBoZWlnaHQgKiB3aWR0aCAvIDIwLjAgKiBoZWlnaHRGYWN0b3IsXFxuXFx0XFx0cG9zaXRpb24ueixcXG5cXHRcXHQxLjBcXG5cXHQpO1xcblxcdFxcblxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIG1vZGlmaWVkUG9zaXRpb247XFxuXFx0XFxufVwiLFxuXHRcdGZyYWdtZW50U2hhZGVyICA6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG52ZWMzIGhzdjJyZ2JfMV8wKHZlYzMgYykge1xcbiAgdmVjNCBLID0gdmVjNCgxLjAsIDIuMCAvIDMuMCwgMS4wIC8gMy4wLCAzLjApO1xcbiAgdmVjMyBwID0gYWJzKGZyYWN0KGMueHh4ICsgSy54eXopICogNi4wIC0gSy53d3cpO1xcbiAgcmV0dXJuIGMueiAqIG1peChLLnh4eCwgY2xhbXAocCAtIEsueHh4LCAwLjAsIDEuMCksIGMueSk7XFxufVxcblxcblxcblxcbnVuaWZvcm0gZmxvYXQgd2lkdGg7XFxudW5pZm9ybSBmbG9hdCBoZWlnaHRGYWN0b3I7XFxuXFxudmFyeWluZyBmbG9hdCBoZWlnaHQ7XFxudmFyeWluZyB2ZWMyIHZVdjtcXG52YXJ5aW5nIGZsb2F0IHZDYW1lcmFEaXN0YW5jZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0XFxuXFx0ZmxvYXQgaHVlWCA9IGFicygwLjUgLSBmcmFjdCh2VXYueCAqIDAuOCkpICogMi4wO1xcblxcdGZsb2F0IGh1ZVkgPSBhYnMoMC41IC0gZnJhY3QodlV2LnkgKiAwLjYzKSkgKiAyLjA7XFxuXFx0XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoXFxuXFx0XFx0aHN2MnJnYl8xXzAoXFxuXFx0XFx0XFx0dmVjMyhcXG5cXHRcXHRcXHRcXHQvLyBtb2QoeEh1ZSwgMS4wKSxcXG5cXHRcXHRcXHRcXHQoaHVlWCArIGh1ZVkpICogMC4yICsgMC4zLFxcblxcdFxcdFxcdFxcdG1peChoZWlnaHRGYWN0b3IsIG1peChoZWlnaHQsIDAuNSwgMC44KSwgMC44KSxcXG5cXHRcXHRcXHRcXHRtaXgoaGVpZ2h0RmFjdG9yLCBtaXgoaGVpZ2h0LCAxLjIsIDAuMzUpLCAwLjM1KVxcblxcdFxcdFxcdClcXG5cXHRcXHQpLFxcblxcdFxcdDEuMFxcblxcdCk7XFxuXFx0XFxuXFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggMC4wLCAxLjAsIHZDYW1lcmFEaXN0YW5jZSAvIHdpZHRoICk7XFxuXFx0dmVjMyBmb2dDb2xvciA9IHZlYzMoIDAuMTQsIDAuMTQsIDAuMTQgKTtcXG5cXG5cXHRnbF9GcmFnQ29sb3IgPSBtaXgoIGdsX0ZyYWdDb2xvciwgdmVjNCggZm9nQ29sb3IsIGdsX0ZyYWdDb2xvci53ICksIGZvZ0ZhY3RvciApO1xcblxcdFxcbn1cIixcblx0XHRzaWRlICAgICAgICAgICAgOiBUSFJFRS5Eb3VibGVTaWRlLFxuXHRcdFxuXHRcdHVuaWZvcm1zICAgICAgICA6IHtcblx0XHRcdHRlcnJhaW4gICAgICAgICA6IHsgdHlwZTogJ3QnIH0sXG5cdFx0XHRoZWlnaHRGYWN0b3IgICAgOiB7IHR5cGU6ICdmJyB9LFxuXHRcdFx0d2lkdGggICAgICAgICAgIDogeyB0eXBlOiAnZicgfSxcblx0XHR9LFxuXHRcdGF0dHJpYnV0ZXMgICAgICA6IHt9XG5cblx0fSlcblx0XG5cdG1hdGVyaWFsLnNpZGUgPSBUSFJFRS5Eb3VibGVTaWRlO1xuXHRcblx0dmFyIG1lc2hHcmlkID0gY3JlYXRlTWVzaEdyaWQoXG5cdFx0bWF0ZXJpYWwsXG5cdFx0Y29uZmlnLndpZHRoLFxuXHRcdGNvbmZpZy5ncmlkTGVuZ3RoLFxuXHRcdGNvbmZpZy50b3RhbFBvbHlnb25EZW5zaXR5XG5cdCk7XG5cdFxuXHRtZXNoR3JpZC5wb3NpdGlvbi55ID0gY29uZmlnLnBvc2l0aW9uWTtcblx0XG5cdG1hdGVyaWFsLnVuaWZvcm1zLnRlcnJhaW4udmFsdWUgPSBjcmVhdGVUZXh0dXJlKCBtZXNoR3JpZCwgcG9lbS5zY2VuZSApO1xuXHRtYXRlcmlhbC51bmlmb3Jtcy53aWR0aC52YWx1ZSA9IGNvbmZpZy53aWR0aCAvIDI7XG5cdG1hdGVyaWFsLnVuaWZvcm1zLmhlaWdodCA9IHN0YXRlLmhlaWdodFxuXHRcblx0cG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgZnVuY3Rpb24oKSB7XG5cdFx0bWF0ZXJpYWwudW5pZm9ybXMuaGVpZ2h0RmFjdG9yLnZhbHVlID0gc3RhdGUuaGVpZ2h0XG5cdH0pXG5cdFxuXHRwb2VtLmVtaXR0ZXIub24oICd1cGRhdGUnLCB1cGRhdGVNb2R1bG9NZXNoR3JpZChcblx0XHRwb2VtLmNhbWVyYS5vYmplY3QucG9zaXRpb24sXG5cdFx0bWVzaEdyaWQuY2hpbGRyZW4sXG5cdFx0Y29uZmlnLndpZHRoLFxuXHRcdHN0YXRlXG5cdCkpO1xuXHRcblx0cmV0dXJuIHN0YXRlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVuZGxlc3NUZXJyYWluOyIsInZhciBDdWJpY0JlemllciA9IHJlcXVpcmUoJ2N1YmljLWJlemllcicpXG52YXIgUXVpY2tJbiA9IEN1YmljQmV6aWVyKC4xMiwuNTEsLjgsLjg1LCAgIDMyKVxudmFyIFBpID0gTWF0aC5QSVxudmFyIEhhbGZQaSA9IE1hdGguUEkgLyAyXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRsb29wIDogdHJ1ZSxcblx0c3BlZWQgOiAxLFxuXHRrZXlmcmFtZXMgOiBbXG5cdFx0e1xuXHRcdFx0ZHVyYXRpb246IDE1LFxuXHRcdFx0ZWFzaW5nOiAgIFF1aWNrSW4sXG5cdFx0XHRhY3Rpb25zOiAgW1xuXHRcdFx0XHRbIFwiY2FtZXJhLm9iamVjdC5wb3NpdGlvbi54XCIsICAgICBbICAgIDAsICAgICAwIF0gXSxcblx0XHRcdFx0WyBcImNhbWVyYS5vYmplY3QucG9zaXRpb24ueVwiLCAgICAgWyAtMjUwLCAgICAgMCBdIF0sXG5cdFx0XHRcdFsgXCJjYW1lcmEub2JqZWN0LnBvc2l0aW9uLnpcIiwgICAgIFsgICAgMCwgLTUwMDAgXSBdLFxuXHRcdFx0XHRbIFwiY2FtZXJhLnNldEFuZFVwZGF0ZUZvdlwiLCAgICAgICBbICAgNSwgICAgMzAgXSBdLFxuXHRcdFx0XHRbIFwiZW5kbGVzc1RlcnJhaW4uaGVpZ2h0XCIsICAgICAgICBbICAgIDAsICAgICAxIF0gXSxcblx0XHRcdFx0WyBcInJlc3RyaWN0ZWRDYW1lcmEucm90YXRpb24ueFwiLCAgWyAtMC4zLCAgICAgMCBdIF0sXG5cdFx0XHRcdFsgXCJyZXN0cmljdGVkQ2FtZXJhLnJvdGF0aW9uLnlcIiwgIFsgLTAuMywgICAwLjEgXSBdLFxuXG5cdFx0XHRcdFsgXCJyZXN0cmljdGVkQ2FtZXJhLnJvdGF0ZUFsbFwiLCAgIHsgeDotMC4zLCB5Oi0wLjMsIHo6MCB9XSxcblx0XHRcdFx0XG5cdFx0XHRcdFsgXCJjcmVkaXRzLm1lc2gucG9zaXRpb24uelwiLCAgICAgWyAgICAtMzAsIC0xMCBdIF0sXG5cdFx0XHRcdFsgXCJjcmVkaXRzLmFkZFwiLCB7fSBdXG5cblx0XHRcdF1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGR1cmF0aW9uOiAxMCxcblx0XHRcdGVhc2luZzogICBcImxpbmVhclwiLFxuXHRcdFx0aXNvbGF0ZTogZmFsc2UsXG5cdFx0XHRzdGFydEhlcmU6IGZhbHNlLFxuXHRcdFx0YWN0aW9uczogIFtcblx0XHRcdFx0WyBcImNyZWRpdHMucmVtb3ZlXCIsIHt9IF0sXG5cdFx0XHRcdFxuXHRcdFx0XHRbIFwiY2FtZXJhLm9iamVjdC5wb3NpdGlvbi54XCIsIFsgICAgIDAsICAgICAwIF0gXSxcblx0XHRcdFx0WyBcImNhbWVyYS5vYmplY3QucG9zaXRpb24ueVwiLCBbICAgICAwLCAgICAgMCBdIF0sXG5cdFx0XHRcdFsgXCJjYW1lcmEub2JqZWN0LnBvc2l0aW9uLnpcIiwgWyAtNTAwMCwgLTU3MDAgXSBdLFxuXHRcdFx0XHRbIFwiY2FtZXJhLnNldEFuZFVwZGF0ZUZvdlwiLCAgICAgICBbICAgNzAsICAgIDQwIF0gXSxcblx0XHRcdFxuXHRcdFx0XHRbIFwicmVzdHJpY3RlZENhbWVyYS5yb3RhdGVBbGxcIiwgICB7IHg6LTAuMSwgeTpIYWxmUGksIHo6IDAgfV1cblx0XHRcdF1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGR1cmF0aW9uOiAxMyxcblx0XHRcdGVhc2luZzogICBcImxpbmVhclwiLFxuXHRcdFx0aXNvbGF0ZTogZmFsc2UsXG5cdFx0XHRhY3Rpb25zOiAgW1xuXHRcdFx0XHRbIFwiY2FtZXJhLm9iamVjdC5wb3NpdGlvbi54XCIsIDYwMCBdLFxuXHRcdFx0XHRbIFwiY2FtZXJhLm9iamVjdC5wb3NpdGlvbi55XCIsIFsgICAgIDAsICAgICAwIF0gXSxcblx0XHRcdFx0WyBcImNhbWVyYS5vYmplY3QucG9zaXRpb24uelwiLCBbIC01NzAwLCAtNjAwMCBdIF0sXG5cdFx0XHRcdFsgXCJjYW1lcmEuc2V0QW5kVXBkYXRlRm92XCIsICAgWyAgIDEwMCwgICAgNTAgXSBdLFxuXHRcdFx0XG5cdFx0XHRcdFsgXCJyZXN0cmljdGVkQ2FtZXJhLnJvdGF0ZUFsbFwiLCAgIHsgeDotUGkqMC41LCB5OjAsIHo6IDAgfV0sXG5cblx0XHRcdFx0WyBcInJlc3RyaWN0ZWRDYW1lcmEucm90YXRpb24ueFwiLCAgICBbICAtUGkqMC41LCAwIF0gXVxuXHRcdFx0XG5cdFx0XHRdXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRkdXJhdGlvbjogMTAsXG5cdFx0XHRlYXNpbmc6ICAgXCJsaW5lYXJcIixcblx0XHRcdGlzb2xhdGU6IGZhbHNlLFxuXHRcdFx0YWN0aW9uczogIFtcblx0XHRcdFx0WyBcImNhbWVyYS5vYmplY3QucG9zaXRpb24ueFwiLCA2MDAgXSxcblx0XHRcdFx0WyBcImNhbWVyYS5vYmplY3QucG9zaXRpb24ueVwiLCBbICAgICAwLCAgICAgMCBdIF0sXG5cdFx0XHRcdFsgXCJjYW1lcmEub2JqZWN0LnBvc2l0aW9uLnpcIiwgWyAtNTcwMCwgLTY0MDAgXSBdLFxuXHRcdFx0XG5cdFx0XHRcdFsgXCJyZXN0cmljdGVkQ2FtZXJhLnJvdGF0ZUFsbFwiLCAgIHsgeDowLCB5OlBpLCB6OiAwIH1dLFxuXG5cdFx0XHRcdC8vIFsgXCJyZXN0cmljdGVkQ2FtZXJhLnJvdGF0aW9uLnhcIiwgICAgWyAgLTAuMiwgMC4yIF0gXVxuXHRcdFx0XG5cdFx0XHRdXG5cdFx0fVxuXHRdXG59IiwidmFyIHJhbmRvbSA9IHJlcXVpcmUoJy4uL3V0aWxzL3JhbmRvbScpO1xuXG52YXIgR3JpZCA9IGZ1bmN0aW9uKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXHRcblx0dGhpcy5wb2VtID0gcG9lbTtcblxuXHR2YXIgbGluZU1hdGVyaWFsID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiAweDMwMzAzMCB9ICksXG5cdFx0Z2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKSxcblx0XHRmbG9vciA9IC03NSwgc3RlcCA9IDI1O1xuXG5cdGZvciAoIHZhciBpID0gMDsgaSA8PSA0MDsgaSArKyApIHtcblxuXHRcdGdlb21ldHJ5LnZlcnRpY2VzLnB1c2goIG5ldyBUSFJFRS5WZWN0b3IzKCAtIDUwMCwgZmxvb3IsIGkgKiBzdGVwIC0gNTAwICkgKTtcblx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKCBuZXcgVEhSRUUuVmVjdG9yMyggICA1MDAsIGZsb29yLCBpICogc3RlcCAtIDUwMCApICk7XG5cblx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKCBuZXcgVEhSRUUuVmVjdG9yMyggaSAqIHN0ZXAgLSA1MDAsIGZsb29yLCAtNTAwICkgKTtcblx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKCBuZXcgVEhSRUUuVmVjdG9yMyggaSAqIHN0ZXAgLSA1MDAsIGZsb29yLCAgNTAwICkgKTtcblxuXHR9XG5cblx0dGhpcy5ncmlkID0gbmV3IFRIUkVFLkxpbmUoIGdlb21ldHJ5LCBsaW5lTWF0ZXJpYWwsIFRIUkVFLkxpbmVQaWVjZXMgKTtcblx0dGhpcy5wb2VtLnNjZW5lLmFkZCggdGhpcy5ncmlkICk7XG5cdFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBHcmlkOyIsInZhciBjYWxjdWxhdGVTcXVhcmVkVGV4dHVyZVdpZHRoID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvY2FsY3VsYXRlU3F1YXJlZFRleHR1cmVXaWR0aCcpXG4gICwgbG9hZFRleHR1cmVcdD0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvbG9hZFRleHR1cmUnKVxuICAsIGxvYWRUZXh0XHQ9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2xvYWRUZXh0JylcblxudmFyIE1lc2hHcm91cCA9IGZ1bmN0aW9uKCBwb2VtICkge1xuXHRcblx0VEhSRUUuT2JqZWN0M0QuY2FsbCggdGhpcyApO1xuXHRcblx0dGhpcy5wb2VtID0gcG9lbTtcblx0dGhpcy50eXBlID0gJ01lc2hHcm91cCc7XG5cdHRoaXMuYnVmZmVyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblx0XG5cdHRoaXMubWF0cmljZXNUZXh0dXJlV2lkdGggPSBudWxsO1xuXHR0aGlzLm1hdHJpY2VzRGF0YSA9IG51bGw7XG5cdHRoaXMubWF0cml4SW5kaWNlcyA9IG51bGw7XG5cdFxuXHR0aGlzLnRleHR1cmUgPSBudWxsO1xuXHR0aGlzLnZlcnRleFNoYWRlciA9IG51bGw7XG5cdHRoaXMuZnJhZ21lbnRTaGFkZXIgPSBudWxsO1xuXHRcblx0dGhpcy5sb2FkZWQgPSBQcm9taXNlLmFsbChbXG5cdFx0bG9hZFRleHR1cmUoIFwiYXNzZXRzL2ltYWdlcy9zaW5lZ3Jhdml0eWNsb3VkLnBuZ1wiLCB0aGlzLCBcInRleHR1cmVcIiApLFxuXHRcdGxvYWRUZXh0KCBcImpzL2RlbW9zL01lc2hHcm91cEJveERlbW8vc2hhZGVyLnZlcnRcIiwgdGhpcywgXCJ2ZXJ0ZXhTaGFkZXJcIiApLFxuXHRcdGxvYWRUZXh0KCBcImpzL2RlbW9zL01lc2hHcm91cEJveERlbW8vc2hhZGVyLmZyYWdcIiwgdGhpcywgXCJmcmFnbWVudFNoYWRlclwiIClcblx0XSlcblx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgYXNzZXRzIGZvciB0aGUgTWVzaEdyb3VwXCIsIGVycm9yKTtcblx0fSk7XG5cdFx0XG59O1xuXG5NZXNoR3JvdXAucHJvdG90eXBlID0gXy5leHRlbmQoIE9iamVjdC5jcmVhdGUoIFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSApLCB7XG5cblx0YnVpbGQgOiBmdW5jdGlvbiggc2NlbmUgKSB7XG5cdFx0XG5cdFx0dGhpcy5sb2FkZWQudGhlbiggZnVuY3Rpb24oKSB7XG5cdFx0XHRcblx0XHRcdHRoaXMuYnVpbGRHZW9tZXRyeSgpO1xuXHRcdFx0dGhpcy5idWlsZE1hdHJpY2VzKCk7XG5cdFx0XHR0aGlzLmJ1aWxkTWF0ZXJpYWwoKTtcblx0XHRcdFxuXHRcdFx0dGhpcy5vYmplY3QgPSBuZXcgVEhSRUUuUG9pbnRDbG91ZCggdGhpcy5idWZmZXJHZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCApO1xuXHRcdFx0XG5cdFx0XHRzY2VuZS5hZGQoIHRoaXMub2JqZWN0ICk7XG5cdFx0XHRcblx0XHRcdHRoaXMucG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgdGhpcy51cGRhdGUuYmluZCh0aGlzKSApO1xuXHRcdFx0XG5cdFx0XHRcblx0XHR9LmJpbmQodGhpcykgKTtcblx0XHRcblx0fSxcblx0XG5cdGJ1aWxkR2VvbWV0cnkgOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHR2YXIgbWVyZ2VkR2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblx0XHRcblx0XHR2YXIgY2hpbGRHZW9tZXRyeTtcblx0XHR2YXIgbWF0cml4SW5kaWNlcyA9IFtdO1xuXHRcdHZhciBpLCBpbCwgaiwgamw7XG5cdFx0XG5cdFx0Zm9yKCBpID0gMCwgaWwgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGlsOyBpKysgKSB7XG5cdFx0XHRcblx0XHRcdGNoaWxkR2VvbWV0cnkgPSB0aGlzLmNoaWxkcmVuW2ldLmdlb21ldHJ5O1xuXHRcdFx0XG5cdFx0XHRpZiggY2hpbGRHZW9tZXRyeSApIHtcblx0XHRcdFx0XG5cdFx0XHRcdG1lcmdlZEdlb21ldHJ5Lm1lcmdlKCBjaGlsZEdlb21ldHJ5ICk7XG5cdFx0XHRcdFxuXHRcdFx0XHRqID0gbWVyZ2VkR2VvbWV0cnkudmVydGljZXMubGVuZ3RoIC0gY2hpbGRHZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGg7XG5cdFx0XHRcdGpsID0gbWVyZ2VkR2VvbWV0cnkudmVydGljZXMubGVuZ3RoO1xuXHRcdFx0XHRcblx0XHRcdFx0Zm9yKCA7IGogPCBqbDsgaisrICkge1xuXHRcdFx0XHRcdG1hdHJpeEluZGljZXNbal0gPSBpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuYnVmZmVyR2VvbWV0cnkuZnJvbUdlb21ldHJ5KCBtZXJnZWRHZW9tZXRyeSApO1xuXHRcdFxuXHR9LFxuXHRcblx0Z2VuZXJhdGVUcmFuc2Zvcm1NYXRyaXhJbmRpY2VzIDogZnVuY3Rpb24oIG9iamVjdDNEcyApIHtcblx0XHRcblx0XHR2YXIgbWF0cml4SW5kaWNlcyA9IFtdO1xuXHRcdHZhciB0b3RhbExlbmd0aCA9IDA7XG5cdFx0dmFyIHBvc2l0aW9uc0luRmFjZXM7XG5cdFx0dmFyIGNoaWxkR2VvbWV0cnk7XG5cdFx0XG5cdFx0dmFyIGksIGlsLCBqLCBqbDtcblx0XHRcblx0XHRmb3IoIGkgPSAwLCBpbCA9IG9iamVjdDNEcy5sZW5ndGg7IGkgPCBpbDsgaSsrICkge1xuXHRcdFx0XG5cdFx0XHRjaGlsZEdlb21ldHJ5ID0gb2JqZWN0M0RzW2ldLmdlb21ldHJ5O1xuXHRcdFx0XG5cdFx0XHRpZiggY2hpbGRHZW9tZXRyeSApIHtcblx0XHRcdFx0XG5cdFx0XHRcdHBvc2l0aW9uc0luRmFjZXMgPSBjaGlsZEdlb21ldHJ5LmZhY2VzLmxlbmd0aCAqIDM7IC8vMyB2ZXJ0aWNlcyBwZXIgZmFjZVxuXHRcdFx0XHR0b3RhbExlbmd0aCArPSBwb3NpdGlvbnNJbkZhY2VzO1xuXHRcdFx0XHRcblx0XHRcdFx0aiA9IHRvdGFsTGVuZ3RoIC0gcG9zaXRpb25zSW5GYWNlcztcblx0XHRcdFx0amwgPSB0b3RhbExlbmd0aDtcblx0XHRcdFx0XG5cdFx0XHRcdGZvciggOyBqIDwgamw7IGorKyApIHtcblx0XHRcdFx0XHRtYXRyaXhJbmRpY2VzW2pdID0gaTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSggbWF0cml4SW5kaWNlcyApO1xuXHR9LFxuXHRcblx0YnVpbGRNYXRyaWNlcyA6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdC8vQ2FsY3VsYXRlcyB0aGUgbl4yIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG5cdFx0dGhpcy5tYXRyaWNlc1RleHR1cmVXaWR0aCA9IGNhbGN1bGF0ZVNxdWFyZWRUZXh0dXJlV2lkdGgoIHRoaXMuY2hpbGRyZW4ubGVuZ3RoICogMTYgKTsgLy8xNiBmbG9hdHMgcGVyIG1hdHJpeFxuXHRcdFxuXHRcdC8vVGhlIHRleHR1cmUgaGFzIDQgZmxvYXRzIHBlciBwaXhlbFxuXHRcdHRoaXMubWF0cmljZXNEYXRhID0gbmV3IEZsb2F0MzJBcnJheSggdGhpcy5tYXRyaWNlc1RleHR1cmVXaWR0aCAqIHRoaXMubWF0cmljZXNUZXh0dXJlV2lkdGggKiA0ICk7XG5cdFx0XG5cdFx0dGhpcy5tYXRyaWNlc1RleHR1cmUgPSBuZXcgVEhSRUUuRGF0YVRleHR1cmUoXG5cdFx0XHR0aGlzLm1hdHJpY2VzRGF0YSxcblx0XHRcdHRoaXMubWF0cmljZXNUZXh0dXJlV2lkdGgsXG5cdFx0XHR0aGlzLm1hdHJpY2VzVGV4dHVyZVdpZHRoLFxuXHRcdFx0VEhSRUUuUkdCQUZvcm1hdCxcblx0XHRcdFRIUkVFLkZsb2F0VHlwZVxuXHRcdCk7XG5cdFx0dGhpcy5tYXRyaWNlc1RleHR1cmUubWluRmlsdGVyID0gVEhSRUUuTmVhcmVzdEZpbHRlcjtcblx0XHR0aGlzLm1hdHJpY2VzVGV4dHVyZS5tYWdGaWx0ZXIgPSBUSFJFRS5OZWFyZXN0RmlsdGVyO1xuXHRcdHRoaXMubWF0cmljZXNUZXh0dXJlLmdlbmVyYXRlTWlwbWFwcyA9IGZhbHNlO1xuXHRcdHRoaXMubWF0cmljZXNUZXh0dXJlLmZsaXBZID0gZmFsc2U7XG5cdFx0dGhpcy5tYXRyaWNlc1RleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcdFxuXHR9LFxuXHRcblx0YnVpbGRNYXRlcmlhbCA6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHRoaXMuYXR0cmlidXRlcyA9IHtcblx0XHRcdFxuXHRcdFx0dHJhbnNmb3JtTWF0cml4SW5kZXg6XHR7IHR5cGU6ICdmJywgdmFsdWU6IG51bGwgfVxuXHRcdFx0XG5cdFx0fTtcblx0XHRcblx0XHR0aGlzLm1hdHJpeEluZGljZXMgPSB0aGlzLmdlbmVyYXRlVHJhbnNmb3JtTWF0cml4SW5kaWNlcyggdGhpcy5jaGlsZHJlbiApO1xuXHRcdFxuXHRcdHRoaXMuYnVmZmVyR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAndHJhbnNmb3JtTWF0cml4SW5kZXgnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCB0aGlzLm1hdHJpeEluZGljZXMsIDEgKSApO1xuXG5cdFx0dGhpcy51bmlmb3JtcyA9IHtcblx0XHRcdFxuXHRcdFx0Y29sb3I6ICAgICBcdFx0XHRcdHsgdHlwZTogXCJjXCIsIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoIDB4ZmYwMDAwICkgfSxcblx0XHRcdG1hdHJpY2VzVGV4dHVyZTpcdFx0eyB0eXBlOiBcInRcIiwgdmFsdWU6IHRoaXMubWF0cmljZXNUZXh0dXJlIH0sXG5cdFx0XHR0aW1lOiAgICAgIFx0XHRcdFx0eyB0eXBlOiAnZicsIHZhbHVlOiBEYXRlLm5vdygpIH0sXG5cdFx0XHR0ZXh0dXJlOiAgIFx0XHRcdFx0eyB0eXBlOiBcInRcIiwgdmFsdWU6IHRoaXMudGV4dHVyZSB9LFxuXHRcdFx0bWF0cmljZXNUZXh0dXJlV2lkdGg6XHR7IHR5cGU6ICdmJywgdmFsdWU6IHRoaXMubWF0cmljZXNUZXh0dXJlV2lkdGggfVxuXHRcdFx0XG5cdFx0fTtcblxuXHRcdHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoIHtcblx0XHRcdFxuXHRcdFx0dW5pZm9ybXM6ICAgICAgIHRoaXMudW5pZm9ybXMsXG5cdFx0XHRhdHRyaWJ1dGVzOiAgICAgdGhpcy5hdHRyaWJ1dGVzLFxuXHRcdFx0dmVydGV4U2hhZGVyOiAgIHRoaXMudmVydGV4U2hhZGVyLFxuXHRcdFx0ZnJhZ21lbnRTaGFkZXI6IHRoaXMuZnJhZ21lbnRTaGFkZXIsXG5cdFx0XHRcblx0XHRcdGJsZW5kaW5nOiAgICAgICBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxuXHRcdFx0ZGVwdGhUZXN0OiAgICAgIGZhbHNlLFxuXHRcdFx0dHJhbnNwYXJlbnQ6ICAgIHRydWVcblx0XHRcdFxuXHRcdH0pO1xuXHRcdFx0XHRcblx0fSxcblx0XG5cdHVwZGF0ZSA6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdGZvciggdmFyIGkgPSAwLCBpbCA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWwgOyBpKysgKSB7XG5cblx0XHRcdHRoaXMuY2hpbGRyZW5baV0ubWF0cml4LmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCB0aGlzLm1hdHJpY2VzRGF0YSwgaSAqIDE2ICk7XG5cdFx0XHR0aGlzLm1hdHJpY2VzVGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTWVzaEdyb3VwOyIsInZhciBNZXNoR3JvdXAgPSByZXF1aXJlKCcuL01lc2hHcm91cCcpXG4gICwgcmFuZG9tID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcmFuZG9tJylcbiAgLCB0d29QaSA9IE1hdGguUEkgKiAyO1xuXG52YXIgTWVzaEdyb3VwQm94RGVtbyA9IGZ1bmN0aW9uKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXHRcblx0dGhpcy5wb2VtID0gcG9lbTtcblx0XG5cdHRoaXMuY291bnQgPSAxMDAwMDtcblx0XG5cdHRoaXMucG9lbS5lbWl0dGVyLm9uKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpICk7XG5cdFxuXHR0aGlzLmdyb3VwID0gbmV3IE1lc2hHcm91cCggcG9lbSApO1xuXHRcblx0dGhpcy5ib3hlcyA9IHRoaXMuZ2VuZXJhdGVCb3hlcyggdGhpcy5ncm91cCApO1xuXG5cdHRoaXMuZ3JvdXAuYnVpbGQoIHBvZW0uc2NlbmUgKTtcblx0XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lc2hHcm91cEJveERlbW87XG5cbk1lc2hHcm91cEJveERlbW8ucHJvdG90eXBlID0ge1xuXG5cdGdlbmVyYXRlQm94ZXMgOiBmdW5jdGlvbiggZ3JvdXAgKSB7XG5cdFx0XG5cdFx0dmFyIGJveGVzID0gW107XG5cdFx0XG5cdFx0dmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KCAxLCAxLCAxICk7XG5cdFx0dmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiAweDAwZmYwMCB9ICk7XG5cdFx0dmFyIGJveDtcblx0XHRcblx0XHR2YXIgaSA9IHRoaXMuY291bnQ7IHdoaWxlIChpLS0pIHtcblx0XHRcdFxuXHRcdFx0Ym94ID0gbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSggMSwgMSwgMSApICk7XG5cdFx0XHRcblx0XHRcdGJveC5wb3NpdGlvbi54ID0gcmFuZG9tLnJhbmdlKCAtMTAwLCAxMDAgKTtcblx0XHRcdGJveC5wb3NpdGlvbi55ID0gcmFuZG9tLnJhbmdlKCAtMTAwLCAxMDAgKTtcblx0XHRcdGJveC5wb3NpdGlvbi56ID0gcmFuZG9tLnJhbmdlKCAtMTAwLCAxMDAgKTtcblx0XHRcdFxuXHRcdFx0Ym94LnJvdGF0aW9uLnggPSByYW5kb20ucmFuZ2UoIC10d29QaSwgdHdvUGkgKTtcblx0XHRcdGJveC5yb3RhdGlvbi55ID0gcmFuZG9tLnJhbmdlKCAtdHdvUGksIHR3b1BpICk7XG5cdFx0XHRib3gucm90YXRpb24ueiA9IHJhbmRvbS5yYW5nZSggLXR3b1BpLCB0d29QaSApO1xuXHRcdFx0XG5cdFx0XHRib3gudmVsb2NpdHkgPSBuZXcgVEhSRUUuVmVjdG9yMyhcblx0XHRcdFx0XG5cdFx0XHRcdHJhbmRvbS5yYW5nZSggLTEsIDEgKSxcblx0XHRcdFx0cmFuZG9tLnJhbmdlKCAtMSwgMSApLFxuXHRcdFx0XHRyYW5kb20ucmFuZ2UoIC0xLCAxIClcblx0XHRcdFx0XG5cdFx0XHQpLm11bHRpcGx5U2NhbGFyKDAuMSk7XG5cdFx0XHRcblx0XHRcdGJveC5zcGluID0gbmV3IFRIUkVFLlZlY3RvcjMoXG5cdFx0XHRcdFxuXHRcdFx0XHRyYW5kb20ucmFuZ2UoIC10d29QaSwgdHdvUGkgKSxcblx0XHRcdFx0cmFuZG9tLnJhbmdlKCAtdHdvUGksIHR3b1BpICksXG5cdFx0XHRcdHJhbmRvbS5yYW5nZSggLXR3b1BpLCB0d29QaSApXG5cdFx0XHRcdFxuXHRcdFx0KS5tdWx0aXBseVNjYWxhcigwLjAxKTtcblx0XHRcdFxuXHRcdFx0Ym94LnNjYWxlLm11bHRpcGx5U2NhbGFyKCByYW5kb20ucmFuZ2UoIDEsIDIpICk7XG5cdFx0XHRcblx0XHRcdGJveC51cGRhdGVNYXRyaXgoKTtcblx0XHRcdFxuXHRcdFx0Ym94ZXMucHVzaCggYm94ICk7XG5cdFx0XHRcblx0XHRcdGdyb3VwLmFkZCggYm94ICk7XG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIGJveGVzO1xuXHRcdFxuXHR9LFxuXHRcblx0dXBkYXRlIDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XG5cdFx0dmFyIGJveDtcblx0XHRcblx0XHRmb3IoIHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKyApIHtcblx0XHRcdFxuXHRcdFx0Ym94ID0gdGhpcy5ib3hlc1tpXTtcblx0XHRcdFxuXHRcdFx0Ym94LnBvc2l0aW9uLmFkZCggYm94LnZlbG9jaXR5ICk7XG5cdFx0XHRcblx0XHRcdGJveC5yb3RhdGlvbi54ICs9IGJveC5zcGluLng7XG5cdFx0XHRib3gucm90YXRpb24ueSArPSBib3guc3Bpbi55O1xuXHRcdFx0Ym94LnJvdGF0aW9uLnogKz0gYm94LnNwaW4uejtcblx0XHRcdFxuXHRcdFx0Ym94LnVwZGF0ZU1hdHJpeCgpO1xuXHRcdFx0XG5cdFx0fVxuXHRcdFxuXHR9XG5cdFxufTsiLCJ2YXIgcmFuZG9tXHRcdD0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcmFuZG9tJylcbiAgLCBsb2FkVGV4dHVyZVx0PSByZXF1aXJlKCcuLi8uLi91dGlscy9sb2FkVGV4dHVyZScpXG4gICwgbG9hZFRleHRcdD0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvbG9hZFRleHQnKVxuO1xuXG52YXIgU2luZUdyYXZpdHlDbG91ZCA9IGZ1bmN0aW9uKHBvZW0sIHByb3BlcnRpZXMpIHtcblx0XG5cdHRoaXMucG9lbSA9IHBvZW07XG5cdFxuXHR0aGlzLm9iamVjdCA9IG51bGw7XG5cdHRoaXMubWF0ZXJpYWwgPSBudWxsO1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuXHR0aGlzLnVuaWZvcm1zID0gbnVsbDtcblxuXHR0aGlzLnRleHR1cmUgPSBudWxsO1xuXHR0aGlzLnZlcnRleFNoYWRlciA9IG51bGw7XG5cdHRoaXMuZnJhZ21lbnRTaGFkZXIgPSBudWxsO1xuXHRcblx0dGhpcy5jb3VudCA9IDIwMDAwMDtcblx0dGhpcy5yYWRpdXMgPSAyMDA7XG5cdHRoaXMucG9pbnRTaXplID0gNztcblx0XHRcblx0Xy5leHRlbmQoIHRoaXMsIHByb3BlcnRpZXMgKTtcblx0XG5cdFxuXHRQcm9taXNlLmFsbChbXG5cdFx0bG9hZFRleHR1cmUoIFwiYXNzZXRzL2ltYWdlcy9zaW5lZ3Jhdml0eWNsb3VkLnBuZ1wiLCB0aGlzLCBcInRleHR1cmVcIiApLFxuXHRcdGxvYWRUZXh0KCBcImpzL2RlbW9zL3NpbmUtZ3Jhdml0eS1jbG91ZC9zaW5lLnZlcnRcIiwgdGhpcywgXCJ2ZXJ0ZXhTaGFkZXJcIiApLFxuXHRcdGxvYWRUZXh0KCBcImpzL2RlbW9zL3NpbmUtZ3Jhdml0eS1jbG91ZC9zaW5lLmZyYWdcIiwgdGhpcywgXCJmcmFnbWVudFNoYWRlclwiIClcblx0XSlcblx0LnRoZW4oXG5cdFx0dGhpcy5zdGFydC5iaW5kKHRoaXMpLFxuXHRcdHRoaXMuZXJyb3IuYmluZCh0aGlzKVxuXHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaW5lR3Jhdml0eUNsb3VkO1xuXG5TaW5lR3Jhdml0eUNsb3VkLnByb3RvdHlwZSA9IHtcblx0XG5cdHN0YXJ0IDogZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0dGhpcy5hdHRyaWJ1dGVzID0ge1xuXG5cdFx0XHRzaXplOiAgICAgICAgeyB0eXBlOiAnZicsIHZhbHVlOiBudWxsIH0sXG5cdFx0XHRjdXN0b21Db2xvcjogeyB0eXBlOiAnYycsIHZhbHVlOiBudWxsIH1cblxuXHRcdH07XG5cblx0XHR0aGlzLnVuaWZvcm1zID0ge1xuXG5cdFx0XHRjb2xvcjogICAgIHsgdHlwZTogXCJjXCIsIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoIDB4ZmZmZmZmICkgfSxcblx0XHRcdHRleHR1cmU6ICAgeyB0eXBlOiBcInRcIiwgdmFsdWU6IHRoaXMudGV4dHVyZSB9XG5cblx0XHR9O1xuXG5cdFx0dGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuXG5cdFx0XHR1bmlmb3JtczogICAgICAgdGhpcy51bmlmb3Jtcyxcblx0XHRcdGF0dHJpYnV0ZXM6ICAgICB0aGlzLmF0dHJpYnV0ZXMsXG5cdFx0XHR2ZXJ0ZXhTaGFkZXI6ICAgdGhpcy52ZXJ0ZXhTaGFkZXIsXG5cdFx0XHRmcmFnbWVudFNoYWRlcjogdGhpcy5mcmFnbWVudFNoYWRlcixcblxuXHRcdFx0YmxlbmRpbmc6ICAgICAgIFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsXG5cdFx0XHRkZXB0aFRlc3Q6ICAgICAgZmFsc2UsXG5cdFx0XHR0cmFuc3BhcmVudDogICAgdHJ1ZVxuXG5cdFx0fSk7XG5cblx0XHR0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG5cblx0XHR0aGlzLnBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoIHRoaXMuY291bnQgKiAzICk7XG5cdFx0dGhpcy52ZWxvY2l0eSA9IG5ldyBGbG9hdDMyQXJyYXkoIHRoaXMuY291bnQgKiAzICk7XG5cdFx0dGhpcy5jb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KCB0aGlzLmNvdW50ICogMyApO1xuXHRcdHRoaXMuc2l6ZXMgPSBuZXcgRmxvYXQzMkFycmF5KCB0aGlzLmNvdW50ICk7XG5cblx0XHR2YXIgY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoMHgwMDAwMDApO1xuXHRcdFxuXHRcdHZhciBodWU7XG5cdFx0XG5cdFx0dmFyIHRoZXRhLCBwaGk7XG5cdFx0XG5cdFx0dmFyIHg7XG5cblx0XHRmb3IoIHZhciB2ID0gMDsgdiA8IHRoaXMuY291bnQ7IHYrKyApIHtcblxuXHRcdFx0dGhpcy5zaXplc1sgdiBdID0gdGhpcy5wb2ludFNpemU7XG5cdFx0XHRcblx0XHRcdC8vIHRoZXRhID0gcmFuZG9tLnJhbmdlTG93KCAwLjEsIE1hdGguUEkgKTtcblx0XHRcdC8vIHBoaSA9IHJhbmRvbS5yYW5nZUxvdyggTWF0aC5QSSAqIDAuMywgTWF0aC5QSSApO1xuXHRcdFx0Ly9cblx0XHRcdC8vIHRoaXMucG9zaXRpb25zWyB2ICogMyArIDAgXSA9IE1hdGguc2luKCB0aGV0YSApICogTWF0aC5jb3MoIHBoaSApICogdGhpcy5yYWRpdXMgKiB0aGV0YSAqIDU7XG5cdFx0XHQvLyB0aGlzLnBvc2l0aW9uc1sgdiAqIDMgKyAxIF0gPSBNYXRoLnNpbiggdGhldGEgKSAqIE1hdGguc2luKCBwaGkgKSAqIHRoaXMucmFkaXVzO1xuXHRcdFx0Ly8gdGhpcy5wb3NpdGlvbnNbIHYgKiAzICsgMiBdID0gTWF0aC5jb3MoIHRoZXRhICkgKiB0aGlzLnJhZGl1cyAqIDAuMTtcblx0XHRcdFxuXHRcdFx0eCA9IHJhbmRvbS5yYW5nZSggLTEsIDEgKTtcblx0XHRcdFxuXHRcdFx0dGhpcy5wb3NpdGlvbnNbIHYgKiAzICsgMCBdID0geCAqIHRoaXMucmFkaXVzO1xuXHRcdFx0dGhpcy5wb3NpdGlvbnNbIHYgKiAzICsgMSBdID0gTWF0aC5zaW4oIHggKiBNYXRoLlBJICogMTAgKSAqIHRoaXMucmFkaXVzO1xuXHRcdFx0dGhpcy5wb3NpdGlvbnNbIHYgKiAzICsgMiBdID0gdGhpcy5yYWRpdXMgKiAtMC41O1xuXG5cdFx0XHR0aGlzLnZlbG9jaXR5WyB2ICogMyArIDAgXSA9IHJhbmRvbS5yYW5nZSggLTAuMDEsIDAuMDEgKSAqIDA7XG5cdFx0XHR0aGlzLnZlbG9jaXR5WyB2ICogMyArIDEgXSA9IHJhbmRvbS5yYW5nZSggLTAuMDEsIDAuMDEgKSAqIDEwO1xuXHRcdFx0dGhpcy52ZWxvY2l0eVsgdiAqIDMgKyAyIF0gPSByYW5kb20ucmFuZ2UoIC0wLjAxLCAwLjAxICkgKiAwO1xuXG5cdFx0XHQvLyBodWUgPSAodiAvIHRoaXMuY291bnQgKSAqIDAuMiArIDAuNDU7XG5cdFx0XHRcblx0XHRcdGh1ZSA9IHggKiAwLjMgKyAwLjY1O1xuXG5cdFx0XHRjb2xvci5zZXRIU0woIGh1ZSwgMS4wLCAwLjU1ICk7XG5cblx0XHRcdHRoaXMuY29sb3JzWyB2ICogMyArIDAgXSA9IGNvbG9yLnI7XG5cdFx0XHR0aGlzLmNvbG9yc1sgdiAqIDMgKyAxIF0gPSBjb2xvci5nO1xuXHRcdFx0dGhpcy5jb2xvcnNbIHYgKiAzICsgMiBdID0gY29sb3IuYjtcblxuXHRcdH1cblx0XHRcblx0XHR0aGlzLmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggdGhpcy5wb3NpdGlvbnMsIDMgKSApO1xuXHRcdHRoaXMuZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCAnY3VzdG9tQ29sb3InLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCB0aGlzLmNvbG9ycywgMyApICk7XG5cdFx0dGhpcy5nZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdzaXplJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggdGhpcy5zaXplcywgMSApICk7XG5cblx0XHR0aGlzLm9iamVjdCA9IG5ldyBUSFJFRS5Qb2ludENsb3VkKCB0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsICk7XG5cdFx0dGhpcy5vYmplY3QucG9zaXRpb24ueSAtPSB0aGlzLnJhZGl1cyAqIDAuMjtcblx0XHRcblx0XHR0aGlzLnBvZW0uc2NlbmUuYWRkKCB0aGlzLm9iamVjdCApO1xuXHRcdFxuXHRcdHRoaXMub2JqZWN0LnNjYWxlLm11bHRpcGx5U2NhbGFyKCAxLjUgKTtcblx0XHRcblx0XG5cdFxuXHRcdHRoaXMucG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgdGhpcy51cGRhdGUuYmluZCh0aGlzKSApO1xuXHRcdFxuXHR9LFxuXHRcblx0ZXJyb3IgOiBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgYXNzZXRzIGZvciB0aGUgU2luZUdyYXZpdHlDbG91ZFwiLCBlcnJvcik7XG5cdH0sXG5cdFxuXHR1cGRhdGUgOiBmdW5jdGlvbihlKSB7XG5cdFx0XG5cdFx0dmFyIHVuaXRUaW1lWCA9IE1hdGguY29zKCBlLm5vdyAqIDAuMDAwMDUgKiAxICk7XG5cdFx0dmFyIHVuaXRUaW1lWSA9IE1hdGguY29zKCBlLm5vdyAqIDAuMDAwMDUgKiAyICk7XG5cdFx0dmFyIHVuaXRUaW1lWiA9IE1hdGguY29zKCBlLm5vdyAqIDAuMDAwMDUgKiAzICk7XG5cdFx0XG5cdFx0dmFyIGQyO1xuXHRcblx0XHRmb3IoIHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKyApIHtcblx0XHRcdFxuXHRcdFx0ZDIgPXRoaXMucG9zaXRpb25zWyBpICogMyArIDAgXSAqIHRoaXMucG9zaXRpb25zWyBpICogMyArIDAgXSArXG5cdFx0XHQgICAgdGhpcy5wb3NpdGlvbnNbIGkgKiAzICsgMSBdICogdGhpcy5wb3NpdGlvbnNbIGkgKiAzICsgMSBdICtcblx0XHRcdCAgICB0aGlzLnBvc2l0aW9uc1sgaSAqIDMgKyAyIF0gKiB0aGlzLnBvc2l0aW9uc1sgaSAqIDMgKyAyIF07XG5cblx0XHRcdHRoaXMudmVsb2NpdHlbIGkgKiAzICsgMCBdIC09IHVuaXRUaW1lWCAqIHRoaXMucG9zaXRpb25zWyBpICogMyArIDAgXSAvIGQyO1xuXHRcdFx0dGhpcy52ZWxvY2l0eVsgaSAqIDMgKyAxIF0gLT0gdW5pdFRpbWVZICogdGhpcy5wb3NpdGlvbnNbIGkgKiAzICsgMSBdIC8gZDI7XG5cdFx0XHR0aGlzLnZlbG9jaXR5WyBpICogMyArIDIgXSAtPSB1bml0VGltZVogKiB0aGlzLnBvc2l0aW9uc1sgaSAqIDMgKyAyIF0gLyBkMjtcblxuXHRcdFx0dGhpcy5wb3NpdGlvbnNbIGkgKiAzICsgMCBdICs9IHVuaXRUaW1lWCAqIHRoaXMudmVsb2NpdHlbIGkgKiAzICsgMCBdO1xuXHRcdFx0dGhpcy5wb3NpdGlvbnNbIGkgKiAzICsgMSBdICs9IHVuaXRUaW1lWSAqIHRoaXMudmVsb2NpdHlbIGkgKiAzICsgMSBdO1xuXHRcdFx0dGhpcy5wb3NpdGlvbnNbIGkgKiAzICsgMiBdICs9IHVuaXRUaW1lWiAqIHRoaXMudmVsb2NpdHlbIGkgKiAzICsgMiBdO1xuXHRcdFx0XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdFx0XG5cdH1cblx0XG59OyIsInZhciBSYW5kb20gPSByZXF1aXJlKCcuLi91dGlscy9yYW5kb20nKVxuICAsIGxlcnAgPSByZXF1aXJlKCdsZXJwJylcblxudmFyIGludGVybmFscyA9IHtcblx0XG5cdGNyZWF0ZU1lc2hlcyA6IGZ1bmN0aW9uKCBzY2VuZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCBjb25maWcgKSB7XG5cdFx0XG5cdFx0dmFyIG1lc2hlcyA9IFtdXG5cdFx0XG5cdFx0Zm9yKCB2YXIgaT0wOyBpIDwgY29uZmlnLmNvdW50OyBpKysgKSB7XG5cdFx0XG5cdFx0XHR2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKVxuXHRcdFxuXHRcdFx0bWVzaC5wb3NpdGlvbi54ID0gUmFuZG9tLnJhbmdlKCAtY29uZmlnLmRpc3BlcnNpb24sIGNvbmZpZy5kaXNwZXJzaW9uIClcblx0XHRcdG1lc2gucG9zaXRpb24ueSA9IFJhbmRvbS5yYW5nZSggLWNvbmZpZy5kaXNwZXJzaW9uLCBjb25maWcuZGlzcGVyc2lvbiApXG5cdFx0XHRtZXNoLnBvc2l0aW9uLnogPSBSYW5kb20ucmFuZ2UoIC1jb25maWcuZGlzcGVyc2lvbiwgY29uZmlnLmRpc3BlcnNpb24gKVxuXG5cdFx0XHRtZXNoLnJvdGF0aW9uLnggPSBSYW5kb20ucmFuZ2UoIC1NYXRoLlBJLCBNYXRoLlBJIClcblx0XHRcdG1lc2gucm90YXRpb24ueSA9IFJhbmRvbS5yYW5nZSggLU1hdGguUEksIE1hdGguUEkgKVxuXHRcdFx0bWVzaC5yb3RhdGlvbi56ID0gUmFuZG9tLnJhbmdlKCAtTWF0aC5QSSwgTWF0aC5QSSApXG5cdFx0XHRcblx0XHRcdC8vIG1lc2gudmVsb2NpdHkgPSBSYW5kb20ucmFuZ2UoIGNvbmZpZy52ZWxvY2l0eSAqIDAuNiwgY29uZmlnLnZlbG9jaXR5ICogMSApXG5cdFx0XHRtZXNoLnZlbG9jaXR5ID0gY29uZmlnLnZlbG9jaXR5XG5cdFx0XHRcblx0XHRcdG1lc2guZmxlZSA9IDFcblx0XHRcdFxuXHRcdFx0bWVzaC5kaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMyhcblx0XHRcdFx0UmFuZG9tLnJhbmdlKCAtMSwgMSApLFxuXHRcdFx0XHRSYW5kb20ucmFuZ2UoIC0xLCAxICksXG5cdFx0XHRcdFJhbmRvbS5yYW5nZSggLTEsIDEgKVxuXHRcdFx0KVxuXHRcdFx0XG5cdFx0XHRtZXNoLmRpcmVjdGlvbi5ub3JtYWxpemUoKVxuXG5cdFx0XHRpZiggaSA+IDAgKSB7XG5cdFx0XHRcdG1lc2gudGFyZ2V0ID0gbWVzaGVzW2ktMV0ucG9zaXRpb25cblx0XHRcdH1cblx0XHRcblx0XHRcdHNjZW5lLmFkZCggbWVzaCApXG5cdFx0XHRtZXNoZXMucHVzaCggbWVzaCApXG5cdFx0fVxuXHRcdFxuXHRcdG1lc2hlc1swXS50YXJnZXQgPSBtZXNoZXNbIG1lc2hlcy5sZW5ndGggLSAxIF0ucG9zaXRpb25cblx0XHRcblx0XHRyZXR1cm4gbWVzaGVzXG5cdH0sXG5cdFxuXHRwaHlzaWNzTW90aW9uRm4gOiBmdW5jdGlvbiggbWVzaGVzLCBjb25maWcgKSB7XG5cdFx0XG5cdFx0dmFyIHRhcmdldERpZmYgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG5cdFx0XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFxuXHRcdFx0Zm9yKCB2YXIgaT0wOyBpIDwgbWVzaGVzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIG1lc2ggPSBtZXNoZXNbaV1cblx0XHRcdFx0XG5cdFx0XHRcdHRhcmdldERpZmYuc3ViVmVjdG9ycyggbWVzaC50YXJnZXQsIG1lc2gucG9zaXRpb24gKVxuXHRcdFx0XHR0YXJnZXREaWZmLm5vcm1hbGl6ZSgpXG5cdFx0XHRcdFxuXHRcdFx0XHRtZXNoLmRpcmVjdGlvbi5sZXJwKCB0YXJnZXREaWZmLCBjb25maWcudHVyblNwZWVkICogZS51bml0RHQgKVxuXG5cdFx0XHRcdG1lc2guZmxlZSA9IGxlcnAoIG1lc2guZmxlZSwgMSwgY29uZmlnLmZsZWVTbG93ZG93biApXG5cdFx0XHRcdFxuXHRcdFx0XHRtZXNoLnBvc2l0aW9uLnggKz0gbWVzaC5kaXJlY3Rpb24ueCAqIG1lc2gudmVsb2NpdHkgKiBtZXNoLmZsZWUgKiBlLnVuaXREdFxuXHRcdFx0XHRtZXNoLnBvc2l0aW9uLnkgKz0gbWVzaC5kaXJlY3Rpb24ueSAqIG1lc2gudmVsb2NpdHkgKiBtZXNoLmZsZWUgKiBlLnVuaXREdFxuXHRcdFx0XHRtZXNoLnBvc2l0aW9uLnogKz0gbWVzaC5kaXJlY3Rpb24ueiAqIG1lc2gudmVsb2NpdHkgKiBtZXNoLmZsZWUgKiBlLnVuaXREdFxuXHRcdFx0XHRcblx0XHRcdFx0XG5cdFx0XHRcdC8vIGlmKCBNYXRoLnJhbmRvbSgpID4gMC45OCApIHtcblx0XHRcdFx0Ly8gXHRtZXNoLnRhcmdldCA9IF8uc2FtcGxlKCBtZXNoZXMgKS5wb3NpdGlvblxuXHRcdFx0XHQvLyB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRcblx0XG5cdGJyb3duaWFuTW90aW9uRm4gOiBmdW5jdGlvbiggbWVzaGVzLCBkaXNwZXJzaW9uICkge1xuXHRcdFxuXHRcdHJldHVybiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcblx0XHRcdGZvciggdmFyIGk9MDsgaSA8IG1lc2hlcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XG5cdFx0XHRcdG1lc2hlc1tpXS5wb3NpdGlvbi54ICs9IFJhbmRvbS5yYW5nZSggLTAuMDAwNSwgMC4wMDA1ICkgKiBkaXNwZXJzaW9uICogZS5kdFxuXHRcdFx0XHRtZXNoZXNbaV0ucG9zaXRpb24ueSArPSBSYW5kb20ucmFuZ2UoIC0wLjAwMDUsIDAuMDAwNSApICogZGlzcGVyc2lvbiAqIGUuZHRcblx0XHRcdFx0bWVzaGVzW2ldLnBvc2l0aW9uLnogKz0gUmFuZG9tLnJhbmdlKCAtMC4wMDA1LCAwLjAwMDUgKSAqIGRpc3BlcnNpb24gKiBlLmR0XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRcblx0cmF5Y2FzdEZuIDogZnVuY3Rpb24oIG1lc2hlcywgbW91c2UsIGNhbWVyYSwgY29uZmlnICkge1xuXHRcdFxuXHRcdHZhciByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG5cdFx0dmFyIHJhbmdlID0gMzBcblx0XHRcblx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0XG5cdFx0XHRyYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSggbW91c2UsIGNhbWVyYSApXG5cdFx0XHRcblx0XHRcdGZvciggdmFyIGkgPSAwOyBpIDwgbWVzaGVzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIG1lc2ggPSBtZXNoZXNbaV1cblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gcmF5Y2FzdGVyLnJheS5kaXN0YW5jZVRvUG9pbnQoIG1lc2gucG9zaXRpb24gKVxuXHRcdFx0XHRcblx0XHRcdFx0aWYoIGRpc3RhbmNlIDwgY29uZmlnLm1vdXNlUmFuZ2UgKSB7XG5cdFx0XHRcdFx0bWVzaC5mbGVlICs9IGNvbmZpZy5mbGVlU3BlZWQgKiAoY29uZmlnLm1vdXNlUmFuZ2UgLSBkaXN0YW5jZSkgLyBjb25maWcubW91c2VSYW5nZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlU3BoZXJlcyggcG9lbSwgcHJvcGVydGllcyApIHtcblx0XG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0Y291bnQgOiAxMFxuXHQgICwgZGlzcGVyc2lvbiA6IDEwXG5cdCAgLCByYWRpdXMgOiAxXG5cdCAgLCBtb3VzZVJlZiA6IFwibW91c2VcIlxuXHQgICwgdmVsb2NpdHkgOiA1XG5cdCAgLCB0dXJuU3BlZWQgOiAwLjAyNVxuXHQgICwgZmxlZVNsb3dkb3duIDogMC4xXG5cdCAgLCBtb3VzZVJhbmdlIDogNTBcblx0ICAsIGZsZWVTcGVlZCA6IDFcblx0fSwgcHJvcGVydGllcylcblx0XG5cdHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5UZXRyYWhlZHJvbkdlb21ldHJ5KCBjb25maWcucmFkaXVzLCAwIClcblx0dmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoIHtcblx0XHRjb2xvciA6IDB4MDBjYzMzLFxuXHRcdHNoYWRpbmcgOiBUSFJFRS5GbGF0U2hhZGluZyxcblx0XHRmb2c6IGZhbHNlXG5cdH0gKVxuXHR2YXIgbWVzaGVzID0gaW50ZXJuYWxzLmNyZWF0ZU1lc2hlcyggcG9lbS5zY2VuZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCBjb25maWcgKVxuXHRcblx0dmFyIG1vdXNlID0gcG9lbVtjb25maWcubW91c2VSZWZdXG5cblx0Ly8gcG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgaW50ZXJuYWxzLmJyb3duaWFuTW90aW9uRm4oXG5cdC8vIFx0bWVzaGVzLFxuXHQvLyBcdGNvbmZpZy5kaXNwZXJzaW9uXG5cdC8vICkpXG5cblx0cG9lbS5lbWl0dGVyLm9uKCAndXBkYXRlJywgaW50ZXJuYWxzLnBoeXNpY3NNb3Rpb25GbiggbWVzaGVzLCBjb25maWcgKSlcblx0XG5cdHBvZW0uZW1pdHRlci5vbiggJ3VwZGF0ZScsIGludGVybmFscy5yYXljYXN0Rm4oXG5cdFx0bWVzaGVzLFxuXHRcdG1vdXNlLm5vcm1hbGl6ZWRQb3NpdGlvbixcblx0XHRwb2VtLmNhbWVyYS5vYmplY3QsXG5cdFx0Y29uZmlnXG5cdCkpXG5cdFxufSIsIlxuXG5mdW5jdGlvbiBfY3JlYXRlR2VvbWV0cnkoIHdpZHRoLCBzZWdtZW50cyApIHtcblx0XG5cdHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KCB3aWR0aCwgd2lkdGgsIHNlZ21lbnRzLCBzZWdtZW50cyApXG5cdFxuXHRnZW9tZXRyeS5hcHBseU1hdHJpeChcblx0XHRuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoIE1hdGguUEkgKiAwLjUgKVxuXHQpXG5cdFxuXHRyZXR1cm4gZ2VvbWV0cnlcblx0XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVUZXh0dXJlKCBtZXNoLCBzY2VuZSApIHtcblx0XG5cdHZhciBpbWcgPSBuZXcgSW1hZ2UoKVxuXHR2YXIgdGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlKCBpbWcgKVxuXHRpbWcuc3JjID0gJ2Fzc2V0cy9pbWFnZXMvY2xvdWQxMDI0LnBuZydcblx0XG5cdHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xuXHR0ZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcblx0XG5cdCQoaW1nKS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlXG5cdFx0c2NlbmUuYWRkKCBtZXNoIClcblx0fSlcblx0XG5cdHJldHVybiB0ZXh0dXJlXG5cdFxufVxuXG5mdW5jdGlvbiBfY3JlYXRlTWVzaEdyaWQoIG1hdGVyaWFsLCB3aWR0aCwgZ3JpZExlbmd0aCwgdG90YWxQb2x5Z29uRGVuc2l0eSApIHtcblx0XG5cdHZhciBnZW9tZXRyeSA9IF9jcmVhdGVHZW9tZXRyeShcblx0XHR3aWR0aCAvIGdyaWRMZW5ndGgsXG5cdFx0TWF0aC5mbG9vciggdG90YWxQb2x5Z29uRGVuc2l0eSAvIGdyaWRMZW5ndGggKVxuXHQpXG5cdFxuXHR2YXIgbWVzaEdyaWQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKVxuXHRcblx0dmFyIG1lc2hcblx0dmFyIHN0ZXAgPSB3aWR0aCAvIGdyaWRMZW5ndGhcblx0XG5cdGZvciggdmFyIGk9MDsgaSA8IGdyaWRMZW5ndGg7IGkrKyApIHtcblx0XHRmb3IoIHZhciBqPTA7IGogPCBncmlkTGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcblx0XHRcdG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggZ2VvbWV0cnksIG1hdGVyaWFsIClcblx0XHRcdG1lc2guZnJ1c3R1bUN1bGxlZCA9IGZhbHNlXG5cdFx0XHRcblx0XHRcdG1lc2hHcmlkLmFkZCggbWVzaCApXG5cdFx0XHRtZXNoLnBvc2l0aW9uLnNldChcblx0XHRcdFx0aSAqIHN0ZXAsXG5cdFx0XHRcdDAsXG5cdFx0XHRcdGogKiBzdGVwXG5cdFx0XHQpXG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gbWVzaEdyaWRcbn1cblxuZnVuY3Rpb24gX3VwZGF0ZU1vZHVsb01lc2hHcmlkKCBjYW1lcmFQb3NpdGlvbiwgbWVzaGVzLCB3aWR0aCwgc3RhdGUgKSB7XG5cdFxuXHR2YXIgaWwgPSBtZXNoZXMubGVuZ3RoXG5cdHZhciBoYWxmV2lkdGggPSB3aWR0aCAvIDJcblx0XG5cdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcG9zaXRpb25cblx0XHRcblx0XHRmb3IoIHZhciBpPTA7IGkgPCBpbDsgaSsrICkge1xuXHRcdFx0XG5cdFx0XHRwb3NpdGlvbiA9IG1lc2hlc1tpXS5wb3NpdGlvblxuXHRcblx0XHRcdHBvc2l0aW9uLnNldChcblx0XHRcdFx0KCAoIHBvc2l0aW9uLnggLSBjYW1lcmFQb3NpdGlvbi54ICsgaGFsZldpZHRoICkgJSB3aWR0aCApICsgY2FtZXJhUG9zaXRpb24ueCAtIGhhbGZXaWR0aCxcblx0XHRcdFx0cG9zaXRpb24ueSxcblx0XHRcdFx0KCAoIHBvc2l0aW9uLnogLSBjYW1lcmFQb3NpdGlvbi56ICsgaGFsZldpZHRoICkgJSB3aWR0aCApICsgY2FtZXJhUG9zaXRpb24ueiAtIGhhbGZXaWR0aFxuXHRcdFx0KVxuXHRcdFx0XG5cdFx0fVxuXHRcdFxuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2lyZVRlcnJhaW4oIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cdFxuXHR2YXIgY29uZmlnID0gXy5leHRlbmQoe1xuXHRcdHdpZHRoXHRcdFx0XHQ6IDgwMDAsXG5cdFx0aGVpZ2h0U2NhbGVcdFx0XHQ6IDIwMCxcblx0XHRncmlkTGVuZ3RoXHRcdFx0OiAxNixcblx0XHR0b3RhbFBvbHlnb25EZW5zaXR5XHQ6IDI1Nixcblx0XHRwb3NpdGlvbllcdFx0XHQ6IDAsXG5cdFx0aGVpZ2h0XHRcdFx0XHQ6IDFcblx0fSwgcHJvcGVydGllcylcblx0XG5cdHZhciBzdGF0ZSA9IHtcblx0XHRoZWlnaHQgOiBjb25maWcuaGVpZ2h0XG5cdH1cblx0XG5cdHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XG5cdFx0dmVydGV4U2hhZGVyICAgIDogXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gc2FtcGxlcjJEIHRlcnJhaW47XFxudW5pZm9ybSBmbG9hdCBoZWlnaHRGYWN0b3I7XFxudW5pZm9ybSBmbG9hdCB3aWR0aDtcXG51bmlmb3JtIGZsb2F0IGVsYXBzZWQ7XFxuXFxudmFyeWluZyBmbG9hdCBoZWlnaHQ7XFxudmFyeWluZyB2ZWMyIHZVdjtcXG52YXJ5aW5nIGZsb2F0IHZDYW1lcmFEaXN0YW5jZTtcXG5cXG4vL1xcbi8vIERlc2NyaXB0aW9uIDogQXJyYXkgYW5kIHRleHR1cmVsZXNzIEdMU0wgMkQvM0QvNEQgc2ltcGxleFxcbi8vICAgICAgICAgICAgICAgbm9pc2UgZnVuY3Rpb25zLlxcbi8vICAgICAgQXV0aG9yIDogSWFuIE1jRXdhbiwgQXNoaW1hIEFydHMuXFxuLy8gIE1haW50YWluZXIgOiBpam1cXG4vLyAgICAgTGFzdG1vZCA6IDIwMTEwODIyIChpam0pXFxuLy8gICAgIExpY2Vuc2UgOiBDb3B5cmlnaHQgKEMpIDIwMTEgQXNoaW1hIEFydHMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuLy8gICAgICAgICAgICAgICBEaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMSUNFTlNFIGZpbGUuXFxuLy8gICAgICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYXNoaW1hL3dlYmdsLW5vaXNlXFxuLy9cXG5cXG52ZWMzIG1vZDI4OV8xXzAodmVjMyB4KSB7XFxuICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xcbn1cXG5cXG52ZWM0IG1vZDI4OV8xXzAodmVjNCB4KSB7XFxuICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xcbn1cXG5cXG52ZWM0IHBlcm11dGVfMV8xKHZlYzQgeCkge1xcbiAgICAgcmV0dXJuIG1vZDI4OV8xXzAoKCh4KjM0LjApKzEuMCkqeCk7XFxufVxcblxcbnZlYzQgdGF5bG9ySW52U3FydF8xXzIodmVjNCByKVxcbntcXG4gIHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7XFxufVxcblxcbmZsb2F0IHNub2lzZV8xXzModmVjMyB2KVxcbiAge1xcbiAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgO1xcbiAgY29uc3QgdmVjNCAgRF8xXzQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7XFxuXFxuLy8gRmlyc3QgY29ybmVyXFxuICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTtcXG4gIHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7XFxuXFxuLy8gT3RoZXIgY29ybmVyc1xcbiAgdmVjMyBnXzFfNSA9IHN0ZXAoeDAueXp4LCB4MC54eXopO1xcbiAgdmVjMyBsID0gMS4wIC0gZ18xXzU7XFxuICB2ZWMzIGkxID0gbWluKCBnXzFfNS54eXosIGwuenh5ICk7XFxuICB2ZWMzIGkyID0gbWF4KCBnXzFfNS54eXosIGwuenh5ICk7XFxuXFxuICAvLyAgIHgwID0geDAgLSAwLjAgKyAwLjAgKiBDLnh4eDtcXG4gIC8vICAgeDEgPSB4MCAtIGkxICArIDEuMCAqIEMueHh4O1xcbiAgLy8gICB4MiA9IHgwIC0gaTIgICsgMi4wICogQy54eHg7XFxuICAvLyAgIHgzID0geDAgLSAxLjAgKyAzLjAgKiBDLnh4eDtcXG4gIHZlYzMgeDEgPSB4MCAtIGkxICsgQy54eHg7XFxuICB2ZWMzIHgyID0geDAgLSBpMiArIEMueXl5OyAvLyAyLjAqQy54ID0gMS8zID0gQy55XFxuICB2ZWMzIHgzID0geDAgLSBEXzFfNC55eXk7ICAgICAgLy8gLTEuMCszLjAqQy54ID0gLTAuNSA9IC1ELnlcXG5cXG4vLyBQZXJtdXRhdGlvbnNcXG4gIGkgPSBtb2QyODlfMV8wKGkpO1xcbiAgdmVjNCBwID0gcGVybXV0ZV8xXzEoIHBlcm11dGVfMV8xKCBwZXJtdXRlXzFfMShcXG4gICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKVxcbiAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpXFxuICAgICAgICAgICArIGkueCArIHZlYzQoMC4wLCBpMS54LCBpMi54LCAxLjAgKSk7XFxuXFxuLy8gR3JhZGllbnRzOiA3eDcgcG9pbnRzIG92ZXIgYSBzcXVhcmUsIG1hcHBlZCBvbnRvIGFuIG9jdGFoZWRyb24uXFxuLy8gVGhlIHJpbmcgc2l6ZSAxNyoxNyA9IDI4OSBpcyBjbG9zZSB0byBhIG11bHRpcGxlIG9mIDQ5ICg0OSo2ID0gMjk0KVxcbiAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgLy8gMS4wLzcuMFxcbiAgdmVjMyAgbnMgPSBuXyAqIERfMV80Lnd5eiAtIERfMV80Lnh6eDtcXG5cXG4gIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIC8vICBtb2QocCw3KjcpXFxuXFxuICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopO1xcbiAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAvLyBtb2QoaixOKVxcblxcbiAgdmVjNCB4ID0geF8gKm5zLnggKyBucy55eXl5O1xcbiAgdmVjNCB5ID0geV8gKm5zLnggKyBucy55eXl5O1xcbiAgdmVjNCBoID0gMS4wIC0gYWJzKHgpIC0gYWJzKHkpO1xcblxcbiAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTtcXG4gIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7XFxuXFxuICAvL3ZlYzQgczAgPSB2ZWM0KGxlc3NUaGFuKGIwLDAuMCkpKjIuMCAtIDEuMDtcXG4gIC8vdmVjNCBzMSA9IHZlYzQobGVzc1RoYW4oYjEsMC4wKSkqMi4wIC0gMS4wO1xcbiAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7XFxuICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDtcXG4gIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpO1xcblxcbiAgdmVjNCBhMCA9IGIwLnh6eXcgKyBzMC54enl3KnNoLnh4eXkgO1xcbiAgdmVjNCBhMV8xXzYgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDtcXG5cXG4gIHZlYzMgcDBfMV83ID0gdmVjMyhhMC54eSxoLngpO1xcbiAgdmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTtcXG4gIHZlYzMgcDIgPSB2ZWMzKGExXzFfNi54eSxoLnopO1xcbiAgdmVjMyBwMyA9IHZlYzMoYTFfMV82Lnp3LGgudyk7XFxuXFxuLy9Ob3JtYWxpc2UgZ3JhZGllbnRzXFxuICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0XzFfMih2ZWM0KGRvdChwMF8xXzcscDBfMV83KSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTtcXG4gIHAwXzFfNyAqPSBub3JtLng7XFxuICBwMSAqPSBub3JtLnk7XFxuICBwMiAqPSBub3JtLno7XFxuICBwMyAqPSBub3JtLnc7XFxuXFxuLy8gTWl4IGZpbmFsIG5vaXNlIHZhbHVlXFxuICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTtcXG4gIG0gPSBtICogbTtcXG4gIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMF8xXzcseDApLCBkb3QocDEseDEpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7XFxuICB9XFxuXFxuXFxuXFxuXFxudm9pZCBtYWluKCkge1xcblxcblxcdHZlYzQgbW9kZWxQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG5cXHRcXG5cXHR2VXYgPSB2ZWMyKCBtb2RlbFBvc2l0aW9uLngsIG1vZGVsUG9zaXRpb24ueiArIGVsYXBzZWQgKiAwLjA1ICkgLyB3aWR0aDtcXG5cXHRcXHRcXG5cXHRmbG9hdCBtYWluSGVpZ2h0U2hhcGUgPSB0ZXh0dXJlMkQoIHRlcnJhaW4sIHZVdiAqIDAuMyApLnc7XFxuXFx0ZmxvYXQgc21hbGxOb2lzZXlTdXJmYWNlID0gdGV4dHVyZTJEKCB0ZXJyYWluLCB2VXYgKiA1LjAgKS53O1xcblxcdGZsb2F0IGFtb3VudE9mU21hbGxOb2lzZSA9IHNub2lzZV8xXzModmVjMyhcXG5cXHRcXHRtb2RlbFBvc2l0aW9uLnggKiAwLjAwMSAqIHNpbiggZWxhcHNlZCAqIDAuMDAxICksXFxuXFx0XFx0bW9kZWxQb3NpdGlvbi56ICogMC4wMDEgKiBzaW4oIGVsYXBzZWQgKiAwLjAwMSApLFxcblxcdFxcdGVsYXBzZWQgKiAwLjAwMDFcXG5cXHQpKTtcXG5cXHRcXG5cXHRoZWlnaHQgPSBtYWluSGVpZ2h0U2hhcGUgKyAoXFxuXFx0XFx0c21hbGxOb2lzZXlTdXJmYWNlICogc21hbGxOb2lzZXlTdXJmYWNlICogYW1vdW50T2ZTbWFsbE5vaXNlXFxuXFx0KTtcXG5cXHRcXG5cXHR2Q2FtZXJhRGlzdGFuY2UgPSBkaXN0YW5jZSggbW9kZWxQb3NpdGlvbi54eXosIGNhbWVyYVBvc2l0aW9uICk7XFxuXFx0XFxuXFx0dmVjNCBtb2RpZmllZFBvc2l0aW9uID0gdmVjNChcXG5cXHRcXHRwb3NpdGlvbi54LFxcblxcdFxcdHBvc2l0aW9uLnkgKyBoZWlnaHQgKiB3aWR0aCAvIDIwLjAgKiBoZWlnaHRGYWN0b3IsXFxuXFx0XFx0cG9zaXRpb24ueixcXG5cXHRcXHQxLjBcXG5cXHQpO1xcblxcdFxcblxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIG1vZGlmaWVkUG9zaXRpb247XFxuXFx0XFxufVwiLFxuXHRcdGZyYWdtZW50U2hhZGVyICA6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG52ZWMzIGhzdjJyZ2JfMV8wKHZlYzMgYykge1xcbiAgdmVjNCBLID0gdmVjNCgxLjAsIDIuMCAvIDMuMCwgMS4wIC8gMy4wLCAzLjApO1xcbiAgdmVjMyBwID0gYWJzKGZyYWN0KGMueHh4ICsgSy54eXopICogNi4wIC0gSy53d3cpO1xcbiAgcmV0dXJuIGMueiAqIG1peChLLnh4eCwgY2xhbXAocCAtIEsueHh4LCAwLjAsIDEuMCksIGMueSk7XFxufVxcblxcblxcblxcbnVuaWZvcm0gZmxvYXQgd2lkdGg7XFxudW5pZm9ybSBmbG9hdCBoZWlnaHRGYWN0b3I7XFxudW5pZm9ybSBmbG9hdCBlbGFwc2VkO1xcblxcbnZhcnlpbmcgZmxvYXQgaGVpZ2h0O1xcbnZhcnlpbmcgdmVjMiB2VXY7XFxudmFyeWluZyBmbG9hdCB2Q2FtZXJhRGlzdGFuY2U7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdFxcblxcdGZsb2F0IGh1ZVggPSBhYnMoMC41IC0gZnJhY3QodlV2LnggKiAyLjApKSAqIDIuMDtcXG5cXHRmbG9hdCBodWVZID0gYWJzKDAuNSAtIGZyYWN0KHZVdi55ICogMi4wKSkgKiAyLjA7XFxuXFx0XFxuXFx0ZmxvYXQgd2F2ZVNwZWVkID0gMC4wMDA1O1xcblxcdGZsb2F0IHdhdmVMZW5ndGggPSAwLjAwMDE7XFxuXFx0ZmxvYXQgd2F2ZSA9IG1vZCgodkNhbWVyYURpc3RhbmNlICogd2F2ZUxlbmd0aCArIGVsYXBzZWQgKiB3YXZlU3BlZWQpLCAxLjApO1xcblxcdFxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KFxcblxcdFxcdGhzdjJyZ2JfMV8wKFxcblxcdFxcdFxcdHZlYzMoXFxuXFx0XFx0XFx0XFx0Ly8gbW9kKHhIdWUsIDEuMCksXFxuXFx0XFx0XFx0XFx0KGh1ZVggKyBodWVZKSAqIDAuMSArIDAuMjUsXFxuXFx0XFx0XFx0XFx0bWl4KGhlaWdodEZhY3RvciwgbWl4KGhlaWdodCwgMC41LCAwLjgpLCAwLjgpLFxcblxcdFxcdFxcdFxcdG1peChoZWlnaHRGYWN0b3IsIG1peChoZWlnaHQsIDEuMiwgMC4zNSksIDAuMzUpXFxuXFx0XFx0XFx0KVxcblxcdFxcdCksXFxuXFx0XFx0MS4wIC0gd2F2ZSArIDAuMlxcblxcdCk7XFxuXFx0XFxuXFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggMC4wLCAxLjAsIHZDYW1lcmFEaXN0YW5jZSAvIHdpZHRoICk7XFxuXFx0dmVjMyBmb2dDb2xvciA9IHZlYzMoIDAuMTQsIDAuMTQsIDAuMTQgKTtcXG5cXG5cXHRnbF9GcmFnQ29sb3IgPSBtaXgoIGdsX0ZyYWdDb2xvciwgdmVjNCggZm9nQ29sb3IsIGdsX0ZyYWdDb2xvci53ICksIGZvZ0ZhY3RvciApO1xcblxcdFxcbn1cIixcblxuXHRcdHNpZGU6ICAgICAgICBUSFJFRS5Eb3VibGVTaWRlLFxuXHRcdHdpcmVmcmFtZTogICB0cnVlLFxuXHRcdHRyYW5zcGFyZW50OiB0cnVlLFxuXHRcdFxuXHRcdHVuaWZvcm1zOiB7XG5cdFx0XHR0ZXJyYWluICAgICAgICAgOiB7IHR5cGU6ICd0JyB9LFxuXHRcdFx0aGVpZ2h0RmFjdG9yICAgIDogeyB0eXBlOiAnZicgfSxcblx0XHRcdHdpZHRoICAgICAgICAgICA6IHsgdHlwZTogJ2YnIH0sXG5cdFx0XHRlbGFwc2VkICAgICAgICAgOiB7IHR5cGU6ICdmJyB9LFxuXHRcdH0sXG5cdFx0YXR0cmlidXRlcyAgICAgIDoge31cblxuXHR9KVxuXHRcblx0dmFyIG1lc2hHcmlkID0gX2NyZWF0ZU1lc2hHcmlkKFxuXHRcdG1hdGVyaWFsLFxuXHRcdGNvbmZpZy53aWR0aCxcblx0XHRjb25maWcuZ3JpZExlbmd0aCxcblx0XHRjb25maWcudG90YWxQb2x5Z29uRGVuc2l0eVxuXHQpXG5cdFxuXHRtZXNoR3JpZC5wb3NpdGlvbi55ID0gY29uZmlnLnBvc2l0aW9uWVxuXHRcblx0bWF0ZXJpYWwudW5pZm9ybXMudGVycmFpbi52YWx1ZSA9IF9jcmVhdGVUZXh0dXJlKCBtZXNoR3JpZCwgcG9lbS5zY2VuZSApXG5cdG1hdGVyaWFsLnVuaWZvcm1zLndpZHRoLnZhbHVlID0gY29uZmlnLndpZHRoIC8gMlxuXHRtYXRlcmlhbC51bmlmb3Jtcy5oZWlnaHQgPSBzdGF0ZS5oZWlnaHRcblx0XG5cdHBvZW0uZW1pdHRlci5vbiggJ3VwZGF0ZScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdG1hdGVyaWFsLnVuaWZvcm1zLmhlaWdodEZhY3Rvci52YWx1ZSA9IHN0YXRlLmhlaWdodFxuXHRcdG1hdGVyaWFsLnVuaWZvcm1zLmVsYXBzZWQudmFsdWUgPSBlLmVsYXBzZWRcblx0fSlcblx0XG5cdHBvZW0uZW1pdHRlci5vbiggJ3VwZGF0ZScsIF91cGRhdGVNb2R1bG9NZXNoR3JpZChcblx0XHRwb2VtLmNhbWVyYS5vYmplY3QucG9zaXRpb24sXG5cdFx0bWVzaEdyaWQuY2hpbGRyZW4sXG5cdFx0Y29uZmlnLndpZHRoLFxuXHRcdHN0YXRlXG5cdCkpXG5cdFxuXHRyZXR1cm4gc3RhdGVcbn0iLCJyZXF1aXJlKCcuL3V0aWxzL1RocmVlQ29uc29sZScpO1xucmVxdWlyZSgnZXM2LXByb21pc2UnKS5wb2x5ZmlsbCgpO1xuXG52YXIgbWFuaWZlc3RzID0gcmVxdWlyZSgnLi4vbWFuaWZlc3RzJyk7XG5cbnZhciByb3V0aW5nID0gcmVxdWlyZSgnLi9jb3JlL3JvdXRpbmcnKTtcbnZhciB1aSA9IHJlcXVpcmUoJy4vY29yZS91aScpKCBtYW5pZmVzdHMgKTtcblxucm91dGluZy5zdGFydChcblx0cmVxdWlyZSgnLi9jb3JlL3BvZW0nKSxcblx0bWFuaWZlc3RzXG4pOyIsIi8qKlxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqL1xuXG5USFJFRS5CbG9vbVBhc3MgPSBmdW5jdGlvbiAoIHN0cmVuZ3RoLCBrZXJuZWxTaXplLCBzaWdtYSwgcmVzb2x1dGlvbiApIHtcblxuXHRzdHJlbmd0aCA9ICggc3RyZW5ndGggIT09IHVuZGVmaW5lZCApID8gc3RyZW5ndGggOiAxO1xuXHRrZXJuZWxTaXplID0gKCBrZXJuZWxTaXplICE9PSB1bmRlZmluZWQgKSA/IGtlcm5lbFNpemUgOiAyNTtcblx0c2lnbWEgPSAoIHNpZ21hICE9PSB1bmRlZmluZWQgKSA/IHNpZ21hIDogNC4wO1xuXHRyZXNvbHV0aW9uID0gKCByZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgKSA/IHJlc29sdXRpb24gOiAyNTY7XG5cblx0Ly8gcmVuZGVyIHRhcmdldHNcblxuXHR2YXIgcGFycyA9IHsgbWluRmlsdGVyOiBUSFJFRS5MaW5lYXJGaWx0ZXIsIG1hZ0ZpbHRlcjogVEhSRUUuTGluZWFyRmlsdGVyLCBmb3JtYXQ6IFRIUkVFLlJHQkZvcm1hdCB9O1xuXG5cdHRoaXMucmVuZGVyVGFyZ2V0WCA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlclRhcmdldCggcmVzb2x1dGlvbiwgcmVzb2x1dGlvbiwgcGFycyApO1xuXHR0aGlzLnJlbmRlclRhcmdldFkgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQoIHJlc29sdXRpb24sIHJlc29sdXRpb24sIHBhcnMgKTtcblxuXHQvLyBjb3B5IG1hdGVyaWFsXG5cblx0aWYgKCBUSFJFRS5Db3B5U2hhZGVyID09PSB1bmRlZmluZWQgKVxuXHRcdGNvbnNvbGUuZXJyb3IoIFwiVEhSRUUuQmxvb21QYXNzIHJlbGllcyBvbiBUSFJFRS5Db3B5U2hhZGVyXCIgKTtcblxuXHR2YXIgY29weVNoYWRlciA9IFRIUkVFLkNvcHlTaGFkZXI7XG5cblx0dGhpcy5jb3B5VW5pZm9ybXMgPSBUSFJFRS5Vbmlmb3Jtc1V0aWxzLmNsb25lKCBjb3B5U2hhZGVyLnVuaWZvcm1zICk7XG5cblx0dGhpcy5jb3B5VW5pZm9ybXNbIFwib3BhY2l0eVwiIF0udmFsdWUgPSBzdHJlbmd0aDtcblxuXHR0aGlzLm1hdGVyaWFsQ29weSA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuXG5cdFx0dW5pZm9ybXM6IHRoaXMuY29weVVuaWZvcm1zLFxuXHRcdHZlcnRleFNoYWRlcjogY29weVNoYWRlci52ZXJ0ZXhTaGFkZXIsXG5cdFx0ZnJhZ21lbnRTaGFkZXI6IGNvcHlTaGFkZXIuZnJhZ21lbnRTaGFkZXIsXG5cdFx0YmxlbmRpbmc6IFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsXG5cdFx0dHJhbnNwYXJlbnQ6IHRydWVcblxuXHR9ICk7XG5cblx0Ly8gY29udm9sdXRpb24gbWF0ZXJpYWxcblxuXHRpZiAoIFRIUkVFLkNvbnZvbHV0aW9uU2hhZGVyID09PSB1bmRlZmluZWQgKVxuXHRcdGNvbnNvbGUuZXJyb3IoIFwiVEhSRUUuQmxvb21QYXNzIHJlbGllcyBvbiBUSFJFRS5Db252b2x1dGlvblNoYWRlclwiICk7XG5cblx0dmFyIGNvbnZvbHV0aW9uU2hhZGVyID0gVEhSRUUuQ29udm9sdXRpb25TaGFkZXI7XG5cblx0dGhpcy5jb252b2x1dGlvblVuaWZvcm1zID0gVEhSRUUuVW5pZm9ybXNVdGlscy5jbG9uZSggY29udm9sdXRpb25TaGFkZXIudW5pZm9ybXMgKTtcblxuXHR0aGlzLmNvbnZvbHV0aW9uVW5pZm9ybXNbIFwidUltYWdlSW5jcmVtZW50XCIgXS52YWx1ZSA9IFRIUkVFLkJsb29tUGFzcy5ibHVyeDtcblx0dGhpcy5jb252b2x1dGlvblVuaWZvcm1zWyBcImNLZXJuZWxcIiBdLnZhbHVlID0gVEhSRUUuQ29udm9sdXRpb25TaGFkZXIuYnVpbGRLZXJuZWwoIHNpZ21hICk7XG5cblx0dGhpcy5tYXRlcmlhbENvbnZvbHV0aW9uID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKCB7XG5cblx0XHR1bmlmb3JtczogdGhpcy5jb252b2x1dGlvblVuaWZvcm1zLFxuXHRcdHZlcnRleFNoYWRlcjogIGNvbnZvbHV0aW9uU2hhZGVyLnZlcnRleFNoYWRlcixcblx0XHRmcmFnbWVudFNoYWRlcjogY29udm9sdXRpb25TaGFkZXIuZnJhZ21lbnRTaGFkZXIsXG5cdFx0ZGVmaW5lczoge1xuXHRcdFx0XCJLRVJORUxfU0laRV9GTE9BVFwiOiBrZXJuZWxTaXplLnRvRml4ZWQoIDEgKSxcblx0XHRcdFwiS0VSTkVMX1NJWkVfSU5UXCI6IGtlcm5lbFNpemUudG9GaXhlZCggMCApXG5cdFx0fVxuXG5cdH0gKTtcblxuXHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXHR0aGlzLm5lZWRzU3dhcCA9IGZhbHNlO1xuXHR0aGlzLmNsZWFyID0gZmFsc2U7XG5cblxuXHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoIC0xLCAxLCAxLCAtMSwgMCwgMSApO1xuXHR0aGlzLnNjZW5lICA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG5cdHRoaXMucXVhZCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSggMiwgMiApLCBudWxsICk7XG5cdHRoaXMuc2NlbmUuYWRkKCB0aGlzLnF1YWQgKTtcblxufTtcblxuVEhSRUUuQmxvb21QYXNzLnByb3RvdHlwZSA9IHtcblxuXHRyZW5kZXI6IGZ1bmN0aW9uICggcmVuZGVyZXIsIHdyaXRlQnVmZmVyLCByZWFkQnVmZmVyLCBkZWx0YSwgbWFza0FjdGl2ZSApIHtcblxuXHRcdGlmICggbWFza0FjdGl2ZSApIHJlbmRlcmVyLmNvbnRleHQuZGlzYWJsZSggcmVuZGVyZXIuY29udGV4dC5TVEVOQ0lMX1RFU1QgKTtcblxuXHRcdC8vIFJlbmRlciBxdWFkIHdpdGggYmx1cmVkIHNjZW5lIGludG8gdGV4dHVyZSAoY29udm9sdXRpb24gcGFzcyAxKVxuXG5cdFx0dGhpcy5xdWFkLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbENvbnZvbHV0aW9uO1xuXG5cdFx0dGhpcy5jb252b2x1dGlvblVuaWZvcm1zWyBcInREaWZmdXNlXCIgXS52YWx1ZSA9IHJlYWRCdWZmZXI7XG5cdFx0dGhpcy5jb252b2x1dGlvblVuaWZvcm1zWyBcInVJbWFnZUluY3JlbWVudFwiIF0udmFsdWUgPSBUSFJFRS5CbG9vbVBhc3MuYmx1clg7XG5cblx0XHRyZW5kZXJlci5yZW5kZXIoIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlclRhcmdldFgsIHRydWUgKTtcblxuXG5cdFx0Ly8gUmVuZGVyIHF1YWQgd2l0aCBibHVyZWQgc2NlbmUgaW50byB0ZXh0dXJlIChjb252b2x1dGlvbiBwYXNzIDIpXG5cblx0XHR0aGlzLmNvbnZvbHV0aW9uVW5pZm9ybXNbIFwidERpZmZ1c2VcIiBdLnZhbHVlID0gdGhpcy5yZW5kZXJUYXJnZXRYO1xuXHRcdHRoaXMuY29udm9sdXRpb25Vbmlmb3Jtc1sgXCJ1SW1hZ2VJbmNyZW1lbnRcIiBdLnZhbHVlID0gVEhSRUUuQmxvb21QYXNzLmJsdXJZO1xuXG5cdFx0cmVuZGVyZXIucmVuZGVyKCB0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJUYXJnZXRZLCB0cnVlICk7XG5cblx0XHQvLyBSZW5kZXIgb3JpZ2luYWwgc2NlbmUgd2l0aCBzdXBlcmltcG9zZWQgYmx1ciB0byB0ZXh0dXJlXG5cblx0XHR0aGlzLnF1YWQubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsQ29weTtcblxuXHRcdHRoaXMuY29weVVuaWZvcm1zWyBcInREaWZmdXNlXCIgXS52YWx1ZSA9IHRoaXMucmVuZGVyVGFyZ2V0WTtcblxuXHRcdGlmICggbWFza0FjdGl2ZSApIHJlbmRlcmVyLmNvbnRleHQuZW5hYmxlKCByZW5kZXJlci5jb250ZXh0LlNURU5DSUxfVEVTVCApO1xuXG5cdFx0cmVuZGVyZXIucmVuZGVyKCB0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSwgcmVhZEJ1ZmZlciwgdGhpcy5jbGVhciApO1xuXG5cdH1cblxufTtcblxuVEhSRUUuQmxvb21QYXNzLmJsdXJYID0gbmV3IFRIUkVFLlZlY3RvcjIoIDAuMDAxOTUzMTI1LCAwLjAgKTtcblRIUkVFLkJsb29tUGFzcy5ibHVyWSA9IG5ldyBUSFJFRS5WZWN0b3IyKCAwLjAsIDAuMDAxOTUzMTI1ICk7XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKi9cblxuVEhSRUUuRWZmZWN0Q29tcG9zZXIgPSBmdW5jdGlvbiAoIHJlbmRlcmVyLCByZW5kZXJUYXJnZXQgKSB7XG5cblx0dGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG5cdGlmICggcmVuZGVyVGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHR2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCAxO1xuXHRcdHZhciBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMTtcblx0XHR2YXIgcGFyYW1ldGVycyA9IHsgbWluRmlsdGVyOiBUSFJFRS5MaW5lYXJGaWx0ZXIsIG1hZ0ZpbHRlcjogVEhSRUUuTGluZWFyRmlsdGVyLCBmb3JtYXQ6IFRIUkVFLlJHQkZvcm1hdCwgc3RlbmNpbEJ1ZmZlcjogZmFsc2UgfTtcblxuXHRcdHJlbmRlclRhcmdldCA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlclRhcmdldCggd2lkdGgsIGhlaWdodCwgcGFyYW1ldGVycyApO1xuXG5cdH1cblxuXHR0aGlzLnJlbmRlclRhcmdldDEgPSByZW5kZXJUYXJnZXQ7XG5cdHRoaXMucmVuZGVyVGFyZ2V0MiA9IHJlbmRlclRhcmdldC5jbG9uZSgpO1xuXG5cdHRoaXMud3JpdGVCdWZmZXIgPSB0aGlzLnJlbmRlclRhcmdldDE7XG5cdHRoaXMucmVhZEJ1ZmZlciA9IHRoaXMucmVuZGVyVGFyZ2V0MjtcblxuXHR0aGlzLnBhc3NlcyA9IFtdO1xuXG5cdGlmICggVEhSRUUuQ29weVNoYWRlciA9PT0gdW5kZWZpbmVkIClcblx0XHRjb25zb2xlLmVycm9yKCBcIlRIUkVFLkVmZmVjdENvbXBvc2VyIHJlbGllcyBvbiBUSFJFRS5Db3B5U2hhZGVyXCIgKTtcblxuXHR0aGlzLmNvcHlQYXNzID0gbmV3IFRIUkVFLlNoYWRlclBhc3MoIFRIUkVFLkNvcHlTaGFkZXIgKTtcblxufTtcblxuVEhSRUUuRWZmZWN0Q29tcG9zZXIucHJvdG90eXBlID0ge1xuXG5cdHN3YXBCdWZmZXJzOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciB0bXAgPSB0aGlzLnJlYWRCdWZmZXI7XG5cdFx0dGhpcy5yZWFkQnVmZmVyID0gdGhpcy53cml0ZUJ1ZmZlcjtcblx0XHR0aGlzLndyaXRlQnVmZmVyID0gdG1wO1xuXG5cdH0sXG5cblx0YWRkUGFzczogZnVuY3Rpb24gKCBwYXNzICkge1xuXG5cdFx0dGhpcy5wYXNzZXMucHVzaCggcGFzcyApO1xuXG5cdH0sXG5cblx0aW5zZXJ0UGFzczogZnVuY3Rpb24gKCBwYXNzLCBpbmRleCApIHtcblxuXHRcdHRoaXMucGFzc2VzLnNwbGljZSggaW5kZXgsIDAsIHBhc3MgKTtcblxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24gKCBkZWx0YSApIHtcblxuXHRcdHRoaXMud3JpdGVCdWZmZXIgPSB0aGlzLnJlbmRlclRhcmdldDE7XG5cdFx0dGhpcy5yZWFkQnVmZmVyID0gdGhpcy5yZW5kZXJUYXJnZXQyO1xuXG5cdFx0dmFyIG1hc2tBY3RpdmUgPSBmYWxzZTtcblxuXHRcdHZhciBwYXNzLCBpLCBpbCA9IHRoaXMucGFzc2VzLmxlbmd0aDtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdHBhc3MgPSB0aGlzLnBhc3Nlc1sgaSBdO1xuXG5cdFx0XHRpZiAoICFwYXNzLmVuYWJsZWQgKSBjb250aW51ZTtcblxuXHRcdFx0cGFzcy5yZW5kZXIoIHRoaXMucmVuZGVyZXIsIHRoaXMud3JpdGVCdWZmZXIsIHRoaXMucmVhZEJ1ZmZlciwgZGVsdGEsIG1hc2tBY3RpdmUgKTtcblxuXHRcdFx0aWYgKCBwYXNzLm5lZWRzU3dhcCApIHtcblxuXHRcdFx0XHRpZiAoIG1hc2tBY3RpdmUgKSB7XG5cblx0XHRcdFx0XHR2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcblxuXHRcdFx0XHRcdGNvbnRleHQuc3RlbmNpbEZ1bmMoIGNvbnRleHQuTk9URVFVQUwsIDEsIDB4ZmZmZmZmZmYgKTtcblxuXHRcdFx0XHRcdHRoaXMuY29weVBhc3MucmVuZGVyKCB0aGlzLnJlbmRlcmVyLCB0aGlzLndyaXRlQnVmZmVyLCB0aGlzLnJlYWRCdWZmZXIsIGRlbHRhICk7XG5cblx0XHRcdFx0XHRjb250ZXh0LnN0ZW5jaWxGdW5jKCBjb250ZXh0LkVRVUFMLCAxLCAweGZmZmZmZmZmICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuc3dhcEJ1ZmZlcnMoKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHBhc3MgaW5zdGFuY2VvZiBUSFJFRS5NYXNrUGFzcyApIHtcblxuXHRcdFx0XHRtYXNrQWN0aXZlID0gdHJ1ZTtcblxuXHRcdFx0fSBlbHNlIGlmICggcGFzcyBpbnN0YW5jZW9mIFRIUkVFLkNsZWFyTWFza1Bhc3MgKSB7XG5cblx0XHRcdFx0bWFza0FjdGl2ZSA9IGZhbHNlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fSxcblxuXHRyZXNldDogZnVuY3Rpb24gKCByZW5kZXJUYXJnZXQgKSB7XG5cblx0XHRpZiAoIHJlbmRlclRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRyZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlclRhcmdldDEuY2xvbmUoKTtcblxuXHRcdFx0cmVuZGVyVGFyZ2V0LndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0XHRyZW5kZXJUYXJnZXQuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5yZW5kZXJUYXJnZXQxID0gcmVuZGVyVGFyZ2V0O1xuXHRcdHRoaXMucmVuZGVyVGFyZ2V0MiA9IHJlbmRlclRhcmdldC5jbG9uZSgpO1xuXG5cdFx0dGhpcy53cml0ZUJ1ZmZlciA9IHRoaXMucmVuZGVyVGFyZ2V0MTtcblx0XHR0aGlzLnJlYWRCdWZmZXIgPSB0aGlzLnJlbmRlclRhcmdldDI7XG5cblx0fSxcblxuXHRzZXRTaXplOiBmdW5jdGlvbiAoIHdpZHRoLCBoZWlnaHQgKSB7XG5cblx0XHR2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJUYXJnZXQxLmNsb25lKCk7XG5cblx0XHRyZW5kZXJUYXJnZXQud2lkdGggPSB3aWR0aDtcblx0XHRyZW5kZXJUYXJnZXQuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cdFx0dGhpcy5yZXNldCggcmVuZGVyVGFyZ2V0ICk7XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICovXG5cblRIUkVFLkZpbG1QYXNzID0gZnVuY3Rpb24gKCBub2lzZUludGVuc2l0eSwgc2NhbmxpbmVzSW50ZW5zaXR5LCBzY2FubGluZXNDb3VudCwgZ3JheXNjYWxlICkge1xuXG5cdGlmICggVEhSRUUuRmlsbVNoYWRlciA9PT0gdW5kZWZpbmVkIClcblx0XHRjb25zb2xlLmVycm9yKCBcIlRIUkVFLkZpbG1QYXNzIHJlbGllcyBvbiBUSFJFRS5GaWxtU2hhZGVyXCIgKTtcblxuXHR2YXIgc2hhZGVyID0gVEhSRUUuRmlsbVNoYWRlcjtcblxuXHR0aGlzLnVuaWZvcm1zID0gVEhSRUUuVW5pZm9ybXNVdGlscy5jbG9uZSggc2hhZGVyLnVuaWZvcm1zICk7XG5cblx0dGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuXG5cdFx0dW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG5cdFx0dmVydGV4U2hhZGVyOiBzaGFkZXIudmVydGV4U2hhZGVyLFxuXHRcdGZyYWdtZW50U2hhZGVyOiBzaGFkZXIuZnJhZ21lbnRTaGFkZXJcblxuXHR9ICk7XG5cblx0aWYgKCBncmF5c2NhbGUgIT09IHVuZGVmaW5lZCApXHR0aGlzLnVuaWZvcm1zLmdyYXlzY2FsZS52YWx1ZSA9IGdyYXlzY2FsZTtcblx0aWYgKCBub2lzZUludGVuc2l0eSAhPT0gdW5kZWZpbmVkICkgdGhpcy51bmlmb3Jtcy5uSW50ZW5zaXR5LnZhbHVlID0gbm9pc2VJbnRlbnNpdHk7XG5cdGlmICggc2NhbmxpbmVzSW50ZW5zaXR5ICE9PSB1bmRlZmluZWQgKSB0aGlzLnVuaWZvcm1zLnNJbnRlbnNpdHkudmFsdWUgPSBzY2FubGluZXNJbnRlbnNpdHk7XG5cdGlmICggc2NhbmxpbmVzQ291bnQgIT09IHVuZGVmaW5lZCApIHRoaXMudW5pZm9ybXMuc0NvdW50LnZhbHVlID0gc2NhbmxpbmVzQ291bnQ7XG5cblx0dGhpcy5lbmFibGVkID0gdHJ1ZTtcblx0dGhpcy5yZW5kZXJUb1NjcmVlbiA9IGZhbHNlO1xuXHR0aGlzLm5lZWRzU3dhcCA9IHRydWU7XG5cblxuXHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoIC0xLCAxLCAxLCAtMSwgMCwgMSApO1xuXHR0aGlzLnNjZW5lICA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG5cdHRoaXMucXVhZCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSggMiwgMiApLCBudWxsICk7XG5cdHRoaXMuc2NlbmUuYWRkKCB0aGlzLnF1YWQgKTtcblxufTtcblxuVEhSRUUuRmlsbVBhc3MucHJvdG90eXBlID0ge1xuXG5cdHJlbmRlcjogZnVuY3Rpb24gKCByZW5kZXJlciwgd3JpdGVCdWZmZXIsIHJlYWRCdWZmZXIsIGRlbHRhICkge1xuXG5cdFx0dGhpcy51bmlmb3Jtc1sgXCJ0RGlmZnVzZVwiIF0udmFsdWUgPSByZWFkQnVmZmVyO1xuXHRcdHRoaXMudW5pZm9ybXNbIFwidGltZVwiIF0udmFsdWUgKz0gZGVsdGE7XG5cblx0XHR0aGlzLnF1YWQubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuXG5cdFx0aWYgKCB0aGlzLnJlbmRlclRvU2NyZWVuICkge1xuXG5cdFx0XHRyZW5kZXJlci5yZW5kZXIoIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZW5kZXJlci5yZW5kZXIoIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLCB3cml0ZUJ1ZmZlciwgZmFsc2UgKTtcblxuXHRcdH1cblxuXHR9XG5cbn07XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKi9cblxuVEhSRUUuTWFza1Bhc3MgPSBmdW5jdGlvbiAoIHNjZW5lLCBjYW1lcmEgKSB7XG5cblx0dGhpcy5zY2VuZSA9IHNjZW5lO1xuXHR0aGlzLmNhbWVyYSA9IGNhbWVyYTtcblxuXHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXHR0aGlzLmNsZWFyID0gdHJ1ZTtcblx0dGhpcy5uZWVkc1N3YXAgPSBmYWxzZTtcblxuXHR0aGlzLmludmVyc2UgPSBmYWxzZTtcblxufTtcblxuVEhSRUUuTWFza1Bhc3MucHJvdG90eXBlID0ge1xuXG5cdHJlbmRlcjogZnVuY3Rpb24gKCByZW5kZXJlciwgd3JpdGVCdWZmZXIsIHJlYWRCdWZmZXIsIGRlbHRhICkge1xuXG5cdFx0dmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG5cdFx0Ly8gZG9uJ3QgdXBkYXRlIGNvbG9yIG9yIGRlcHRoXG5cblx0XHRjb250ZXh0LmNvbG9yTWFzayggZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UgKTtcblx0XHRjb250ZXh0LmRlcHRoTWFzayggZmFsc2UgKTtcblxuXHRcdC8vIHNldCB1cCBzdGVuY2lsXG5cblx0XHR2YXIgd3JpdGVWYWx1ZSwgY2xlYXJWYWx1ZTtcblxuXHRcdGlmICggdGhpcy5pbnZlcnNlICkge1xuXG5cdFx0XHR3cml0ZVZhbHVlID0gMDtcblx0XHRcdGNsZWFyVmFsdWUgPSAxO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0d3JpdGVWYWx1ZSA9IDE7XG5cdFx0XHRjbGVhclZhbHVlID0gMDtcblxuXHRcdH1cblxuXHRcdGNvbnRleHQuZW5hYmxlKCBjb250ZXh0LlNURU5DSUxfVEVTVCApO1xuXHRcdGNvbnRleHQuc3RlbmNpbE9wKCBjb250ZXh0LlJFUExBQ0UsIGNvbnRleHQuUkVQTEFDRSwgY29udGV4dC5SRVBMQUNFICk7XG5cdFx0Y29udGV4dC5zdGVuY2lsRnVuYyggY29udGV4dC5BTFdBWVMsIHdyaXRlVmFsdWUsIDB4ZmZmZmZmZmYgKTtcblx0XHRjb250ZXh0LmNsZWFyU3RlbmNpbCggY2xlYXJWYWx1ZSApO1xuXG5cdFx0Ly8gZHJhdyBpbnRvIHRoZSBzdGVuY2lsIGJ1ZmZlclxuXG5cdFx0cmVuZGVyZXIucmVuZGVyKCB0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSwgcmVhZEJ1ZmZlciwgdGhpcy5jbGVhciApO1xuXHRcdHJlbmRlcmVyLnJlbmRlciggdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEsIHdyaXRlQnVmZmVyLCB0aGlzLmNsZWFyICk7XG5cblx0XHQvLyByZS1lbmFibGUgdXBkYXRlIG9mIGNvbG9yIGFuZCBkZXB0aFxuXG5cdFx0Y29udGV4dC5jb2xvck1hc2soIHRydWUsIHRydWUsIHRydWUsIHRydWUgKTtcblx0XHRjb250ZXh0LmRlcHRoTWFzayggdHJ1ZSApO1xuXG5cdFx0Ly8gb25seSByZW5kZXIgd2hlcmUgc3RlbmNpbCBpcyBzZXQgdG8gMVxuXG5cdFx0Y29udGV4dC5zdGVuY2lsRnVuYyggY29udGV4dC5FUVVBTCwgMSwgMHhmZmZmZmZmZiApOyAgLy8gZHJhdyBpZiA9PSAxXG5cdFx0Y29udGV4dC5zdGVuY2lsT3AoIGNvbnRleHQuS0VFUCwgY29udGV4dC5LRUVQLCBjb250ZXh0LktFRVAgKTtcblxuXHR9XG5cbn07XG5cblxuVEhSRUUuQ2xlYXJNYXNrUGFzcyA9IGZ1bmN0aW9uICgpIHtcblxuXHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG59O1xuXG5USFJFRS5DbGVhck1hc2tQYXNzLnByb3RvdHlwZSA9IHtcblxuXHRyZW5kZXI6IGZ1bmN0aW9uICggcmVuZGVyZXIsIHdyaXRlQnVmZmVyLCByZWFkQnVmZmVyLCBkZWx0YSApIHtcblxuXHRcdHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuXHRcdGNvbnRleHQuZGlzYWJsZSggY29udGV4dC5TVEVOQ0lMX1RFU1QgKTtcblxuXHR9XG5cbn07XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKi9cblxuVEhSRUUuUmVuZGVyUGFzcyA9IGZ1bmN0aW9uICggc2NlbmUsIGNhbWVyYSwgb3ZlcnJpZGVNYXRlcmlhbCwgY2xlYXJDb2xvciwgY2xlYXJBbHBoYSApIHtcblxuXHR0aGlzLnNjZW5lID0gc2NlbmU7XG5cdHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuXG5cdHRoaXMub3ZlcnJpZGVNYXRlcmlhbCA9IG92ZXJyaWRlTWF0ZXJpYWw7XG5cblx0dGhpcy5jbGVhckNvbG9yID0gY2xlYXJDb2xvcjtcblx0dGhpcy5jbGVhckFscGhhID0gKCBjbGVhckFscGhhICE9PSB1bmRlZmluZWQgKSA/IGNsZWFyQWxwaGEgOiAxO1xuXG5cdHRoaXMub2xkQ2xlYXJDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xuXHR0aGlzLm9sZENsZWFyQWxwaGEgPSAxO1xuXG5cdHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cdHRoaXMuY2xlYXIgPSB0cnVlO1xuXHR0aGlzLm5lZWRzU3dhcCA9IGZhbHNlO1xuXG59O1xuXG5USFJFRS5SZW5kZXJQYXNzLnByb3RvdHlwZSA9IHtcblxuXHRyZW5kZXI6IGZ1bmN0aW9uICggcmVuZGVyZXIsIHdyaXRlQnVmZmVyLCByZWFkQnVmZmVyLCBkZWx0YSApIHtcblxuXHRcdHRoaXMuc2NlbmUub3ZlcnJpZGVNYXRlcmlhbCA9IHRoaXMub3ZlcnJpZGVNYXRlcmlhbDtcblxuXHRcdGlmICggdGhpcy5jbGVhckNvbG9yICkge1xuXG5cdFx0XHR0aGlzLm9sZENsZWFyQ29sb3IuY29weSggcmVuZGVyZXIuZ2V0Q2xlYXJDb2xvcigpICk7XG5cdFx0XHR0aGlzLm9sZENsZWFyQWxwaGEgPSByZW5kZXJlci5nZXRDbGVhckFscGhhKCk7XG5cblx0XHRcdHJlbmRlcmVyLnNldENsZWFyQ29sb3IoIHRoaXMuY2xlYXJDb2xvciwgdGhpcy5jbGVhckFscGhhICk7XG5cblx0XHR9XG5cblx0XHRyZW5kZXJlci5yZW5kZXIoIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLCByZWFkQnVmZmVyLCB0aGlzLmNsZWFyICk7XG5cblx0XHRpZiAoIHRoaXMuY2xlYXJDb2xvciApIHtcblxuXHRcdFx0cmVuZGVyZXIuc2V0Q2xlYXJDb2xvciggdGhpcy5vbGRDbGVhckNvbG9yLCB0aGlzLm9sZENsZWFyQWxwaGEgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuc2NlbmUub3ZlcnJpZGVNYXRlcmlhbCA9IG51bGw7XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICpcbiAqIFNjcmVlbi1zcGFjZSBhbWJpZW50IG9jY2x1c2lvbiBzaGFkZXJcbiAqIC0gcG9ydGVkIGZyb21cbiAqICAgU1NBTyBHTFNMIHNoYWRlciB2MS4yXG4gKiAgIGFzc2VtYmxlZCBieSBNYXJ0aW5zIFVwaXRpcyAobWFydGluc2gpIChodHRwOi8vZGV2bG9nLW1hcnRpbnNoLmJsb2dzcG90LmNvbSlcbiAqICAgb3JpZ2luYWwgdGVjaG5pcXVlIGlzIG1hZGUgYnkgQXJLYW5vMjIgKGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvdG9waWMvNTUwNjk5LXNzYW8tbm8taGFsby1hcnRpZmFjdHMvKVxuICogLSBtb2RpZmljYXRpb25zXG4gKiAtIG1vZGlmaWVkIHRvIHVzZSBSR0JBIHBhY2tlZCBkZXB0aCB0ZXh0dXJlICh1c2UgY2xlYXIgY29sb3IgMSwxLDEsMSBmb3IgZGVwdGggcGFzcylcbiAqIC0gcmVmYWN0b3JpbmcgYW5kIG9wdGltaXphdGlvbnNcbiAqL1xuXG5USFJFRS5TU0FPU2hhZGVyID0ge1xuXG5cdHVuaWZvcm1zOiB7XG5cblx0XHRcInREaWZmdXNlXCI6ICAgICB7IHR5cGU6IFwidFwiLCB2YWx1ZTogbnVsbCB9LFxuXHRcdFwidERlcHRoXCI6ICAgICAgIHsgdHlwZTogXCJ0XCIsIHZhbHVlOiBudWxsIH0sXG5cdFx0XCJzaXplXCI6ICAgICAgICAgeyB0eXBlOiBcInYyXCIsIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMiggNTEyLCA1MTIgKSB9LFxuXHRcdFwiY2FtZXJhTmVhclwiOiAgIHsgdHlwZTogXCJmXCIsIHZhbHVlOiAxIH0sXG5cdFx0XCJjYW1lcmFGYXJcIjogICAgeyB0eXBlOiBcImZcIiwgdmFsdWU6IDEwMCB9LFxuXHRcdFwib25seUFPXCI6ICAgICAgIHsgdHlwZTogXCJpXCIsIHZhbHVlOiAwIH0sXG5cdFx0XCJhb0NsYW1wXCI6ICAgICAgeyB0eXBlOiBcImZcIiwgdmFsdWU6IDAuNSB9LFxuXHRcdFwibHVtSW5mbHVlbmNlXCI6IHsgdHlwZTogXCJmXCIsIHZhbHVlOiAwLjUgfVxuXG5cdH0sXG5cblx0dmVydGV4U2hhZGVyOiBbXG5cblx0XHRcInZhcnlpbmcgdmVjMiB2VXY7XCIsXG5cblx0XHRcInZvaWQgbWFpbigpIHtcIixcblxuXHRcdFx0XCJ2VXYgPSB1djtcIixcblxuXHRcdFx0XCJnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXG5cblx0XHRcIn1cIlxuXG5cdF0uam9pbihcIlxcblwiKSxcblxuXHRmcmFnbWVudFNoYWRlcjogW1xuXG5cdFx0XCJ1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XCIsXG5cdFx0XCJ1bmlmb3JtIGZsb2F0IGNhbWVyYUZhcjtcIixcblxuXHRcdFwidW5pZm9ybSBib29sIG9ubHlBTztcIiwgICAgICAvLyB1c2Ugb25seSBhbWJpZW50IG9jY2x1c2lvbiBwYXNzP1xuXG5cdFx0XCJ1bmlmb3JtIHZlYzIgc2l6ZTtcIiwgICAgICAgIC8vIHRleHR1cmUgd2lkdGgsIGhlaWdodFxuXHRcdFwidW5pZm9ybSBmbG9hdCBhb0NsYW1wO1wiLCAgICAvLyBkZXB0aCBjbGFtcCAtIHJlZHVjZXMgaGFsb2luZyBhdCBzY3JlZW4gZWRnZXNcblxuXHRcdFwidW5pZm9ybSBmbG9hdCBsdW1JbmZsdWVuY2U7XCIsICAvLyBob3cgbXVjaCBsdW1pbmFuY2UgYWZmZWN0cyBvY2NsdXNpb25cblxuXHRcdFwidW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2U7XCIsXG5cdFx0XCJ1bmlmb3JtIHNhbXBsZXIyRCB0RGVwdGg7XCIsXG5cblx0XHRcInZhcnlpbmcgdmVjMiB2VXY7XCIsXG5cblx0XHQvLyBcIiNkZWZpbmUgUEkgMy4xNDE1OTI2NVwiLFxuXHRcdFwiI2RlZmluZSBETCAyLjM5OTk2MzIyOTcyODY1M1wiLCAgLy8gUEkgKiAoIDMuMCAtIHNxcnQoIDUuMCApIClcblx0XHRcIiNkZWZpbmUgRVVMRVIgMi43MTgyODE4Mjg0NTkwNDVcIixcblxuXHRcdC8vIGhlbHBlcnNcblxuXHRcdFwiZmxvYXQgd2lkdGggPSBzaXplLng7XCIsICAgLy8gdGV4dHVyZSB3aWR0aFxuXHRcdFwiZmxvYXQgaGVpZ2h0ID0gc2l6ZS55O1wiLCAgLy8gdGV4dHVyZSBoZWlnaHRcblxuXHRcdFwiZmxvYXQgY2FtZXJhRmFyUGx1c05lYXIgPSBjYW1lcmFGYXIgKyBjYW1lcmFOZWFyO1wiLFxuXHRcdFwiZmxvYXQgY2FtZXJhRmFyTWludXNOZWFyID0gY2FtZXJhRmFyIC0gY2FtZXJhTmVhcjtcIixcblx0XHRcImZsb2F0IGNhbWVyYUNvZWYgPSAyLjAgKiBjYW1lcmFOZWFyO1wiLFxuXG5cdFx0Ly8gdXNlciB2YXJpYWJsZXNcblxuXHRcdFwiY29uc3QgaW50IHNhbXBsZXMgPSA4O1wiLCAgICAgLy8gYW8gc2FtcGxlIGNvdW50XG5cdFx0XCJjb25zdCBmbG9hdCByYWRpdXMgPSA1LjA7XCIsICAvLyBhbyByYWRpdXNcblxuXHRcdFwiY29uc3QgYm9vbCB1c2VOb2lzZSA9IGZhbHNlO1wiLCAgICAgIC8vIHVzZSBub2lzZSBpbnN0ZWFkIG9mIHBhdHRlcm4gZm9yIHNhbXBsZSBkaXRoZXJpbmdcblx0XHRcImNvbnN0IGZsb2F0IG5vaXNlQW1vdW50ID0gMC4wMDAzO1wiLCAvLyBkaXRoZXJpbmcgYW1vdW50XG5cblx0XHRcImNvbnN0IGZsb2F0IGRpZmZBcmVhID0gMC40O1wiLCAgIC8vIHNlbGYtc2hhZG93aW5nIHJlZHVjdGlvblxuXHRcdFwiY29uc3QgZmxvYXQgZ0Rpc3BsYWNlID0gMC40O1wiLCAgLy8gZ2F1c3MgYmVsbCBjZW50ZXJcblxuXG5cdFx0Ly8gUkdCQSBkZXB0aFxuXG5cdFx0XCJmbG9hdCB1bnBhY2tEZXB0aCggY29uc3QgaW4gdmVjNCByZ2JhX2RlcHRoICkge1wiLFxuXG5cdFx0XHRcImNvbnN0IHZlYzQgYml0X3NoaWZ0ID0gdmVjNCggMS4wIC8gKCAyNTYuMCAqIDI1Ni4wICogMjU2LjAgKSwgMS4wIC8gKCAyNTYuMCAqIDI1Ni4wICksIDEuMCAvIDI1Ni4wLCAxLjAgKTtcIixcblx0XHRcdFwiZmxvYXQgZGVwdGggPSBkb3QoIHJnYmFfZGVwdGgsIGJpdF9zaGlmdCApO1wiLFxuXHRcdFx0XCJyZXR1cm4gZGVwdGg7XCIsXG5cblx0XHRcIn1cIixcblxuXHRcdC8vIGdlbmVyYXRpbmcgbm9pc2UgLyBwYXR0ZXJuIHRleHR1cmUgZm9yIGRpdGhlcmluZ1xuXG5cdFx0XCJ2ZWMyIHJhbmQoIGNvbnN0IHZlYzIgY29vcmQgKSB7XCIsXG5cblx0XHRcdFwidmVjMiBub2lzZTtcIixcblxuXHRcdFx0XCJpZiAoIHVzZU5vaXNlICkge1wiLFxuXG5cdFx0XHRcdFwiZmxvYXQgbnggPSBkb3QgKCBjb29yZCwgdmVjMiggMTIuOTg5OCwgNzguMjMzICkgKTtcIixcblx0XHRcdFx0XCJmbG9hdCBueSA9IGRvdCAoIGNvb3JkLCB2ZWMyKCAxMi45ODk4LCA3OC4yMzMgKSAqIDIuMCApO1wiLFxuXG5cdFx0XHRcdFwibm9pc2UgPSBjbGFtcCggZnJhY3QgKCA0Mzc1OC41NDUzICogc2luKCB2ZWMyKCBueCwgbnkgKSApICksIDAuMCwgMS4wICk7XCIsXG5cblx0XHRcdFwifSBlbHNlIHtcIixcblxuXHRcdFx0XHRcImZsb2F0IGZmID0gZnJhY3QoIDEuMCAtIGNvb3JkLnMgKiAoIHdpZHRoIC8gMi4wICkgKTtcIixcblx0XHRcdFx0XCJmbG9hdCBnZyA9IGZyYWN0KCBjb29yZC50ICogKCBoZWlnaHQgLyAyLjAgKSApO1wiLFxuXG5cdFx0XHRcdFwibm9pc2UgPSB2ZWMyKCAwLjI1LCAwLjc1ICkgKiB2ZWMyKCBmZiApICsgdmVjMiggMC43NSwgMC4yNSApICogZ2c7XCIsXG5cblx0XHRcdFwifVwiLFxuXG5cdFx0XHRcInJldHVybiAoIG5vaXNlICogMi4wICAtIDEuMCApICogbm9pc2VBbW91bnQ7XCIsXG5cblx0XHRcIn1cIixcblxuXHRcdFwiZmxvYXQgcmVhZERlcHRoKCBjb25zdCBpbiB2ZWMyIGNvb3JkICkge1wiLFxuXG5cdFx0XHQvLyBcInJldHVybiAoIDIuMCAqIGNhbWVyYU5lYXIgKSAvICggY2FtZXJhRmFyICsgY2FtZXJhTmVhciAtIHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHREZXB0aCwgY29vcmQgKSApICogKCBjYW1lcmFGYXIgLSBjYW1lcmFOZWFyICkgKTtcIixcblx0XHRcdFwicmV0dXJuIGNhbWVyYUNvZWYgLyAoIGNhbWVyYUZhclBsdXNOZWFyIC0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggdERlcHRoLCBjb29yZCApICkgKiBjYW1lcmFGYXJNaW51c05lYXIgKTtcIixcblxuXG5cdFx0XCJ9XCIsXG5cblx0XHRcImZsb2F0IGNvbXBhcmVEZXB0aHMoIGNvbnN0IGluIGZsb2F0IGRlcHRoMSwgY29uc3QgaW4gZmxvYXQgZGVwdGgyLCBpbm91dCBpbnQgZmFyICkge1wiLFxuXG5cdFx0XHRcImZsb2F0IGdhcmVhID0gMi4wO1wiLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnYXVzcyBiZWxsIHdpZHRoXG5cdFx0XHRcImZsb2F0IGRpZmYgPSAoIGRlcHRoMSAtIGRlcHRoMiApICogMTAwLjA7XCIsICAvLyBkZXB0aCBkaWZmZXJlbmNlICgwLTEwMClcblxuXHRcdFx0Ly8gcmVkdWNlIGxlZnQgYmVsbCB3aWR0aCB0byBhdm9pZCBzZWxmLXNoYWRvd2luZ1xuXG5cdFx0XHRcImlmICggZGlmZiA8IGdEaXNwbGFjZSApIHtcIixcblxuXHRcdFx0XHRcImdhcmVhID0gZGlmZkFyZWE7XCIsXG5cblx0XHRcdFwifSBlbHNlIHtcIixcblxuXHRcdFx0XHRcImZhciA9IDE7XCIsXG5cblx0XHRcdFwifVwiLFxuXG5cdFx0XHRcImZsb2F0IGRkID0gZGlmZiAtIGdEaXNwbGFjZTtcIixcblx0XHRcdFwiZmxvYXQgZ2F1c3MgPSBwb3coIEVVTEVSLCAtMi4wICogZGQgKiBkZCAvICggZ2FyZWEgKiBnYXJlYSApICk7XCIsXG5cdFx0XHRcInJldHVybiBnYXVzcztcIixcblxuXHRcdFwifVwiLFxuXG5cdFx0XCJmbG9hdCBjYWxjQU8oIGZsb2F0IGRlcHRoLCBmbG9hdCBkdywgZmxvYXQgZGggKSB7XCIsXG5cblx0XHRcdFwiZmxvYXQgZGQgPSByYWRpdXMgLSBkZXB0aCAqIHJhZGl1cztcIixcblx0XHRcdFwidmVjMiB2diA9IHZlYzIoIGR3LCBkaCApO1wiLFxuXG5cdFx0XHRcInZlYzIgY29vcmQxID0gdlV2ICsgZGQgKiB2djtcIixcblx0XHRcdFwidmVjMiBjb29yZDIgPSB2VXYgLSBkZCAqIHZ2O1wiLFxuXG5cdFx0XHRcImZsb2F0IHRlbXAxID0gMC4wO1wiLFxuXHRcdFx0XCJmbG9hdCB0ZW1wMiA9IDAuMDtcIixcblxuXHRcdFx0XCJpbnQgZmFyID0gMDtcIixcblx0XHRcdFwidGVtcDEgPSBjb21wYXJlRGVwdGhzKCBkZXB0aCwgcmVhZERlcHRoKCBjb29yZDEgKSwgZmFyICk7XCIsXG5cblx0XHRcdC8vIERFUFRIIEVYVFJBUE9MQVRJT05cblxuXHRcdFx0XCJpZiAoIGZhciA+IDAgKSB7XCIsXG5cblx0XHRcdFx0XCJ0ZW1wMiA9IGNvbXBhcmVEZXB0aHMoIHJlYWREZXB0aCggY29vcmQyICksIGRlcHRoLCBmYXIgKTtcIixcblx0XHRcdFx0XCJ0ZW1wMSArPSAoIDEuMCAtIHRlbXAxICkgKiB0ZW1wMjtcIixcblxuXHRcdFx0XCJ9XCIsXG5cblx0XHRcdFwicmV0dXJuIHRlbXAxO1wiLFxuXG5cdFx0XCJ9XCIsXG5cblx0XHRcInZvaWQgbWFpbigpIHtcIixcblxuXHRcdFx0XCJ2ZWMyIG5vaXNlID0gcmFuZCggdlV2ICk7XCIsXG5cdFx0XHRcImZsb2F0IGRlcHRoID0gcmVhZERlcHRoKCB2VXYgKTtcIixcblxuXHRcdFx0XCJmbG9hdCB0dCA9IGNsYW1wKCBkZXB0aCwgYW9DbGFtcCwgMS4wICk7XCIsXG5cblx0XHRcdFwiZmxvYXQgdyA9ICggMS4wIC8gd2lkdGggKSAgLyB0dCArICggbm9pc2UueCAqICggMS4wIC0gbm9pc2UueCApICk7XCIsXG5cdFx0XHRcImZsb2F0IGggPSAoIDEuMCAvIGhlaWdodCApIC8gdHQgKyAoIG5vaXNlLnkgKiAoIDEuMCAtIG5vaXNlLnkgKSApO1wiLFxuXG5cdFx0XHRcImZsb2F0IGFvID0gMC4wO1wiLFxuXG5cdFx0XHRcImZsb2F0IGR6ID0gMS4wIC8gZmxvYXQoIHNhbXBsZXMgKTtcIixcblx0XHRcdFwiZmxvYXQgeiA9IDEuMCAtIGR6IC8gMi4wO1wiLFxuXHRcdFx0XCJmbG9hdCBsID0gMC4wO1wiLFxuXG5cdFx0XHRcImZvciAoIGludCBpID0gMDsgaSA8PSBzYW1wbGVzOyBpICsrICkge1wiLFxuXG5cdFx0XHRcdFwiZmxvYXQgciA9IHNxcnQoIDEuMCAtIHogKTtcIixcblxuXHRcdFx0XHRcImZsb2F0IHB3ID0gY29zKCBsICkgKiByO1wiLFxuXHRcdFx0XHRcImZsb2F0IHBoID0gc2luKCBsICkgKiByO1wiLFxuXHRcdFx0XHRcImFvICs9IGNhbGNBTyggZGVwdGgsIHB3ICogdywgcGggKiBoICk7XCIsXG5cdFx0XHRcdFwieiA9IHogLSBkejtcIixcblx0XHRcdFx0XCJsID0gbCArIERMO1wiLFxuXG5cdFx0XHRcIn1cIixcblxuXHRcdFx0XCJhbyAvPSBmbG9hdCggc2FtcGxlcyApO1wiLFxuXHRcdFx0XCJhbyA9IDEuMCAtIGFvO1wiLFxuXG5cdFx0XHRcInZlYzMgY29sb3IgPSB0ZXh0dXJlMkQoIHREaWZmdXNlLCB2VXYgKS5yZ2I7XCIsXG5cblx0XHRcdFwidmVjMyBsdW1jb2VmZiA9IHZlYzMoIDAuMjk5LCAwLjU4NywgMC4xMTQgKTtcIixcblx0XHRcdFwiZmxvYXQgbHVtID0gZG90KCBjb2xvci5yZ2IsIGx1bWNvZWZmICk7XCIsXG5cdFx0XHRcInZlYzMgbHVtaW5hbmNlID0gdmVjMyggbHVtICk7XCIsXG5cblx0XHRcdFwidmVjMyBmaW5hbCA9IHZlYzMoIGNvbG9yICogbWl4KCB2ZWMzKCBhbyApLCB2ZWMzKCAxLjAgKSwgbHVtaW5hbmNlICogbHVtSW5mbHVlbmNlICkgKTtcIiwgIC8vIG1peCggY29sb3IgKiBhbywgd2hpdGUsIGx1bWluYW5jZSApXG5cblx0XHRcdFwiaWYgKCBvbmx5QU8gKSB7XCIsXG5cblx0XHRcdFx0XCJmaW5hbCA9IHZlYzMoIG1peCggdmVjMyggYW8gKSwgdmVjMyggMS4wICksIGx1bWluYW5jZSAqIGx1bUluZmx1ZW5jZSApICk7XCIsICAvLyBhbWJpZW50IG9jY2x1c2lvbiBvbmx5XG5cblx0XHRcdFwifVwiLFxuXG5cdFx0XHRcImdsX0ZyYWdDb2xvciA9IHZlYzQoIGZpbmFsLCAxLjAgKTtcIixcblxuXHRcdFwifVwiXG5cblx0XS5qb2luKFwiXFxuXCIpXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVEhSRUUuU1NBT1NoYWRlciIsIi8qKlxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqL1xuXG5USFJFRS5TaGFkZXJQYXNzID0gZnVuY3Rpb24gKCBzaGFkZXIsIHRleHR1cmVJRCApIHtcblxuXHR0aGlzLnRleHR1cmVJRCA9ICggdGV4dHVyZUlEICE9PSB1bmRlZmluZWQgKSA/IHRleHR1cmVJRCA6IFwidERpZmZ1c2VcIjtcblxuXHR0aGlzLnVuaWZvcm1zID0gVEhSRUUuVW5pZm9ybXNVdGlscy5jbG9uZSggc2hhZGVyLnVuaWZvcm1zICk7XG5cblx0dGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuXG5cdFx0dW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG5cdFx0dmVydGV4U2hhZGVyOiBzaGFkZXIudmVydGV4U2hhZGVyLFxuXHRcdGZyYWdtZW50U2hhZGVyOiBzaGFkZXIuZnJhZ21lbnRTaGFkZXJcblxuXHR9ICk7XG5cblx0dGhpcy5yZW5kZXJUb1NjcmVlbiA9IGZhbHNlO1xuXG5cdHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cdHRoaXMubmVlZHNTd2FwID0gdHJ1ZTtcblx0dGhpcy5jbGVhciA9IGZhbHNlO1xuXG5cblx0dGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKCAtMSwgMSwgMSwgLTEsIDAsIDEgKTtcblx0dGhpcy5zY2VuZSAgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuXHR0aGlzLnF1YWQgPSBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoIDIsIDIgKSwgbnVsbCApO1xuXHR0aGlzLnNjZW5lLmFkZCggdGhpcy5xdWFkICk7XG5cbn07XG5cblRIUkVFLlNoYWRlclBhc3MucHJvdG90eXBlID0ge1xuXG5cdHJlbmRlcjogZnVuY3Rpb24gKCByZW5kZXJlciwgd3JpdGVCdWZmZXIsIHJlYWRCdWZmZXIsIGRlbHRhICkge1xuXG5cdFx0aWYgKCB0aGlzLnVuaWZvcm1zWyB0aGlzLnRleHR1cmVJRCBdICkge1xuXG5cdFx0XHR0aGlzLnVuaWZvcm1zWyB0aGlzLnRleHR1cmVJRCBdLnZhbHVlID0gcmVhZEJ1ZmZlcjtcblxuXHRcdH1cblxuXHRcdHRoaXMucXVhZC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG5cblx0XHRpZiAoIHRoaXMucmVuZGVyVG9TY3JlZW4gKSB7XG5cblx0XHRcdHJlbmRlcmVyLnJlbmRlciggdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJlbmRlcmVyLnJlbmRlciggdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEsIHdyaXRlQnVmZmVyLCB0aGlzLmNsZWFyICk7XG5cblx0XHR9XG5cblx0fVxuXG59O1xuIiwiXG5cbnZhciBjaHJvbWF0aWNBYmVycmF0aW9uU2hhZGVyID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcblx0dmVydGV4U2hhZGVyOiBcIiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZVdjtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuXFx0dlV2ID0gdXY7XFxuXFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcblxcbn1cIixcblx0ZnJhZ21lbnRTaGFkZXI6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG5oaWdocCBmbG9hdCByYW5kb21fMV8wKHZlYzIgY28pXFxue1xcbiAgICBoaWdocCBmbG9hdCBhID0gMTIuOTg5ODtcXG4gICAgaGlnaHAgZmxvYXQgYiA9IDc4LjIzMztcXG4gICAgaGlnaHAgZmxvYXQgYyA9IDQzNzU4LjU0NTM7XFxuICAgIGhpZ2hwIGZsb2F0IGR0PSBkb3QoY28ueHkgLHZlYzIoYSxiKSk7XFxuICAgIGhpZ2hwIGZsb2F0IHNuPSBtb2QoZHQsMy4xNCk7XFxuICAgIHJldHVybiBmcmFjdChzaW4oc24pICogYyk7XFxufVxcblxcblxcblxcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlV2O1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXHR2ZWMyIHVuaXRJX1RvU2lkZSA9ICh2VXYgKiAyLjAgLSAxLjApO1xcblxcdFxcblxcdHVuaXRJX1RvU2lkZSA9IHBvdyh1bml0SV9Ub1NpZGUsIHZlYzIoMy4wLCA1LjApKSAqIHJhbmRvbV8xXzAodlV2KSAqIC0wLjAxO1xcblxcblxcdHZlYzQgdGV4ZWwgPSB0ZXh0dXJlMkQoIHREaWZmdXNlLCB2VXYgKTtcXG5cXHR2ZWM0IHNtYWxsc2hpZnQgPSB0ZXh0dXJlMkQoIHREaWZmdXNlLCB2VXYgKyB1bml0SV9Ub1NpZGUgKiAwLjUgKTtcXG5cXHR2ZWM0IGJpZ3NoaWZ0ID0gdGV4dHVyZTJEKCB0RGlmZnVzZSwgdlV2ICsgdW5pdElfVG9TaWRlICk7XFxuXFx0XFxuXFx0Z2xfRnJhZ0NvbG9yID0gb3BhY2l0eSAqIHZlYzQoIGJpZ3NoaWZ0LngsICB0ZXhlbC55LCAgc21hbGxzaGlmdC56LCAgdGV4ZWwudyApO1xcblxcbn1cIixcblx0dW5pZm9ybXM6IHtcblx0XHRvcGFjaXR5OiB7IHR5cGU6ICdmJywgdmFsdWU6IDEgfSxcblx0fVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBjaHJvbWF0aWNBYmVycmF0aW9uU2hhZGVyO1xuIiwicmVxdWlyZSgnLi9FZmZlY3RDb21wb3NlcicpO1xucmVxdWlyZSgnLi9NYXNrUGFzcycpO1xucmVxdWlyZSgnLi9CbG9vbVBhc3MnKTtcbnJlcXVpcmUoJy4vUmVuZGVyUGFzcycpO1xucmVxdWlyZSgnLi9TaGFkZXJQYXNzJyk7XG5yZXF1aXJlKCcuL0ZpbG1QYXNzJyk7IiwiXG5cbnZhciBwbGF5Z3JvdW5kID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcblx0dmVydGV4U2hhZGVyOiBcIiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZVdjtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuXFx0dlV2ID0gdXY7XFxuXFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcblxcbn1cIixcblx0ZnJhZ21lbnRTaGFkZXI6IFwiI2RlZmluZSBHTFNMSUZZIDFcXG5oaWdocCBmbG9hdCByYW5kb21fMV8wKHZlYzIgY28pXFxue1xcbiAgICBoaWdocCBmbG9hdCBhID0gMTIuOTg5ODtcXG4gICAgaGlnaHAgZmxvYXQgYiA9IDc4LjIzMztcXG4gICAgaGlnaHAgZmxvYXQgYyA9IDQzNzU4LjU0NTM7XFxuICAgIGhpZ2hwIGZsb2F0IGR0PSBkb3QoY28ueHkgLHZlYzIoYSxiKSk7XFxuICAgIGhpZ2hwIGZsb2F0IHNuPSBtb2QoZHQsMy4xNCk7XFxuICAgIHJldHVybiBmcmFjdChzaW4oc24pICogYyk7XFxufVxcblxcblxcblxcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlV2O1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXG5cXHR2ZWM0IHRleGVsID0gdGV4dHVyZTJEKCB0RGlmZnVzZSwgdlV2ICk7XFxuXFx0XFxuXFx0Z2xfRnJhZ0NvbG9yID0gb3BhY2l0eSAqIHZlYzQoIHRleGVsLngsIHRleGVsLnksIHRleGVsLnosIHRleGVsLncgKTtcXG5cXG59XCIsXG5cdHVuaWZvcm1zOiB7XG5cdFx0b3BhY2l0eTogeyB0eXBlOiAnZicsIHZhbHVlOiAxIH0sXG5cdFx0dERlcHRoOiAgeyB0eXBlOiBcInRcIiwgdmFsdWU6IG51bGwgfSxcblx0fVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBwbGF5Z3JvdW5kO1xuIiwidmFyIFJlc2l6ZVJlbmRlcmVyRm4gPSByZXF1aXJlKCcuL3V0aWxzL3Jlc2l6ZS1yZW5kZXJlci1mbicpXG52YXIgUmVzaXplSGFuZGxlciA9IHJlcXVpcmUoJy4vdXRpbHMvcmVzaXplLWhhbmRsZXInKVxudmFyIENyZWF0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi91dGlscy9jcmVhdGUtcmVuZGVyZXInKVxuXG5mdW5jdGlvbiBoYW5kbGVOZXdQb2VtKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXHRcblx0Ly9ObyBjb25maWcgYXQgdGhpcyBsZXZlbCwgc2VlIGNyZWF0ZVJlbmRlcmVyIGZvciBtb3JlIHByb3BzXG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7fSwgcHJvcGVydGllcylcblx0XG5cdHZhciByZW5kZXJlciA9IENyZWF0ZVJlbmRlcmVyKCBwb2VtLCBjb25maWcgKVxuXHRcblx0UmVzaXplSGFuZGxlciggcG9lbSwgUmVzaXplUmVuZGVyZXJGbiggcmVuZGVyZXIsIHBvZW0uY2FtZXJhLm9iamVjdCApIClcblx0XG5cdHBvZW0uZW1pdHRlci5vbiggJ2RyYXcnLCBmdW5jdGlvbigpIHtcblx0XHRyZW5kZXJlci5yZW5kZXIoIHBvZW0uc2NlbmUsIHBvZW0uY2FtZXJhLm9iamVjdCApXG5cdH0pXG5cdFx0XHRcblx0cmV0dXJuIHJlbmRlcmVyXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFuZGxlTmV3UG9lbSIsInZhciBSZXNpemVSZW5kZXJlckZuID0gcmVxdWlyZSgnLi91dGlscy9yZXNpemUtcmVuZGVyZXItZm4nKVxudmFyIFJlc2l6ZUhhbmRsZXIgPSByZXF1aXJlKCcuL3V0aWxzL3Jlc2l6ZS1oYW5kbGVyJylcbnZhciBDcmVhdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vdXRpbHMvY3JlYXRlLXJlbmRlcmVyJylcbnZhciBTdGVyZW9FZmZlY3QgPSByZXF1aXJlKCcuLi92ZW5kb3IvU3RlcmVvRWZmZWN0JylcbnZhciBSZXNpemVIYW5kbGVyID0gcmVxdWlyZSgnLi91dGlscy9yZXNpemUtaGFuZGxlcicpXG52YXIgRmFkZU91dFVpID0gcmVxdWlyZSgnLi91dGlscy9mYWRlLW91dC11aScpXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR1cFZyUmVuZGVyZXIoIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cdFxuXHQvL05vIGNvbmZpZyBhdCB0aGlzIGxldmVsLCBzZWUgY3JlYXRlUmVuZGVyZXIgZm9yIG1vcmUgcHJvcHNcblx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHt9LCBwcm9wZXJ0aWVzKVxuXHRcblx0dmFyIHJlbmRlcmVyID0gQ3JlYXRlUmVuZGVyZXIoIHBvZW0sIGNvbmZpZyApXG5cdFxuXHR2YXIgc3RlcmVvRWZmZWN0ID0gbmV3IFN0ZXJlb0VmZmVjdCggcmVuZGVyZXIgKVxuXHRzdGVyZW9FZmZlY3Quc2VwYXJhdGlvbiA9IDEwXG5cblx0UmVzaXplSGFuZGxlciggcG9lbSwgUmVzaXplUmVuZGVyZXJGbiggcmVuZGVyZXIsIHBvZW0uY2FtZXJhLm9iamVjdCApIClcblx0UmVzaXplSGFuZGxlciggcG9lbSwgZnVuY3Rpb24oKSB7XG5cdFx0c3RlcmVvRWZmZWN0LnNldFNpemUoXG5cdFx0XHR3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdHdpbmRvdy5pbm5lckhlaWdodFxuXHRcdClcblx0fSlcblx0XG5cdHBvZW0uZW1pdHRlci5vbiggJ2RyYXcnLCBmdW5jdGlvbigpIHtcblx0XHRzdGVyZW9FZmZlY3QucmVuZGVyKCBwb2VtLnNjZW5lLCBwb2VtLmNhbWVyYS5vYmplY3QgKVxuXHR9KVxuXHRcblx0RmFkZU91dFVpKCBwb2VtIClcblx0XHRcdFxuXHRyZXR1cm4gcmVuZGVyZXJcbn0iLCJ2YXIgUmVzaXplUmVuZGVyZXJGbiA9IHJlcXVpcmUoJy4vdXRpbHMvcmVzaXplLXJlbmRlcmVyLWZuJylcbnZhciBSZXNpemVIYW5kbGVyID0gcmVxdWlyZSgnLi91dGlscy9yZXNpemUtaGFuZGxlcicpXG52YXIgQ3JlYXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3V0aWxzL2NyZWF0ZS1yZW5kZXJlcicpXG5cbnZhciBDaHJvbWF0aWNBYmVycmF0aW9uU2hhZGVyID0gcmVxdWlyZSgnLi4vcG9zdHByb2Nlc3NpbmcvY2hyb21hdGljQWJlcnJhdGlvbicpXG5cbi8vVGhlc2UgZ2V0IGxvYWRlZCBvbnRvIHRoZSBUSFJFRSBvYmplY3RcbnJlcXVpcmUoJy4uL3Bvc3Rwcm9jZXNzaW5nJylcbnJlcXVpcmUoJy4uL3NoYWRlcnMvQ29weVNoYWRlcicpXG5yZXF1aXJlKCcuLi9zaGFkZXJzL0ZpbG1TaGFkZXInKVxucmVxdWlyZSgnLi4vc2hhZGVycy9Db252b2x1dGlvblNoYWRlcicpXG5yZXF1aXJlKCcuLi9zaGFkZXJzL0ZYQUFTaGFkZXInKVxuXG5mdW5jdGlvbiBfY3JlYXRlRWZmZWN0Q29tcG9zZXIoIHJhdGlvLCByZW5kZXJlciwgc2NlbmUsIGNhbWVyYSApIHtcblx0XG5cdHZhciByZW5kZXJQYXNzICAgICAgICAgID0gbmV3IFRIUkVFLlJlbmRlclBhc3MoIHNjZW5lLCBjYW1lcmEgKVxuXHR2YXIgYW50aWFsaWFzICAgICAgICAgICA9IG5ldyBUSFJFRS5TaGFkZXJQYXNzKCBUSFJFRS5GWEFBU2hhZGVyIClcblx0Ly8gdmFyIGNocm9tYXRpY0FiZXJyYXRpb24gPSBuZXcgVEhSRUUuU2hhZGVyUGFzcyggY2hyb21hdGljQWJlcnJhdGlvblNoYWRlciApXG5cdHZhciBibG9vbSAgICAgICAgICAgICAgID0gbmV3IFRIUkVFLkJsb29tUGFzcyggMS41LCAxNSwgMTYsIDUxMiApXG5cdHZhciBjb3B5ICAgICAgICAgICAgICAgID0gbmV3IFRIUkVFLlNoYWRlclBhc3MoIFRIUkVFLkNvcHlTaGFkZXIgKVxuXHRcblx0Y29weS5yZW5kZXJUb1NjcmVlbiA9IHRydWVcblxuXHR2YXIgY29tcG9zZXIgPSBuZXcgVEhSRUUuRWZmZWN0Q29tcG9zZXIoIHJlbmRlcmVyIClcblxuXHRjb21wb3Nlci5hZGRQYXNzKCByZW5kZXJQYXNzIClcblx0Y29tcG9zZXIuYWRkUGFzcyggYW50aWFsaWFzIClcblx0Ly8gY29tcG9zZXIuYWRkUGFzcyggY2hyb21hdGljQWJlcnJhdGlvbiApXG5cdGNvbXBvc2VyLmFkZFBhc3MoIGJsb29tIClcblx0Y29tcG9zZXIuYWRkUGFzcyggY29weSApXG5cblx0dmFyIHJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGFudGlhbGlhcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnNldChcblx0XHRcdDEgLyAod2luZG93LmlubmVyV2lkdGggKiByYXRpbyksXG5cdFx0XHQxIC8gKHdpbmRvdy5pbm5lckhlaWdodCAqIHJhdGlvKVxuXHRcdClcblx0XHRcblx0XHRjb21wb3Nlci5yZW5kZXJUYXJnZXQxLnNldFNpemUoIHdpbmRvdy5pbm5lcldpZHRoICogcmF0aW8sIHdpbmRvdy5pbm5lckhlaWdodCAqIHJhdGlvIClcblx0XHRjb21wb3Nlci5yZW5kZXJUYXJnZXQyLnNldFNpemUoIHdpbmRvdy5pbm5lcldpZHRoICogcmF0aW8sIHdpbmRvdy5pbm5lckhlaWdodCAqIHJhdGlvIClcblx0fVxuXHRcblx0cmVzaXplKClcblx0XG5cdHJldHVybiBbIGNvbXBvc2VyLCByZXNpemUgXVxufVxuXG5mdW5jdGlvbiBoYW5kbGVOZXdQb2VtKCBwb2VtLCBjb25maWcgKSB7XG5cdFxuXHR2YXIgcmVuZGVyZXIgPSBDcmVhdGVSZW5kZXJlciggcG9lbSwgY29uZmlnIClcblx0XG5cdHJlbmRlcmVyLmF1dG9DbGVhciA9IGZhbHNlXG5cdFxuXHRSZXNpemVIYW5kbGVyKCBwb2VtLCBSZXNpemVSZW5kZXJlckZuKCByZW5kZXJlciwgcG9lbS5jYW1lcmEub2JqZWN0ICkgKVxuXHRcblx0dmFyIFsgY29tcG9zZXIsIHJlc2l6ZSBdID0gX2NyZWF0ZUVmZmVjdENvbXBvc2VyKCBwb2VtLnJhdGlvLCByZW5kZXJlciwgcG9lbS5zY2VuZSwgcG9lbS5jYW1lcmEub2JqZWN0IClcblx0XG5cdHBvZW0uZW1pdHRlci5vbiggJ2RyYXcnLCBmdW5jdGlvbigpIHtcblx0XHRjb21wb3Nlci5yZW5kZXIoIHBvZW0uc2NlbmUsIHBvZW0uY2FtZXJhLm9iamVjdCApXG5cdH0pXG5cdFx0XHRcblx0cmV0dXJuIHJlbmRlcmVyXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFuZGxlTmV3UG9lbSIsInZhciBSZXNpemVSZW5kZXJlckZuID0gcmVxdWlyZSgnLi91dGlscy9yZXNpemUtcmVuZGVyZXItZm4nKVxudmFyIFJlc2l6ZUhhbmRsZXIgPSByZXF1aXJlKCcuL3V0aWxzL3Jlc2l6ZS1oYW5kbGVyJylcbnZhciBDcmVhdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vdXRpbHMvY3JlYXRlLXJlbmRlcmVyJylcbnZhciBTU0FPU2hhZGVyID0gcmVxdWlyZSgnLi4vcG9zdHByb2Nlc3NpbmcvU1NBT1NoYWRlcicpXG52YXIgUGxheWdyb3VuZCA9IHJlcXVpcmUoJy4uL3Bvc3Rwcm9jZXNzaW5nL3BsYXlncm91bmQvcGxheWdyb3VuZCcpXG5cbi8vVGhlc2UgZ2V0IGxvYWRlZCBvbnRvIHRoZSBUSFJFRSBvYmplY3RcbnJlcXVpcmUoJy4uL3Bvc3Rwcm9jZXNzaW5nJylcbnJlcXVpcmUoJy4uL3NoYWRlcnMvQ29weVNoYWRlcicpXG5yZXF1aXJlKCcuLi9zaGFkZXJzL0ZpbG1TaGFkZXInKVxucmVxdWlyZSgnLi4vc2hhZGVycy9Db252b2x1dGlvblNoYWRlcicpXG5yZXF1aXJlKCcuLi9zaGFkZXJzL0ZYQUFTaGFkZXInKVxuXG5mdW5jdGlvbiBfY3JlYXRlU3NhbyggcmF0aW8sIHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhICkge1xuXHRcblx0dmFyIHNzYW8gPSBuZXcgVEhSRUUuU2hhZGVyUGFzcyggU1NBT1NoYWRlciApXG5cdFxuXHRzc2FvLnVuaWZvcm1zLnREZXB0aC52YWx1ZSAgICAgID0gZGVwdGhUYXJnZXRcblx0c3Nhby51bmlmb3Jtcy5jYW1lcmFOZWFyLnZhbHVlICA9IGNhbWVyYS5uZWFyXG5cdHNzYW8udW5pZm9ybXMuY2FtZXJhRmFyLnZhbHVlICAgPSBjYW1lcmEuZmFyXG5cdHNzYW8udW5pZm9ybXMuZm9nRW5hYmxlZC52YWx1ZSAgPSAxXG5cdHNzYW8udW5pZm9ybXMuYW9DbGFtcC52YWx1ZSAgICAgPSAwLjVcblx0XG5cdHNzYW8udW5pZm9ybXMuc2l6ZS52YWx1ZS5zZXQoIHdpbmRvdy5pbm5lcldpZHRoICogcmF0aW8sIHdpbmRvdy5pbm5lckhlaWdodCAqIHJhdGlvIClcblx0XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVEZXB0aFJlbmRlciggcmF0aW8sIHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhICkge1xuXHRcblx0dmFyIGRlcHRoVGFyZ2V0ID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KFxuXHRcdHdpbmRvdy5pbm5lcldpZHRoLFxuXHRcdHdpbmRvdy5pbm5lckhlaWdodCxcblx0XHRyZW5kZXJUYXJnZXRQYXJhbWV0ZXJzUkdCQVxuXHQpXG5cdFxuXHR2YXIgZGVwdGhNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoRGVwdGhNYXRlcmlhbCgpXG5cdFxuXHRyZXR1cm4ge1xuXHRcdHJlbmRlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHRzY2VuZS5vdmVycmlkZU1hdGVyaWFsID0gZGVwdGhNYXRlcmlhbFxuXHRcdFx0cmVuZGVyZXIoIHNjZW5lLCBjYW1lcmEsIGRlcHRoVGFyZ2V0LCB0cnVlIClcblx0XHRcdHNjZW5lLm92ZXJyaWRlTWF0ZXJpYWwgPSBudWxsXG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVFZmZlY3RDb21wb3NlciggcmF0aW8sIHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhICkge1xuXHRcblx0dmFyIHJlbmRlclBhc3MgID0gbmV3IFRIUkVFLlJlbmRlclBhc3MoIHNjZW5lLCBjYW1lcmEgKVxuXHR2YXIgYW50aWFsaWFzICAgPSBuZXcgVEhSRUUuU2hhZGVyUGFzcyggVEhSRUUuRlhBQVNoYWRlciApXG5cdHZhciBwbGF5Z3JvdW5kICA9IG5ldyBUSFJFRS5TaGFkZXJQYXNzKCBQbGF5Z3JvdW5kIClcblx0Ly8gdmFyIHNzYW8gICAgICAgID0gX2NyZWF0ZVNzYW8oIHJhdGlvLCByZW5kZXJlciwgc2NlbmUsIGNhbWVyYSApXG5cdHZhciBjb3B5ICAgICAgICA9IG5ldyBUSFJFRS5TaGFkZXJQYXNzKCBUSFJFRS5Db3B5U2hhZGVyIClcblx0XG5cdGNvcHkucmVuZGVyVG9TY3JlZW4gPSB0cnVlXG5cblx0dmFyIGNvbXBvc2VyID0gbmV3IFRIUkVFLkVmZmVjdENvbXBvc2VyKCByZW5kZXJlciApXG5cdFxuXHR2YXIgcmVuZGVyVGFyZ2V0UGFyYW1ldGVyc1JHQkEgPSB7XG5cdFx0bWluRmlsdGVyOiBUSFJFRS5MaW5lYXJGaWx0ZXIsXG5cdFx0bWFnRmlsdGVyOiBUSFJFRS5MaW5lYXJGaWx0ZXIsXG5cdFx0Zm9ybWF0OiBUSFJFRS5SR0JBRm9ybWF0XG5cdH1cblxuXG5cdGNvbXBvc2VyLmFkZFBhc3MoIHJlbmRlclBhc3MgKVxuXHQvLyBjb21wb3Nlci5hZGRQYXNzKCBzc2FvIClcblx0Y29tcG9zZXIuYWRkUGFzcyggcGxheWdyb3VuZCApXG5cdGNvbXBvc2VyLmFkZFBhc3MoIGFudGlhbGlhcyApXG5cdGNvbXBvc2VyLmFkZFBhc3MoIGNvcHkgKVxuXG5cdHZhciByZXNpemUgPSBmdW5jdGlvbigpIHtcblx0XHRhbnRpYWxpYXMudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS5zZXQoXG5cdFx0XHQxIC8gKHdpbmRvdy5pbm5lcldpZHRoICogcmF0aW8pLFxuXHRcdFx0MSAvICh3aW5kb3cuaW5uZXJIZWlnaHQgKiByYXRpbylcblx0XHQpXG5cdFx0XG5cdFx0Y29tcG9zZXIucmVuZGVyVGFyZ2V0MS5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCAqIHJhdGlvLCB3aW5kb3cuaW5uZXJIZWlnaHQgKiByYXRpbyApXG5cdFx0Y29tcG9zZXIucmVuZGVyVGFyZ2V0Mi5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCAqIHJhdGlvLCB3aW5kb3cuaW5uZXJIZWlnaHQgKiByYXRpbyApXG5cdH1cblx0XG5cdHJlc2l6ZSgpXG5cdFxuXHRyZXR1cm4gWyBjb21wb3NlciwgcmVzaXplIF1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3UG9lbSggcG9lbSwgY29uZmlnICkge1xuXHRcblx0dmFyIHJlbmRlcmVyID0gQ3JlYXRlUmVuZGVyZXIoIHBvZW0sIGNvbmZpZyApXG5cdFxuXHRyZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZVxuXHRcblx0UmVzaXplSGFuZGxlciggcG9lbSwgUmVzaXplUmVuZGVyZXJGbiggcmVuZGVyZXIsIHBvZW0uY2FtZXJhLm9iamVjdCApIClcblx0XG5cdHZhciBbIGNvbXBvc2VyLCByZXNpemUgXSA9IF9jcmVhdGVFZmZlY3RDb21wb3NlciggcG9lbS5yYXRpbywgcmVuZGVyZXIsIHBvZW0uc2NlbmUsIHBvZW0uY2FtZXJhLm9iamVjdCApXG5cdFxuXHRwb2VtLmVtaXR0ZXIub24oICdkcmF3JywgZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0Y29tcG9zZXIucmVuZGVyKCBwb2VtLnNjZW5lLCBwb2VtLmNhbWVyYS5vYmplY3QgKVxuXHR9KVxuXHRcdFx0XG5cdHJldHVybiByZW5kZXJlclxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhbmRsZU5ld1BvZW0iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKCBwb2VtLCBwcm9wZXJ0aWVzICkge1xuXG5cdHZhciBjb25maWcgPSBfLmV4dGVuZCh7XG5cdFx0Y2xlYXJDb2xvciA6IDB4MjIyMjIyLFxuXHRcdGFkZFRvRG9tIDogdHJ1ZVxuXHR9LCBwcm9wZXJ0aWVzKVxuXHRcblx0dmFyIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKVxuXHRcblx0cmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyggcG9lbS5yYXRpbyApXG5cdHJlbmRlcmVyLnNldENsZWFyQ29sb3IoIGNvbmZpZy5jbGVhckNvbG9yIClcblx0XG5cdGlmKCBjb25maWcuYWRkVG9Eb20gKSB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdjb250YWluZXInICkuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyLmRvbUVsZW1lbnQgKVxuXHRcdHBvZW0uY2FudmFzID0gcmVuZGVyZXIuZG9tRWxlbWVudFxuXHRcdFxuXHRcdHBvZW0uZW1pdHRlci5vbiggJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHRcdHJlbmRlcmVyLmRvbUVsZW1lbnQucmVtb3ZlKClcblx0XHR9KVxuXHR9XG5cdFxuXHRyZXR1cm4gcmVuZGVyZXJcblx0XG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmYWRlT3V0VWkoIHBvZW0gKSB7XG5cdFxuXHR2YXIgaGlkZGVuID0gZmFsc2Vcblx0dmFyIGFjdGl2ZSA9IHRydWVcblx0dmFyICRib2R5ID0gJCgnYm9keScpXG5cdHZhciAkY2FudmFzID0gJChwb2VtLmNhbnZhcylcblx0dmFyIGV2ZW50cyA9ICdtb3VzZW1vdmUgdG91Y2htb3ZlJ1xuXHRcblx0dmFyIGhpZGVVaSA9IF8uZGVib3VuY2UoZnVuY3Rpb24oKSB7XG5cblx0XHRpZiggIWhpZGRlbiAmJiBhY3RpdmUgKSB7XG5cdFx0XHRoaWRkZW4gPSB0cnVlXG5cdFx0XHQkYm9keS5hZGRDbGFzcygnaGlkZS11aScpXG5cdFx0fVxuXHR9LCAxNTAwKVxuXHRcblx0dmFyIHNob3dVaSA9IGZ1bmN0aW9uKCkge1xuXHRcdGhpZGRlbiA9IGZhbHNlXG5cdFx0JGJvZHkucmVtb3ZlQ2xhc3MoJ2hpZGUtdWknKVxuXHR9XG5cdFxuXHR2YXIgaGFuZGxlSW50ZXJhY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRpZiggaGlkZGVuICkge1xuXHRcdFx0c2hvd1VpKClcblx0XHR9XG5cdFx0aGlkZVVpKClcblx0fVxuXHRcblx0JGJvZHkub24oZXZlbnRzLCBoYW5kbGVJbnRlcmFjdGlvbilcblx0JGNhbnZhcy5vbihldmVudHMsIGhhbmRsZUludGVyYWN0aW9uKVxuXHRoaWRlVWkoKVxuXHRcblx0cG9lbS5lbWl0dGVyLm9uKCdkZXN0cm95JywgZnVuY3Rpb24oKSB7XG5cdFx0YWN0aXZlID0gZmFsc2Vcblx0XHRzaG93VWkoKVxuXHRcdCRib2R5Lm9mZihldmVudHMsIGhhbmRsZUludGVyYWN0aW9uKVxuXHRcdCRjYW52YXMub2ZmKGV2ZW50cywgaGFuZGxlSW50ZXJhY3Rpb24pXG5cdH0pXG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBTZXRSZXNpemVIYW5kbGVyKCBwb2VtLCByZXNpemUgKSB7XG5cdFxuXHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHJlc2l6ZSlcblx0cG9lbS5lbWl0dGVyLm9uKCdkZXN0cm95JywgZnVuY3Rpb24oKSB7XG5cdFx0JCh3aW5kb3cpLm9mZigncmVzaXplJywgcmVzaXplKVxuXHR9KVxuXHRyZXNpemUoKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXNpemVSZW5kZXJlckZuKCByZW5kZXJlciwgY2FtZXJhICkge1xuXG5cdHJldHVybiBmdW5jdGlvbiByZXNpemVSZW5kZXJlcigpIHtcblxuXHRcdGNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodFxuXHRcdGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcblx0XHRyZW5kZXJlci5zZXRTaXplKFxuXHRcdFx0d2luZG93LmlubmVyV2lkdGgsXG5cdFx0XHR3aW5kb3cuaW5uZXJIZWlnaHRcblx0XHQpXG5cdH1cbn0iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKlxuICogQ29udm9sdXRpb24gc2hhZGVyXG4gKiBwb3J0ZWQgZnJvbSBvM2Qgc2FtcGxlIHRvIFdlYkdMIC8gR0xTTFxuICogaHR0cDovL28zZC5nb29nbGVjb2RlLmNvbS9zdm4vdHJ1bmsvc2FtcGxlcy9jb252b2x1dGlvbi5odG1sXG4gKi9cblxuVEhSRUUuQ29udm9sdXRpb25TaGFkZXIgPSB7XG5cblx0ZGVmaW5lczoge1xuXG5cdFx0XCJLRVJORUxfU0laRV9GTE9BVFwiOiBcIjI1LjBcIixcblx0XHRcIktFUk5FTF9TSVpFX0lOVFwiOiBcIjI1XCIsXG5cblx0fSxcblxuXHR1bmlmb3Jtczoge1xuXG5cdFx0XCJ0RGlmZnVzZVwiOiAgICAgICAgeyB0eXBlOiBcInRcIiwgdmFsdWU6IG51bGwgfSxcblx0XHRcInVJbWFnZUluY3JlbWVudFwiOiB7IHR5cGU6IFwidjJcIiwgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKCAwLjAwMTk1MzEyNSwgMC4wICkgfSxcblx0XHRcImNLZXJuZWxcIjogICAgICAgICB7IHR5cGU6IFwiZnYxXCIsIHZhbHVlOiBbXSB9XG5cblx0fSxcblxuXHR2ZXJ0ZXhTaGFkZXI6IFtcblxuXHRcdFwidW5pZm9ybSB2ZWMyIHVJbWFnZUluY3JlbWVudDtcIixcblxuXHRcdFwidmFyeWluZyB2ZWMyIHZVdjtcIixcblxuXHRcdFwidm9pZCBtYWluKCkge1wiLFxuXG5cdFx0XHRcInZVdiA9IHV2IC0gKCAoIEtFUk5FTF9TSVpFX0ZMT0FUIC0gMS4wICkgLyAyLjAgKSAqIHVJbWFnZUluY3JlbWVudDtcIixcblx0XHRcdFwiZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1wiLFxuXG5cdFx0XCJ9XCJcblxuXHRdLmpvaW4oXCJcXG5cIiksXG5cblx0ZnJhZ21lbnRTaGFkZXI6IFtcblxuXHRcdFwidW5pZm9ybSBmbG9hdCBjS2VybmVsWyBLRVJORUxfU0laRV9JTlQgXTtcIixcblxuXHRcdFwidW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2U7XCIsXG5cdFx0XCJ1bmlmb3JtIHZlYzIgdUltYWdlSW5jcmVtZW50O1wiLFxuXG5cdFx0XCJ2YXJ5aW5nIHZlYzIgdlV2O1wiLFxuXG5cdFx0XCJ2b2lkIG1haW4oKSB7XCIsXG5cblx0XHRcdFwidmVjMiBpbWFnZUNvb3JkID0gdlV2O1wiLFxuXHRcdFx0XCJ2ZWM0IHN1bSA9IHZlYzQoIDAuMCwgMC4wLCAwLjAsIDAuMCApO1wiLFxuXG5cdFx0XHRcImZvciggaW50IGkgPSAwOyBpIDwgS0VSTkVMX1NJWkVfSU5UOyBpICsrICkge1wiLFxuXG5cdFx0XHRcdFwic3VtICs9IHRleHR1cmUyRCggdERpZmZ1c2UsIGltYWdlQ29vcmQgKSAqIGNLZXJuZWxbIGkgXTtcIixcblx0XHRcdFx0XCJpbWFnZUNvb3JkICs9IHVJbWFnZUluY3JlbWVudDtcIixcblxuXHRcdFx0XCJ9XCIsXG5cblx0XHRcdFwiZ2xfRnJhZ0NvbG9yID0gc3VtO1wiLFxuXG5cdFx0XCJ9XCJcblxuXG5cdF0uam9pbihcIlxcblwiKSxcblxuXHRidWlsZEtlcm5lbDogZnVuY3Rpb24gKCBzaWdtYSApIHtcblxuXHRcdC8vIFdlIGxvcCBvZmYgdGhlIHNxcnQoMiAqIHBpKSAqIHNpZ21hIHRlcm0sIHNpbmNlIHdlJ3JlIGdvaW5nIHRvIG5vcm1hbGl6ZSBhbnl3YXkuXG5cblx0XHRmdW5jdGlvbiBnYXVzcyggeCwgc2lnbWEgKSB7XG5cblx0XHRcdHJldHVybiBNYXRoLmV4cCggLSAoIHggKiB4ICkgLyAoIDIuMCAqIHNpZ21hICogc2lnbWEgKSApO1xuXG5cdFx0fVxuXG5cdFx0dmFyIGksIHZhbHVlcywgc3VtLCBoYWxmV2lkdGgsIGtNYXhLZXJuZWxTaXplID0gMjUsIGtlcm5lbFNpemUgPSAyICogTWF0aC5jZWlsKCBzaWdtYSAqIDMuMCApICsgMTtcblxuXHRcdGlmICgga2VybmVsU2l6ZSA+IGtNYXhLZXJuZWxTaXplICkga2VybmVsU2l6ZSA9IGtNYXhLZXJuZWxTaXplO1xuXHRcdGhhbGZXaWR0aCA9ICgga2VybmVsU2l6ZSAtIDEgKSAqIDAuNTtcblxuXHRcdHZhbHVlcyA9IG5ldyBBcnJheSgga2VybmVsU2l6ZSApO1xuXHRcdHN1bSA9IDAuMDtcblx0XHRmb3IgKCBpID0gMDsgaSA8IGtlcm5lbFNpemU7ICsraSApIHtcblxuXHRcdFx0dmFsdWVzWyBpIF0gPSBnYXVzcyggaSAtIGhhbGZXaWR0aCwgc2lnbWEgKTtcblx0XHRcdHN1bSArPSB2YWx1ZXNbIGkgXTtcblxuXHRcdH1cblxuXHRcdC8vIG5vcm1hbGl6ZSB0aGUga2VybmVsXG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGtlcm5lbFNpemU7ICsraSApIHZhbHVlc1sgaSBdIC89IHN1bTtcblxuXHRcdHJldHVybiB2YWx1ZXM7XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICpcbiAqIEZ1bGwtc2NyZWVuIHRleHR1cmVkIHF1YWQgc2hhZGVyXG4gKi9cblxuVEhSRUUuQ29weVNoYWRlciA9IHtcblxuXHR1bmlmb3Jtczoge1xuXG5cdFx0XCJ0RGlmZnVzZVwiOiB7IHR5cGU6IFwidFwiLCB2YWx1ZTogbnVsbCB9LFxuXHRcdFwib3BhY2l0eVwiOiAgeyB0eXBlOiBcImZcIiwgdmFsdWU6IDEuMCB9XG5cblx0fSxcblxuXHR2ZXJ0ZXhTaGFkZXI6IFtcblxuXHRcdFwidmFyeWluZyB2ZWMyIHZVdjtcIixcblxuXHRcdFwidm9pZCBtYWluKCkge1wiLFxuXG5cdFx0XHRcInZVdiA9IHV2O1wiLFxuXHRcdFx0XCJnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXG5cblx0XHRcIn1cIlxuXG5cdF0uam9pbihcIlxcblwiKSxcblxuXHRmcmFnbWVudFNoYWRlcjogW1xuXG5cdFx0XCJ1bmlmb3JtIGZsb2F0IG9wYWNpdHk7XCIsXG5cblx0XHRcInVuaWZvcm0gc2FtcGxlcjJEIHREaWZmdXNlO1wiLFxuXG5cdFx0XCJ2YXJ5aW5nIHZlYzIgdlV2O1wiLFxuXG5cdFx0XCJ2b2lkIG1haW4oKSB7XCIsXG5cblx0XHRcdFwidmVjNCB0ZXhlbCA9IHRleHR1cmUyRCggdERpZmZ1c2UsIHZVdiApO1wiLFxuXHRcdFx0XCJnbF9GcmFnQ29sb3IgPSBvcGFjaXR5ICogdGV4ZWw7XCIsXG5cblx0XHRcIn1cIlxuXG5cdF0uam9pbihcIlxcblwiKVxuXG59O1xuIiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICogQGF1dGhvciBkYXZpZGVkYyAvIGh0dHA6Ly93d3cuc2tldGNocGF0Y2gubmV0L1xuICpcbiAqIE5WSURJQSBGWEFBIGJ5IFRpbW90aHkgTG90dGVzXG4gKiBodHRwOi8vdGltb3RoeWxvdHRlcy5ibG9nc3BvdC5jb20vMjAxMS8wNi9meGFhMy1zb3VyY2UtcmVsZWFzZWQuaHRtbFxuICogLSBXZWJHTCBwb3J0IGJ5IEBzdXBlcmVnZ2JlcnRcbiAqIGh0dHA6Ly93d3cuZ2xnZS5vcmcvZGVtb3MvZnhhYS9cbiAqL1xuXG5USFJFRS5GWEFBU2hhZGVyID0ge1xuXG5cdHVuaWZvcm1zOiB7XG5cblx0XHRcInREaWZmdXNlXCI6ICAgeyB0eXBlOiBcInRcIiwgdmFsdWU6IG51bGwgfSxcblx0XHRcInJlc29sdXRpb25cIjogeyB0eXBlOiBcInYyXCIsIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMiggMSAvIDEwMjQsIDEgLyA1MTIgKSAgfVxuXG5cdH0sXG5cblx0dmVydGV4U2hhZGVyOiBbXG5cblx0XHRcInZvaWQgbWFpbigpIHtcIixcblxuXHRcdFx0XCJnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXG5cblx0XHRcIn1cIlxuXG5cdF0uam9pbihcIlxcblwiKSxcblxuXHRmcmFnbWVudFNoYWRlcjogW1xuXG5cdFx0XCJ1bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcIixcblx0XHRcInVuaWZvcm0gdmVjMiByZXNvbHV0aW9uO1wiLFxuXG5cdFx0XCIjZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvMTI4LjApXCIsXG5cdFx0XCIjZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAvOC4wKVwiLFxuXHRcdFwiI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcIixcblxuXHRcdFwidm9pZCBtYWluKCkge1wiLFxuXG5cdFx0XHRcInZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQoIHREaWZmdXNlLCAoIGdsX0ZyYWdDb29yZC54eSArIHZlYzIoIC0xLjAsIC0xLjAgKSApICogcmVzb2x1dGlvbiApLnh5ejtcIixcblx0XHRcdFwidmVjMyByZ2JORSA9IHRleHR1cmUyRCggdERpZmZ1c2UsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggMS4wLCAtMS4wICkgKSAqIHJlc29sdXRpb24gKS54eXo7XCIsXG5cdFx0XHRcInZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQoIHREaWZmdXNlLCAoIGdsX0ZyYWdDb29yZC54eSArIHZlYzIoIC0xLjAsIDEuMCApICkgKiByZXNvbHV0aW9uICkueHl6O1wiLFxuXHRcdFx0XCJ2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKCB0RGlmZnVzZSwgKCBnbF9GcmFnQ29vcmQueHkgKyB2ZWMyKCAxLjAsIDEuMCApICkgKiByZXNvbHV0aW9uICkueHl6O1wiLFxuXHRcdFx0XCJ2ZWM0IHJnYmFNICA9IHRleHR1cmUyRCggdERpZmZ1c2UsICBnbF9GcmFnQ29vcmQueHkgICogcmVzb2x1dGlvbiApO1wiLFxuXHRcdFx0XCJ2ZWMzIHJnYk0gID0gcmdiYU0ueHl6O1wiLFxuXHRcdFx0XCJ2ZWMzIGx1bWEgPSB2ZWMzKCAwLjI5OSwgMC41ODcsIDAuMTE0ICk7XCIsXG5cblx0XHRcdFwiZmxvYXQgbHVtYU5XID0gZG90KCByZ2JOVywgbHVtYSApO1wiLFxuXHRcdFx0XCJmbG9hdCBsdW1hTkUgPSBkb3QoIHJnYk5FLCBsdW1hICk7XCIsXG5cdFx0XHRcImZsb2F0IGx1bWFTVyA9IGRvdCggcmdiU1csIGx1bWEgKTtcIixcblx0XHRcdFwiZmxvYXQgbHVtYVNFID0gZG90KCByZ2JTRSwgbHVtYSApO1wiLFxuXHRcdFx0XCJmbG9hdCBsdW1hTSAgPSBkb3QoIHJnYk0sICBsdW1hICk7XCIsXG5cdFx0XHRcImZsb2F0IGx1bWFNaW4gPSBtaW4oIGx1bWFNLCBtaW4oIG1pbiggbHVtYU5XLCBsdW1hTkUgKSwgbWluKCBsdW1hU1csIGx1bWFTRSApICkgKTtcIixcblx0XHRcdFwiZmxvYXQgbHVtYU1heCA9IG1heCggbHVtYU0sIG1heCggbWF4KCBsdW1hTlcsIGx1bWFORSkgLCBtYXgoIGx1bWFTVywgbHVtYVNFICkgKSApO1wiLFxuXG5cdFx0XHRcInZlYzIgZGlyO1wiLFxuXHRcdFx0XCJkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XCIsXG5cdFx0XHRcImRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcIixcblxuXHRcdFx0XCJmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoICggbHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFICkgKiAoIDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwgKSwgRlhBQV9SRURVQ0VfTUlOICk7XCIsXG5cblx0XHRcdFwiZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKCBtaW4oIGFicyggZGlyLnggKSwgYWJzKCBkaXIueSApICkgKyBkaXJSZWR1Y2UgKTtcIixcblx0XHRcdFwiZGlyID0gbWluKCB2ZWMyKCBGWEFBX1NQQU5fTUFYLCAgRlhBQV9TUEFOX01BWCksXCIsXG5cdFx0XHRcdCAgXCJtYXgoIHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcIixcblx0XHRcdFx0XHRcdFwiZGlyICogcmNwRGlyTWluKSkgKiByZXNvbHV0aW9uO1wiLFxuXHRcdFx0XCJ2ZWM0IHJnYkEgPSAoMS4wLzIuMCkgKiAoXCIsXG4gICAgICAgIFx0XCJ0ZXh0dXJlMkQodERpZmZ1c2UsICBnbF9GcmFnQ29vcmQueHkgICogcmVzb2x1dGlvbiArIGRpciAqICgxLjAvMy4wIC0gMC41KSkgK1wiLFxuXHRcdFx0XCJ0ZXh0dXJlMkQodERpZmZ1c2UsICBnbF9GcmFnQ29vcmQueHkgICogcmVzb2x1dGlvbiArIGRpciAqICgyLjAvMy4wIC0gMC41KSkpO1wiLFxuICAgIFx0XHRcInZlYzQgcmdiQiA9IHJnYkEgKiAoMS4wLzIuMCkgKyAoMS4wLzQuMCkgKiAoXCIsXG5cdFx0XHRcInRleHR1cmUyRCh0RGlmZnVzZSwgIGdsX0ZyYWdDb29yZC54eSAgKiByZXNvbHV0aW9uICsgZGlyICogKDAuMC8zLjAgLSAwLjUpKSArXCIsXG4gICAgICBcdFx0XCJ0ZXh0dXJlMkQodERpZmZ1c2UsICBnbF9GcmFnQ29vcmQueHkgICogcmVzb2x1dGlvbiArIGRpciAqICgzLjAvMy4wIC0gMC41KSkpO1wiLFxuICAgIFx0XHRcImZsb2F0IGx1bWFCID0gZG90KHJnYkIsIHZlYzQobHVtYSwgMC4wKSk7XCIsXG5cblx0XHRcdFwiaWYgKCAoIGx1bWFCIDwgbHVtYU1pbiApIHx8ICggbHVtYUIgPiBsdW1hTWF4ICkgKSB7XCIsXG5cblx0XHRcdFx0XCJnbF9GcmFnQ29sb3IgPSByZ2JBO1wiLFxuXG5cdFx0XHRcIn0gZWxzZSB7XCIsXG5cdFx0XHRcdFwiZ2xfRnJhZ0NvbG9yID0gcmdiQjtcIixcblxuXHRcdFx0XCJ9XCIsXG5cblx0XHRcIn1cIlxuXG5cdF0uam9pbihcIlxcblwiKVxuXG59O1xuIiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICpcbiAqIEZpbG0gZ3JhaW4gJiBzY2FubGluZXMgc2hhZGVyXG4gKlxuICogLSBwb3J0ZWQgZnJvbSBITFNMIHRvIFdlYkdMIC8gR0xTTFxuICogaHR0cDovL3d3dy50cnVldmlzaW9uM2QuY29tL2ZvcnVtcy9zaG93Y2FzZS9zdGF0aWNub2lzZV9jb2xvcmJsYWNrd2hpdGVfc2NhbmxpbmVfc2hhZGVycy10MTg2OTguMC5odG1sXG4gKlxuICogU2NyZWVuIFNwYWNlIFN0YXRpYyBQb3N0cHJvY2Vzc29yXG4gKlxuICogUHJvZHVjZXMgYW4gYW5hbG9ndWUgbm9pc2Ugb3ZlcmxheSBzaW1pbGFyIHRvIGEgZmlsbSBncmFpbiAvIFRWIHN0YXRpY1xuICpcbiAqIE9yaWdpbmFsIGltcGxlbWVudGF0aW9uIGFuZCBub2lzZSBhbGdvcml0aG1cbiAqIFBhdCAnSGF3dGhvcm5lJyBTaGVhcm9uXG4gKlxuICogT3B0aW1pemVkIHNjYW5saW5lcyArIG5vaXNlIHZlcnNpb24gd2l0aCBpbnRlbnNpdHkgc2NhbGluZ1xuICogR2VvcmcgJ0xldmlhdGhhbicgU3RlaW5yb2hkZXJcbiAqXG4gKiBUaGlzIHZlcnNpb24gaXMgcHJvdmlkZWQgdW5kZXIgYSBDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIDMuMCBMaWNlbnNlXG4gKiBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS8zLjAvXG4gKi9cblxuVEhSRUUuRmlsbVNoYWRlciA9IHtcblxuXHR1bmlmb3Jtczoge1xuXG5cdFx0XCJ0RGlmZnVzZVwiOiAgIHsgdHlwZTogXCJ0XCIsIHZhbHVlOiBudWxsIH0sXG5cdFx0XCJ0aW1lXCI6ICAgICAgIHsgdHlwZTogXCJmXCIsIHZhbHVlOiAwLjAgfSxcblx0XHRcIm5JbnRlbnNpdHlcIjogeyB0eXBlOiBcImZcIiwgdmFsdWU6IDAuNSB9LFxuXHRcdFwic0ludGVuc2l0eVwiOiB7IHR5cGU6IFwiZlwiLCB2YWx1ZTogMC4wNSB9LFxuXHRcdFwic0NvdW50XCI6ICAgICB7IHR5cGU6IFwiZlwiLCB2YWx1ZTogNDA5NiB9LFxuXHRcdFwiZ3JheXNjYWxlXCI6ICB7IHR5cGU6IFwiaVwiLCB2YWx1ZTogMSB9XG5cblx0fSxcblxuXHR2ZXJ0ZXhTaGFkZXI6IFtcblxuXHRcdFwidmFyeWluZyB2ZWMyIHZVdjtcIixcblxuXHRcdFwidm9pZCBtYWluKCkge1wiLFxuXG5cdFx0XHRcInZVdiA9IHV2O1wiLFxuXHRcdFx0XCJnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXG5cblx0XHRcIn1cIlxuXG5cdF0uam9pbihcIlxcblwiKSxcblxuXHRmcmFnbWVudFNoYWRlcjogW1xuXG5cdFx0Ly8gY29udHJvbCBwYXJhbWV0ZXJcblx0XHRcInVuaWZvcm0gZmxvYXQgdGltZTtcIixcblxuXHRcdFwidW5pZm9ybSBib29sIGdyYXlzY2FsZTtcIixcblxuXHRcdC8vIG5vaXNlIGVmZmVjdCBpbnRlbnNpdHkgdmFsdWUgKDAgPSBubyBlZmZlY3QsIDEgPSBmdWxsIGVmZmVjdClcblx0XHRcInVuaWZvcm0gZmxvYXQgbkludGVuc2l0eTtcIixcblxuXHRcdC8vIHNjYW5saW5lcyBlZmZlY3QgaW50ZW5zaXR5IHZhbHVlICgwID0gbm8gZWZmZWN0LCAxID0gZnVsbCBlZmZlY3QpXG5cdFx0XCJ1bmlmb3JtIGZsb2F0IHNJbnRlbnNpdHk7XCIsXG5cblx0XHQvLyBzY2FubGluZXMgZWZmZWN0IGNvdW50IHZhbHVlICgwID0gbm8gZWZmZWN0LCA0MDk2ID0gZnVsbCBlZmZlY3QpXG5cdFx0XCJ1bmlmb3JtIGZsb2F0IHNDb3VudDtcIixcblxuXHRcdFwidW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2U7XCIsXG5cblx0XHRcInZhcnlpbmcgdmVjMiB2VXY7XCIsXG5cblx0XHRcInZvaWQgbWFpbigpIHtcIixcblxuXHRcdFx0Ly8gc2FtcGxlIHRoZSBzb3VyY2Vcblx0XHRcdFwidmVjNCBjVGV4dHVyZVNjcmVlbiA9IHRleHR1cmUyRCggdERpZmZ1c2UsIHZVdiApO1wiLFxuXG5cdFx0XHQvLyBtYWtlIHNvbWUgbm9pc2Vcblx0XHRcdFwiZmxvYXQgeCA9IHZVdi54ICogdlV2LnkgKiB0aW1lICogIDEwMDAuMDtcIixcblx0XHRcdFwieCA9IG1vZCggeCwgMTMuMCApICogbW9kKCB4LCAxMjMuMCApO1wiLFxuXHRcdFx0XCJmbG9hdCBkeCA9IG1vZCggeCwgMC4wMSApO1wiLFxuXG5cdFx0XHQvLyBhZGQgbm9pc2Vcblx0XHRcdFwidmVjMyBjUmVzdWx0ID0gY1RleHR1cmVTY3JlZW4ucmdiICsgY1RleHR1cmVTY3JlZW4ucmdiICogY2xhbXAoIDAuMSArIGR4ICogMTAwLjAsIDAuMCwgMS4wICk7XCIsXG5cblx0XHRcdC8vIGdldCB1cyBhIHNpbmUgYW5kIGNvc2luZVxuXHRcdFx0XCJ2ZWMyIHNjID0gdmVjMiggc2luKCB2VXYueSAqIHNDb3VudCApLCBjb3MoIHZVdi55ICogc0NvdW50ICkgKTtcIixcblxuXHRcdFx0Ly8gYWRkIHNjYW5saW5lc1xuXHRcdFx0XCJjUmVzdWx0ICs9IGNUZXh0dXJlU2NyZWVuLnJnYiAqIHZlYzMoIHNjLngsIHNjLnksIHNjLnggKSAqIHNJbnRlbnNpdHk7XCIsXG5cblx0XHRcdC8vIGludGVycG9sYXRlIGJldHdlZW4gc291cmNlIGFuZCByZXN1bHQgYnkgaW50ZW5zaXR5XG5cdFx0XHRcImNSZXN1bHQgPSBjVGV4dHVyZVNjcmVlbi5yZ2IgKyBjbGFtcCggbkludGVuc2l0eSwgMC4wLDEuMCApICogKCBjUmVzdWx0IC0gY1RleHR1cmVTY3JlZW4ucmdiICk7XCIsXG5cblx0XHRcdC8vIGNvbnZlcnQgdG8gZ3JheXNjYWxlIGlmIGRlc2lyZWRcblx0XHRcdFwiaWYoIGdyYXlzY2FsZSApIHtcIixcblxuXHRcdFx0XHRcImNSZXN1bHQgPSB2ZWMzKCBjUmVzdWx0LnIgKiAwLjMgKyBjUmVzdWx0LmcgKiAwLjU5ICsgY1Jlc3VsdC5iICogMC4xMSApO1wiLFxuXG5cdFx0XHRcIn1cIixcblxuXHRcdFx0XCJnbF9GcmFnQ29sb3IgPSAgdmVjNCggY1Jlc3VsdCwgY1RleHR1cmVTY3JlZW4uYSApO1wiLFxuXG5cdFx0XCJ9XCJcblxuXHRdLmpvaW4oXCJcXG5cIilcblxufTtcbiIsInZhciBzb3VuZGNsb3VkID0gcmVxdWlyZSgnc291bmRjbG91ZC1iYWRnZScpO1xudmFyIG11dGUgPSByZXF1aXJlKCcuL211dGUnKTtcblxudmFyIHNvdW5kT2ZmID0gZmFsc2U7XG5cbnZhciBhdWRpbyA9IG51bGw7XG52YXIgZmV0Y2hBbmRQbGF5U29uZyA9IG51bGw7XG52YXIgdGltZXNDYWxsZWRTb3VuZGNsb3VkID0gMDtcblxudmFyIE11c2ljID0gZnVuY3Rpb24oIHBvZW0sIHByb3BlcnRpZXMgKSB7XG5cblx0ZmV0Y2hBbmRQbGF5U29uZyA9IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHZhciBjdXJyZW50VGltZSA9ICsrdGltZXNDYWxsZWRTb3VuZGNsb3VkO1xuXHRcdFxuXHRcdHNvdW5kY2xvdWQoe1xuXHRcdFx0XG5cdFx0XHRjbGllbnRfaWQ6ICc2MDU3YzlhZjg2MmJmMjQ1ZDRjNDAyMTc5ZTMxN2Y1MicsXG5cdFx0XHRzb25nOiBwcm9wZXJ0aWVzLnVybCxcblx0XHRcdGRhcms6IGZhbHNlLFxuXHRcdFx0Z2V0Rm9udHM6IGZhbHNlXG5cdFx0XHRcblx0XHR9LCBmdW5jdGlvbiggZXJyLCBzcmMsIGRhdGEsIGRpdiApIHtcblx0XHRcdFxuXHRcdFx0Ly9OdWxsaWZ5IGNhbGxiYWNrcyB0aGF0IGFyZSBvdXQgb2Ygb3JkZXJcblx0XHRcdGlmKCBjdXJyZW50VGltZSAhPT0gdGltZXNDYWxsZWRTb3VuZGNsb3VkICkgcmV0dXJuO1xuXHRcdFx0aWYoIG11dGUubXV0ZWQoKSApIHtcblx0XHRcdFx0JCgnLm5wbS1zY2Itd2hpdGUnKS5oaWRlKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoJy5ucG0tc2NiLXdoaXRlJykuc2hvdygpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiggZXJyICkgdGhyb3cgZXJyO1xuXG5cdFx0XHRhdWRpbyA9IG5ldyBBdWRpbygpO1xuXHRcdFx0YXVkaW8uc3JjID0gc3JjO1xuXHRcdFx0YXVkaW8ucGxheSgpO1xuXHRcdFx0YXVkaW8ubG9vcCA9IHRydWU7XG5cdFx0XHRhdWRpby52b2x1bWUgPSBwcm9wZXJ0aWVzLnZvbHVtZSB8fCAwLjY7XG5cdFx0XG5cdFx0XHQkKGF1ZGlvKS5vbignbG9hZGVkbWV0YWRhdGEnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYoIGF1ZGlvIClcdGF1ZGlvLmN1cnJlbnRUaW1lID0gcHJvcGVydGllcy5zdGFydFRpbWUgfHwgMDtcblx0XHRcdH0pO1xuXHRcdFxuXG5cdFx0fSk7XG5cdFxuXHRcdHBvZW0uZW1pdHRlci5vbignZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHRpZiggYXVkaW8gKSB7XG5cdFx0XHRcdGF1ZGlvLnBhdXNlKCk7XG5cdFx0XHRcdGF1ZGlvID0gbnVsbDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0JCgnLm5wbS1zY2Itd2hpdGUnKS5yZW1vdmUoKTtcblx0XHRcdFxuXHRcdH0pO1xuXHRcdFxuXHR9O1xuXHRcblx0aWYoICFtdXRlLm11dGVkKCkgKSB7XG5cdFx0ZmV0Y2hBbmRQbGF5U29uZygpO1xuXHRcdGZldGNoQW5kUGxheVNvbmcgPSBudWxsO1xuXHR9XG5cdFxufTtcblxuTXVzaWMucHJvdG90eXBlLm11dGVkID0gZmFsc2U7XG5cbm11dGUuZW1pdHRlci5vbignbXV0ZScsIGZ1bmN0aW9uIG11dGVNdXNpYyggZSApIHtcblxuXHRpZiggYXVkaW8gKSBhdWRpby5wYXVzZSgpO1xuXHRcblx0JCgnLm5wbS1zY2Itd2hpdGUnKS5oaWRlKCk7XG5cbn0pO1xuXG5tdXRlLmVtaXR0ZXIub24oJ3VubXV0ZScsIGZ1bmN0aW9uIHVubXV0ZU11c2ljKCBlICkge1xuXG5cdGlmKCBhdWRpbyApIGF1ZGlvLnBsYXkoKTtcblxuXHRpZiggZmV0Y2hBbmRQbGF5U29uZyApIHtcblx0XHRmZXRjaEFuZFBsYXlTb25nKCk7XG5cdFx0ZmV0Y2hBbmRQbGF5U29uZyA9IG51bGw7XG5cdH1cblx0XG5cdCQoJy5ucG0tc2NiLXdoaXRlJykuc2hvdygpO1xuXHRcblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTXVzaWM7IiwidmFyIHBvZW1NdXRlID0gcmVxdWlyZSgncG9lbS1tdXRlJyk7XG52YXIgbXV0ZSA9IHBvZW1NdXRlKCk7XG53aW5kb3cubXV0ZVByaW1lID0gbXV0ZTtcbndpbmRvdy5tdXRlUHJpbWVFbWl0dGVyID0gbXV0ZS5lbWl0dGVyO1xuXG4vL1R1cm4gb24gYSBwb2VtIG11dGVyXG5tb2R1bGUuZXhwb3J0cyA9IG11dGU7IiwiZnVuY3Rpb24gcm91bmRUbyggdmFsdWUsIGRlY2ltYWxQbGFjZXMgKSB7XG5cdFxuXHRpZiggdHlwZW9mIGRlY2ltYWxQbGFjZXMgPT09IFwibnVtYmVyXCIgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5yb3VuZCggTWF0aC5wb3coMTAsIGRlY2ltYWxQbGFjZXMpICogdmFsdWUgKSAvIE1hdGgucG93KDEwLCBkZWNpbWFsUGxhY2VzKTtcblxuXHR9IGVsc2Uge1xuXHRcdFxuXHRcdHJldHVybiB2YWx1ZTtcblx0XHRcblx0fVxuXHRcbn1cblxuVEhSRUUuQ29uc29sZSA9IHtcblx0XG5cdHZlY3RvciA6IGZ1bmN0aW9uKCB2ZWN0b3JPckxpc3QsIGRlY2ltYWxQbGFjZXMgKSB7XG5cdFx0XG5cdFx0dmFyIHJlc3VsdHMgPSBbXTtcblx0XHR2YXIgbGlzdDtcblx0XHRcblx0XHRpZiggdmVjdG9yT3JMaXN0IGluc3RhbmNlb2YgVEhSRUUuVmVjdG9yMiB8fCB2ZWN0b3JPckxpc3QgaW5zdGFuY2VvZiBUSFJFRS5WZWN0b3IzICB8fCB2ZWN0b3JPckxpc3QgaW5zdGFuY2VvZiBUSFJFRS5WZWN0b3I0ICkge1xuXHRcdFx0bGlzdCA9IFsgdmVjdG9yT3JMaXN0IF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxpc3QgPSB2ZWN0b3JPckxpc3Q7XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnNvbGUudGFibGUoXG5cdFx0XHRfLm1hcCggbGlzdCwgZnVuY3Rpb24oIHZlY3RvciApIHtcblx0XHRcdFx0cmV0dXJuIF8ubWFwKCB2ZWN0b3IudG9BcnJheSgpLCBmdW5jdGlvbiggeCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcm91bmRUbyggeCwgZGVjaW1hbFBsYWNlcyApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0KTtcblx0XHRcblx0fSxcblx0XG5cdGZhY2UgOiBmdW5jdGlvbiggZmFjZU9yTGlzdCApIHtcblx0XHRcblx0XHR2YXIgcmVzdWx0cyA9IFtdO1xuXHRcdHZhciBsaXN0O1xuXHRcdFxuXHRcdGlmKCBmYWNlT3JMaXN0IGluc3RhbmNlb2YgVEhSRUUuRmFjZTMgKSB7XG5cdFx0XHRsaXN0ID0gWyBmYWNlT3JMaXN0IF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxpc3QgPSBmYWNlT3JMaXN0O1xuXHRcdH1cblx0XHRcblx0XHRjb25zb2xlLnRhYmxlKFxuXHRcdFx0Xy5tYXAoIGxpc3QsIGZ1bmN0aW9uKCBmYWNlICkge1xuXHRcdFx0XHRyZXR1cm4gW2ZhY2UuYSwgZmFjZS5iLCBmYWNlLmNdO1xuXHRcdFx0fSlcblx0XHQpO1xuXHRcdFxuXHR9LFxuXHRcblx0bWF0cml4IDogZnVuY3Rpb24oIG1hdHJpeE9yRWxlbWVudHMsIGRlY2ltYWxQbGFjZXMgKSB7XG4gXG5cdFx0dmFyIGksIGosIGVsLCBlbHMsIHJlc3VsdHM7XG4gXG5cdFx0cmVzdWx0cyA9IFtdO1xuXHRcdGogPSAwO1xuXHRcdFxuXHRcdGlmKCBtYXRyaXhPckVsZW1lbnRzIGluc3RhbmNlb2YgVEhSRUUuTWF0cml4NCApIHtcblx0XHRcdGVscyA9IG1hdHJpeE9yRWxlbWVudHMuZWxlbWVudHM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVscyA9IG1hdHJpeE9yRWxlbWVudHM7XG5cdFx0fVxuIFxuXHRcdGZvciggaT0wOyBpIDwgZWxzLmxlbmd0aDsgaSsrICkge1xuXHRcdFxuXHRcdFx0aWYoIGogPT09IDAgKSB7XG5cdFx0XHRcdHJlc3VsdHMucHVzaChbXSk7XG5cdFx0XHR9XG4gXG5cdFx0XHRlbCA9IHJvdW5kVG8oIGVsc1tpXSwgZGVjaW1hbFBsYWNlcyApO1xuIFxuXHRcdFx0cmVzdWx0c1tNYXRoLmZsb29yKGkgLyA0KSAlIDRdLnB1c2goIGVsICk7XG4gXG5cdFx0XHRqKys7XG5cdFx0XHRqICU9IDQ7XG5cdFx0XG5cdFx0XHRpZiggaSAlIDE2ID09PSAxNSApIHtcblx0XHRcdFx0Y29uc29sZS50YWJsZSggcmVzdWx0cyApO1xuXHRcdFx0XHRyZXN1bHRzID0gW107XG5cdFx0XHR9XG4gXG5cdFx0fVxuIFxuXHR9LFxuXHRcblx0cXVhdGVybmlvbiA6IChmdW5jdGlvbigpIHtcblx0XHRcblx0XHR2YXIgZXVsZXIgPSBuZXcgVEhSRUUuRXVsZXIoKVxuXHRcdFxuXHRcdHZhciByYWRUb1VuaXRQaSA9IGZ1bmN0aW9uKG4pIHtcblx0XHRcdHJldHVybiBuIC8gTWF0aC5QSVxuXHRcdH1cblx0XHRcblx0XHR2YXIgcm91bmRUb0ZuID0gZnVuY3Rpb24oIGRlY2ltYWxQbGFjZXMgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24obikge1xuXHRcdFx0XHRyZXR1cm4gcm91bmRUbyhuLCBkZWNpbWFsUGxhY2VzKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gZnVuY3Rpb24oIHF1YXRlcm5pb24sIGRlY2ltYWxQbGFjZXMgKSB7XG5cdFx0XHRcblx0XHRcdGV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKCBxdWF0ZXJuaW9uIClcblx0XHRcdFxuXHRcdFx0dmFyIHJvdW5kID0gcm91bmRUb0ZuKCBkZWNpbWFsUGxhY2VzIClcblx0XHRcdHZhciBldWxlckFyciA9IGV1bGVyLnRvQXJyYXkoKS5zbGljZSgwLDMpXG5cdFx0XHRcblx0XHRcdGNvbnNvbGUudGFibGUoe1xuXHRcdFx0XHRxdWF0ZXJuaW9uOiBfLm1hcCggcXVhdGVybmlvbi50b0FycmF5KCksIHJvdW5kICksXG5cdFx0XHRcdGV1bGVyUmFkICA6IF8ubWFwKCBldWxlckFyciwgcm91bmQgKSxcblx0XHRcdFx0ZXVsZXJVbml0UGkgIDogXy5tYXAoXG5cdFx0XHRcdFx0Xy5tYXAoZXVsZXJBcnIsIHJhZFRvVW5pdFBpKSxcblx0XHRcdFx0XHRyb3VuZFxuXHRcdFx0XHQpXG5cdFx0XHR9KVxuXHRcdH1cblx0fSkoKSxcblx0XG5cdGV1bGVyIDogKGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdHZhciBxdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKVxuXHRcdFxuXHRcdHZhciByYWRUb1VuaXRQaSA9IGZ1bmN0aW9uKG4pIHtcblx0XHRcdHJldHVybiBuIC8gTWF0aC5QSVxuXHRcdH1cblx0XHRcblx0XHR2YXIgcm91bmRUb0ZuID0gZnVuY3Rpb24oIGRlY2ltYWxQbGFjZXMgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24obikge1xuXHRcdFx0XHRyZXR1cm4gcm91bmRUbyhuLCBkZWNpbWFsUGxhY2VzKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGV1bGVyLCBkZWNpbWFsUGxhY2VzICkge1xuXHRcdFx0XG5cdFx0XHRxdWF0ZXJuaW9uLnNldEZyb21FdWxlciggZXVsZXIgKVxuXHRcdFx0XG5cdFx0XHR2YXIgcm91bmQgPSByb3VuZFRvRm4oIGRlY2ltYWxQbGFjZXMgKVxuXHRcdFx0dmFyIGV1bGVyQXJyID0gZXVsZXIudG9BcnJheSgpLnNsaWNlKDAsMylcblx0XHRcdFxuXHRcdFx0Y29uc29sZS50YWJsZSh7XG5cdFx0XHRcdHF1YXRlcm5pb246IF8ubWFwKCBxdWF0ZXJuaW9uLnRvQXJyYXkoKSwgcm91bmQgKSxcblx0XHRcdFx0ZXVsZXJSYWQgIDogXy5tYXAoIGV1bGVyQXJyLCByb3VuZCApLFxuXHRcdFx0XHRldWxlclVuaXRQaSAgOiBfLm1hcChcblx0XHRcdFx0XHRfLm1hcChldWxlckFyciwgcmFkVG9Vbml0UGkpLFxuXHRcdFx0XHRcdHJvdW5kXG5cdFx0XHRcdClcblx0XHRcdH0pXG5cdFx0fVxuXHR9KSgpXG59O1xuXG53aW5kb3cuY29uc29sZU1hdHJpeCA9IFRIUkVFLkNvbnNvbGUubWF0cml4O1xud2luZG93LmNvbnNvbGVWZWN0b3IgPSBUSFJFRS5Db25zb2xlLnZlY3RvcjtcbndpbmRvdy5jb25zb2xlRmFjZSA9IFRIUkVFLkNvbnNvbGUuZmFjZTtcbndpbmRvdy5jb25zb2xlUXVhdGVybmlvbiA9IFRIUkVFLkNvbnNvbGUucXVhdGVybmlvbjtcbndpbmRvdy5jb25zb2xlRXVsZXIgPSBUSFJFRS5Db25zb2xlLmV1bGVyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRIUkVFLkNvbnNvbGU7IiwidmFyIGNhbGN1bGF0ZVNxdWFyZWRUZXh0dXJlV2lkdGggPSBmdW5jdGlvbiggY291bnQgKSB7XG5cdHZhciB3aWR0aCA9IDE7XG5cdHZhciBpID0gMDtcblx0XG5cdHdoaWxlKCB3aWR0aCAqIHdpZHRoIDwgKGNvdW50IC8gNCkgKSB7XG5cdFx0XG5cdFx0aSsrO1xuXHRcdHdpZHRoID0gTWF0aC5wb3coIDIsIGkgKTtcblx0XHRcblx0fVxuXHRcblx0cmV0dXJuIHdpZHRoO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYWxjdWxhdGVTcXVhcmVkVGV4dHVyZVdpZHRoO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZXN0cm95TWVzaCggb2JqICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0aWYoIG9iai5nZW9tZXRyeSApIG9iai5nZW9tZXRyeS5kaXNwb3NlKCk7XG5cdFx0aWYoIG9iai5tYXRlcmlhbCApIG9iai5tYXRlcmlhbC5kaXNwb3NlKCk7XG5cdH07XG59OyIsImZ1bmN0aW9uIF9uZXdCdWZmZXIoIGZpbmFsVmVydENvdW50LCBpdGVtU2l6ZSApIHtcblx0XG5cdHZhciBhcnJheUJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoIGZpbmFsVmVydENvdW50ICogaXRlbVNpemUgKVxuXHRyZXR1cm4gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggYXJyYXlCdWZmZXIsIGl0ZW1TaXplIClcbn1cblxuZnVuY3Rpb24gX2R1cGxpY2F0ZUJ1ZmZlciggYnVmZmVyQSwgYnVmZmVyQiwgdmVydHNQZXJJbnN0YW5jZSwgbiApIHtcblx0XG5cdHZhciBvZmZzZXRTaXplID0gdmVydHNQZXJJbnN0YW5jZSAqIGJ1ZmZlckEuaXRlbVNpemVcblx0XG5cdGZvciggdmFyIGk9MDsgaSA8IG47IGkrKyApIHtcblx0XHRcblx0XHR2YXIgb2Zmc2V0ID0gaSAqIG9mZnNldFNpemUgXG5cdFx0XG5cdFx0Zm9yKCB2YXIgaiA9IDAgOyBqIDwgb2Zmc2V0U2l6ZTsgaisrICkge1xuXHRcdFx0XG5cdFx0XHRidWZmZXJCLmFycmF5WyBvZmZzZXQgKyBqIF0gPSBidWZmZXJBLmFycmF5WyBqIF1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gX2FkZEluZGljZXMoIGdlb21ldHJ5LCB2ZXJ0c1Blckluc3RhbmNlLCBuICkge1xuXHRcblx0dmFyIGFycmF5QnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheSggbiAqIHZlcnRzUGVySW5zdGFuY2UgKVxuXHRcblx0Zm9yKCB2YXIgaT0wOyBpIDwgbjsgaSsrICkge1xuXHRcdFxuXHRcdHZhciBvZmZzZXQgPSBpICogdmVydHNQZXJJbnN0YW5jZVxuXHRcdFxuXHRcdGZvciggdmFyIGo9MDsgaiA8IHZlcnRzUGVySW5zdGFuY2U7IGorKyApIHtcblx0XHRcdFxuXHRcdFx0YXJyYXlCdWZmZXJbIG9mZnNldCArIGogXSA9IGlcblx0XHR9XG5cdH1cblx0XG5cdHZhciBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBhcnJheUJ1ZmZlciwgMSApXG5cdFxuXHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdhdHRyaWJ1dGVJbmRleCcsIGJ1ZmZlckF0dHJpYnV0ZSApXG5cdGdlb21ldHJ5LmF0dHJpYnV0ZXMuYXR0cmlidXRlSW5kZXgubmVlZHNVcGRhdGUgPSB0cnVlXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZHVwbGljYXRlQnVmZmVyR2VvbWV0cnkoIGdlb21ldHJ5LCBuICkge1xuXHRcblx0dmFyIHBvc2l0aW9uQSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb25cblx0dmFyIG5vcm1hbEEgICA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsXG5cdHZhciB1dkEgICAgICAgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2XG5cdFxuXHR2YXIgdmVydHNQZXJJbnN0YW5jZSA9IHBvc2l0aW9uQS5hcnJheS5sZW5ndGggLyAzXG5cdHZhciBmaW5hbFZlcnRDb3VudCA9IHZlcnRzUGVySW5zdGFuY2UgKiBuXG5cdFxuXHR2YXIgcG9zaXRpb25CID0gX25ld0J1ZmZlciggZmluYWxWZXJ0Q291bnQsIDMgKVxuXHR2YXIgbm9ybWFsQiAgID0gX25ld0J1ZmZlciggZmluYWxWZXJ0Q291bnQsIDMgKVxuXHR2YXIgdXZCICAgICAgID0gX25ld0J1ZmZlciggZmluYWxWZXJ0Q291bnQsIDIgKVxuXHRcblx0X2R1cGxpY2F0ZUJ1ZmZlciggcG9zaXRpb25BLCBwb3NpdGlvbkIsIHZlcnRzUGVySW5zdGFuY2UsIG4gKVxuXHRfZHVwbGljYXRlQnVmZmVyKCAgIG5vcm1hbEEsICAgbm9ybWFsQiwgdmVydHNQZXJJbnN0YW5jZSwgbiApXG5cdF9kdXBsaWNhdGVCdWZmZXIoICAgICAgIHV2QSwgICAgICAgdXZCLCB2ZXJ0c1Blckluc3RhbmNlLCBuIClcblx0XG5cdGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24gPSBwb3NpdGlvbkJcblx0Z2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgICA9IG5vcm1hbEJcblx0Z2VvbWV0cnkuYXR0cmlidXRlcy51diAgICAgICA9IHV2QlxuXHRcblx0X2FkZEluZGljZXMoIGdlb21ldHJ5LCB2ZXJ0c1Blckluc3RhbmNlLCBuIClcblx0XG5cdHJldHVybiBnZW9tZXRyeVxufSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29weVRleHR1cmVGbiggcmVuZGVyZXIgKSB7XG5cdFxuXHR2YXIgY2FtZXJhID0gbmV3IFRIUkVFLkNhbWVyYSgpXG5cdGNhbWVyYS5wb3NpdGlvbi56ID0gMVxuXHRcblx0dmFyIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKClcblx0XG5cdHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goXG5cdFx0bmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDIsIDIgKSxcblx0XHRuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoIHtcblxuXHRcdFx0dW5pZm9ybXM6IHtcblx0XHRcdFx0cmVzb2x1dGlvbjogeyB0eXBlOiBcInYyXCIsIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMigpIH0sXG5cdFx0XHRcdHRleHR1cmU6IHsgdHlwZTogXCJ0XCIsIHZhbHVlOiBudWxsIH1cblx0XHRcdH0sXG5cblx0XHRcdHZlcnRleFNoYWRlcjogYFxuXHRcdFx0XHR2b2lkIG1haW4oKVx0e1xuXHRcdFx0XHRcdGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApO1xuXHRcdFx0XHR9XG5cdFx0XHRgLFxuXG5cdFx0XHRmcmFnbWVudFNoYWRlcjogYFxuXHRcdFx0XHR1bmlmb3JtIHZlYzIgcmVzb2x1dGlvbjtcblx0XHRcdFx0dW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcblxuXHRcdFx0XHR2b2lkIG1haW4oKVx0e1xuXG5cdFx0XHRcdFx0dmVjMiB1diA9IGdsX0ZyYWdDb29yZC54eSAvIHJlc29sdXRpb24ueHk7XG5cblx0XHRcdFx0XHR2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKCB0ZXh0dXJlLCB1diApO1xuXG5cdFx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IueHl6LCAxLjAgKTtcblxuXHRcdFx0XHR9XG5cdFx0XHRgXG5cdFx0fSlcblx0KVxuXHRcblx0c2NlbmUuYWRkKCBtZXNoIClcblx0XG5cdHZhciB1bmlmb3JtcyA9IG1lc2gubWF0ZXJpYWwudW5pZm9ybXNcblx0XG5cdHJldHVybiBmdW5jdGlvbiBjb3B5VGV4dHVyZSggaW5wdXQsIG91dHB1dCwgdGV4dHVyZVNpZGVMZW5ndGggKSB7XG5cdFx0XG5cdFx0dW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS5zZXQoIHRleHR1cmVTaWRlTGVuZ3RoLCB0ZXh0dXJlU2lkZUxlbmd0aCApXG5cdFx0dW5pZm9ybXMudGV4dHVyZS52YWx1ZSA9IGlucHV0XG5cdFx0cmVuZGVyZXIucmVuZGVyKCBzY2VuZSwgY2FtZXJhLCBvdXRwdXQgKVxuXHR9XG59IiwidmFyIENvcHlUZXh0dXJlID0gcmVxdWlyZSgnLi9jb3B5LXRleHR1cmUnKVxuXG5mdW5jdGlvbiBfbmV4dFBvd2VyT2ZUd28oIHZhbHVlICkge1xuXG5cdHZhbHVlIC0tO1xuXHR2YWx1ZSB8PSB2YWx1ZSA+PiAxO1xuXHR2YWx1ZSB8PSB2YWx1ZSA+PiAyO1xuXHR2YWx1ZSB8PSB2YWx1ZSA+PiA0O1xuXHR2YWx1ZSB8PSB2YWx1ZSA+PiA4O1xuXHR2YWx1ZSB8PSB2YWx1ZSA+PiAxNjtcblx0dmFsdWUgKys7XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBfY3JlYXRlUmVuZGVyVGFyZ2V0KCBzaWRlTGVuZ3RoLCBmb3JtYXQgKSB7XG5cdFxuXHRyZXR1cm4gbmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KFxuXHRcdHNpZGVMZW5ndGgsXG5cdFx0c2lkZUxlbmd0aCxcblx0XHR7XG5cdFx0XHR3cmFwUzogVEhSRUUuUmVwZWF0V3JhcHBpbmcsIC8vIFRPRE8gLSBub3QgbmVlZGVkP1xuXHRcdFx0d3JhcFQ6IFRIUkVFLlJlcGVhdFdyYXBwaW5nLCAvLyBUT0RPIC0gbm90IG5lZWRlZD9cblx0XHRcdG1pbkZpbHRlcjogVEhSRUUuTmVhcmVzdEZpbHRlcixcblx0XHRcdG1hZ0ZpbHRlcjogVEhSRUUuTmVhcmVzdEZpbHRlcixcblx0XHRcdGZvcm1hdDogZm9ybWF0LFxuXHRcdFx0dHlwZTogVEhSRUUuRmxvYXRUeXBlLFxuXHRcdFx0c3RlbmNpbEJ1ZmZlcjogZmFsc2Vcblx0XHR9XG5cdClcbn1cblxuZnVuY3Rpb24gX3JlbmRlckZuKCByZW5kZXJlciApIHtcblx0XG5cdHZhciBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpXG5cdHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuQ2FtZXJhKClcblx0dmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDIsIDIgKSApXG5cdFxuXHRjYW1lcmEucG9zaXRpb24ueiA9IDFcblx0c2NlbmUuYWRkKCBtZXNoIClcblx0XG5cdHJldHVybiBmdW5jdGlvbiggc2hhZGVyTWF0ZXJpYWwsIHJlbmRlclRhcmdldE91dCApIHtcblx0XG5cdFx0bWVzaC5tYXRlcmlhbCA9IHNoYWRlck1hdGVyaWFsXG5cdFx0cmVuZGVyZXIucmVuZGVyKCBzY2VuZSwgY2FtZXJhLCByZW5kZXJUYXJnZXRPdXQgKVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9mbGlwRm4oIHBhc3MgKSB7XG5cdFxuXHR2YXIgaW5wdXQgPSAwXG5cdHZhciBvdXRwdXQgPSAxXG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0aW5wdXQgPSAoaW5wdXQgKyAxKSAlIDJcblx0XHRvdXRwdXQgPSAob3V0cHV0ICsgMSkgJSAyXG5cdFxuXHRcdHBhc3MuaW5wdXRSZW5kZXJUYXJnZXQgPSBwYXNzLnJlbmRlclRhcmdldHNbaW5wdXRdXG5cdFx0cGFzcy5vdXRwdXRSZW5kZXJUYXJnZXQgPSBwYXNzLnJlbmRlclRhcmdldHNbb3V0cHV0XVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9hZGRQYXNzRm4oIGN1cnJlbnQsIHJlbmRlcmVyLCBjb3B5VGV4dHVyZSApIHtcblxuXHRyZXR1cm4gZnVuY3Rpb24gYWRkUGFzcyggbmFtZSwgcHJvcHMgKSB7XG5cdFx0XG5cdFx0dmFyIGNvbmZpZyA9IF8uZXh0ZW5kKHtcblx0XHRcdHNpemUgICAgICAgICAgICAgIDogMTAwLFxuXHRcdFx0c3RyaWRlICAgICAgICAgICAgOiA0LFxuXHRcdFx0Z2VuZXJhdGVEYXR1bSAgICAgOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0cHJlUmVuZGVyICAgICAgICAgOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0cG9zdFJlbmRlciAgICAgICAgOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0dW5pZm9ybU5hbWUgICAgICAgOiBcInRleHR1cmVcIixcblx0XHRcdGF1dG9VcGRhdGVVbmlmb3JtIDogdHJ1ZSxcblx0XHRcdHNoYWRlck1hdGVyaWFsICAgIDogbnVsbCxcblx0XHRcdHRleHR1cmVTaWRlTGVuZ3RoIDogbnVsbCxcblx0XHRcdGFjdGl2ZSAgICAgICAgICAgIDogdHJ1ZVxuXHRcdH0sIHByb3BzKVxuXHRcdFxuXHRcdFxuXHRcdGlmKCBjb25maWcuc3RyaWRlID09PSAzICkge1xuXHRcdFx0dmFyIGZvcm1hdCA9IFRIUkVFLlJHQkZvcm1hdFxuXHRcdH0gZWxzZSBpZiggY29uZmlnLnN0cmlkZSA9PT0gNCApe1xuXHRcdFx0dmFyIGZvcm1hdCA9IFRIUkVFLlJHQkFGb3JtYXRcdFx0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1N0cmlkZSBtdXN0IGJlIDMgb3IgNCB0byB3b3JrIHdpdGggdGhlIFJHQiBhbmQgUkdCQSBmb3JtYXRzLicpXG5cdFx0fVxuXG5cdFx0dmFyIHRleHR1cmVTaWRlTGVuZ3RoID0gX25leHRQb3dlck9mVHdvKCBNYXRoLnNxcnQoIGNvbmZpZy5zaXplICkgKVxuXHRcdGNvbmZpZy50ZXh0dXJlU2lkZUxlbmd0aCA9IHRleHR1cmVTaWRlTGVuZ3RoXG5cdFx0dmFyIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KCB0ZXh0dXJlU2lkZUxlbmd0aCAqIHRleHR1cmVTaWRlTGVuZ3RoICogY29uZmlnLnN0cmlkZSApXG5cdFx0XG5cblx0XHRmb3IoIHZhciBpPTA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSBjb25maWcuc3RyaWRlICkge1xuXHRcdFx0Y29uZmlnLmdlbmVyYXRlRGF0dW0oIGRhdGEsIGkgKVxuXHRcdH1cblxuXHRcdHZhciByZW5kZXJUYXJnZXRBID0gX2NyZWF0ZVJlbmRlclRhcmdldCggdGV4dHVyZVNpZGVMZW5ndGgsIGZvcm1hdCApXG5cdFx0dmFyIHJlbmRlclRhcmdldEIgPSBfY3JlYXRlUmVuZGVyVGFyZ2V0KCB0ZXh0dXJlU2lkZUxlbmd0aCwgZm9ybWF0IClcblx0XG5cdFx0cmVuZGVyVGFyZ2V0QS5uYW1lID0gXCJyZW5kZXJUYXJnZXRBXCJcblx0XHRyZW5kZXJUYXJnZXRCLm5hbWUgPSBcInJlbmRlclRhcmdldEJcIlxuXHRcdFxuXHRcdHZhciB0ZXh0dXJlID0gbmV3IFRIUkVFLkRhdGFUZXh0dXJlKCBkYXRhLCB0ZXh0dXJlU2lkZUxlbmd0aCwgdGV4dHVyZVNpZGVMZW5ndGggKVxuXHRcdF8uZXh0ZW5kKCB0ZXh0dXJlLCB7XG5cdFx0XHRmb3JtYXQgICAgICAgOiBmb3JtYXQsXG5cdFx0XHR0eXBlICAgICAgICAgOiBUSFJFRS5GbG9hdFR5cGUsXG5cdFx0XHRtaW5GaWx0ZXIgICAgOiBUSFJFRS5OZWFyZXN0RmlsdGVyLFxuXHRcdFx0bWFnRmlsdGVyICAgIDogVEhSRUUuTmVhcmVzdEZpbHRlcixcblx0XHRcdG5lZWRzVXBkYXRlICA6IHRydWUsXG5cdFx0XHRmbGlwWSAgICAgICAgOiBmYWxzZSxcblx0XHR9KVxuXG5cdFx0Y29weVRleHR1cmUoIHRleHR1cmUsIHJlbmRlclRhcmdldEEsIHRleHR1cmVTaWRlTGVuZ3RoIClcblx0XHRjb3B5VGV4dHVyZSggdGV4dHVyZSwgcmVuZGVyVGFyZ2V0QiwgdGV4dHVyZVNpZGVMZW5ndGggKVxuXHRcdFxuXHRcdHRleHR1cmUuZGlzcG9zZSgpXG5cdFxuXHRcdHZhciBwYXNzID0ge1xuXHRcdFx0YWN0aXZlICAgICAgICAgICAgICA6IGNvbmZpZy5hY3RpdmUsXG5cdFx0XHRzaXplICAgICAgICAgICAgICAgIDogY29uZmlnLnNpemUsXG5cdFx0XHRzdHJpZGUgICAgICAgICAgICAgIDogY29uZmlnLnN0cmlkZSxcblx0XHRcdHByZVJlbmRlciAgICAgICAgICAgOiBjb25maWcucHJlUmVuZGVyLFxuXHRcdFx0cG9zdFJlbmRlciAgICAgICAgICA6IGNvbmZpZy5wb3N0UmVuZGVyLFxuXHRcdFx0c2hhZGVyTWF0ZXJpYWwgICAgICA6IGNvbmZpZy5zaGFkZXJNYXRlcmlhbCxcblx0XHRcdHVuaWZvcm1OYW1lICAgICAgICAgOiBjb25maWcudW5pZm9ybU5hbWUsXG5cdFx0XHRhdXRvVXBkYXRlVW5pZm9ybSAgIDogY29uZmlnLmF1dG9VcGRhdGVVbmlmb3JtLFxuXHRcdFx0dGV4dHVyZVNpZGVMZW5ndGggICA6IGNvbmZpZy50ZXh0dXJlU2lkZUxlbmd0aCxcblx0XHRcdGlucHV0UmVuZGVyVGFyZ2V0ICAgOiBudWxsLFxuXHRcdFx0b3V0cHV0UmVuZGVyVGFyZ2V0ICA6IG51bGwsXG5cdFx0XHRyZW5kZXJUYXJnZXRzICA6IFsgcmVuZGVyVGFyZ2V0QSwgcmVuZGVyVGFyZ2V0QiBdXG5cdFx0fVxuXHRcdFxuXHRcdHBhc3MuZmxpcCA9IF9mbGlwRm4oIHBhc3MgKVxuXHRcblx0XHRjdXJyZW50LnBhc3Nlc1tuYW1lXSA9IHBhc3Ncblx0XG5cdFx0cmV0dXJuIHBhc3Ncblx0fVxufVxuXG5mdW5jdGlvbiBfcmVuZGVyQWxsRm4oIGN1cnJlbnQsIHJlbmRlciApIHtcblx0XG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24gcmVuZGVyQWxsKCkge1xuXHRcdFxuXG5cdFx0Xy5lYWNoKCBjdXJyZW50LnBhc3NlcywgZnVuY3Rpb24gZmxpcEZsb3BQYXNzZXMoIHBhc3MsIG5hbWUgKSB7XG5cblx0XHRcdGlmKCBwYXNzLmFjdGl2ZSApIHtcblx0XHRcdFx0XG5cdFx0XHRcdHBhc3MuZmxpcCgpXG5cdFx0XHRcblx0XHRcdFx0aWYoIHBhc3MuYXV0b1VwZGF0ZVVuaWZvcm0gKSB7XG5cdFx0XHRcdFx0cGFzcy5zaGFkZXJNYXRlcmlhbC51bmlmb3Jtc1twYXNzLnVuaWZvcm1OYW1lXS52YWx1ZSA9IHBhc3MuaW5wdXRSZW5kZXJUYXJnZXRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XHRcdFxuXHRcdF8uZWFjaCggY3VycmVudC5wYXNzZXMsIGZ1bmN0aW9uKCBwYXNzICkge1xuXHRcdFx0aWYoIHBhc3MuYWN0aXZlICkge1xuXHRcdFx0XHRwYXNzLnByZVJlbmRlciggcGFzcywgY3VycmVudC5wYXNzZXMgKVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0Xy5lYWNoKCBjdXJyZW50LnBhc3NlcywgZnVuY3Rpb24oIHBhc3MgKSB7XG5cdFx0XHRpZiggcGFzcy5hY3RpdmUgKSB7XG5cdFx0XHRcdHJlbmRlciggcGFzcy5zaGFkZXJNYXRlcmlhbCwgcGFzcy5vdXRwdXRSZW5kZXJUYXJnZXQgKVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XHRcdFxuXHRcdF8uZWFjaCggY3VycmVudC5wYXNzZXMsIGZ1bmN0aW9uKCBwYXNzICkge1xuXHRcdFx0aWYoIHBhc3MuYWN0aXZlICkge1xuXHRcdFx0XHRwYXNzLnBvc3RSZW5kZXIoIHBhc3MsIGN1cnJlbnQucGFzc2VzIClcblx0XHRcdH1cblx0XHR9KVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9yZW5kZXJQYXNzRm4oIGN1cnJlbnQsIHJlbmRlciApIHtcblx0XG5cdHJldHVybiBmdW5jdGlvbiByZW5kZXJQYXNzKCBuYW1lT3JQYXNzICkge1xuXHRcdFxuXHRcdHZhciBwYXNzID0gXy5pc1N0cmluZyggbmFtZU9yUGFzcyApID8gY3VycmVudC5wYXNzZXNbbmFtZU9yUGFzc10gOiBuYW1lT3JQYXNzXG5cdFx0XG5cdFx0cGFzcy5mbGlwKClcblx0XG5cdFx0aWYoIHBhc3MuYXV0b1VwZGF0ZVVuaWZvcm0gKSB7XG5cdFx0XHRwYXNzLnNoYWRlck1hdGVyaWFsLnVuaWZvcm1zW3Bhc3MudW5pZm9ybU5hbWVdLnZhbHVlID0gcGFzcy5pbnB1dFJlbmRlclRhcmdldFxuXHRcdH1cblx0XHRwYXNzLnByZVJlbmRlciggcGFzcywgY3VycmVudC5wYXNzZXMgKVxuXHRcdHJlbmRlciggcGFzcy5zaGFkZXJNYXRlcmlhbCwgcGFzcy5vdXRwdXRSZW5kZXJUYXJnZXQgKVxuXHRcdHBvc3QucG9zdFJlbmRlciggcGFzcywgY3VycmVudC5wYXNzZXMgKVxuXHR9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcmVuZGVyZXIsIHByb3BzICkge1xuXHRcblx0dmFyIGN1cnJlbnQgPSB7XG5cdFx0cGFzc2VzIDoge31cblx0fVxuXHRcblx0dmFyIGNhbWVyYSA9IG5ldyBUSFJFRS5DYW1lcmEoKTsgY2FtZXJhLnBvc2l0aW9uLnogPSAxXG5cdHZhciBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpXG5cdHZhciBjb3B5VGV4dHVyZSA9IENvcHlUZXh0dXJlKCByZW5kZXJlciApXG5cdHZhciByZW5kZXIgPSBfcmVuZGVyRm4oIHJlbmRlcmVyIClcblx0dmFyIGFkZFBhc3MgPSBfYWRkUGFzc0ZuKCBjdXJyZW50LCByZW5kZXJlciwgY29weVRleHR1cmUgKVxuXHR2YXIgcmVuZGVyQWxsID0gX3JlbmRlckFsbEZuKCBjdXJyZW50LCByZW5kZXIgKVxuXHR2YXIgcmVuZGVyUGFzcyA9IF9yZW5kZXJQYXNzRm4oIGN1cnJlbnQsIHJlbmRlciApXG5cdFxuXHRyZXR1cm4ge1xuXHRcdHBhc3NlcyA6IGN1cnJlbnQucGFzc2VzLFxuXHRcdGFkZFBhc3MgOiBhZGRQYXNzLFxuXHRcdHJlbmRlcmVyIDogcmVuZGVyZXIsXG5cdFx0cmVuZGVyIDogcmVuZGVyQWxsLFxuXHRcdHJlbmRlclBhc3MgOiByZW5kZXJQYXNzLFxuXHRcdGNvcHlUZXh0dXJlIDogY29weVRleHR1cmVcblx0fVxufSIsInZhciBsb2FkSW1hZ2UgPSBmdW5jdGlvbiggdXJsLCBvYmplY3QsIGtleSApIHtcblx0XG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcblx0XHR2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG5cdFx0dmFyICRpbWcgPSAkKFwiPGltZyAvPlwiKTtcblx0XHR2YXIgaW1nID0gJGltZ1swXTtcblx0XG5cdFx0JGltZy5sb2FkKGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHRpZiggXy5pc09iamVjdCggb2JqZWN0ICkgKSB7XG5cdFx0XHRcdG9iamVjdFtrZXldID0gaW1nO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRyZXNvbHZlKCBpbWcgKTtcblx0XHRcdFxuXHRcdH0pO1xuXHRcblx0XHQkaW1nLmVycm9yKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVqZWN0KCBcIkNvdWxkIG5vdCBsb2FkIGltYWdlOiBcIiArIHVybCApO1xuXHRcdH0pO1xuXHRcblx0XHRpbWcuc3JjID0gdXJsO1xuXHRcdFxuXHR9KTtcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2FkSW1hZ2U7IiwidmFyIGxvYWRUZXh0ID0gZnVuY3Rpb24oIHVybCwgb2JqZWN0LCBrZXkgKSB7XG5cdFxuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG5cdFx0XG5cdFx0JC5hamF4KHVybCwge1xuXHRcdFx0ZGF0YVR5cGU6IFwidGV4dFwiXG5cdFx0fSkudGhlbihcblx0XHRcdGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdFx0XHRcblx0XHRcdFx0aWYoIF8uaXNPYmplY3QoIG9iamVjdCApICkge1xuXHRcdFx0XHRcdG9iamVjdFtrZXldID0gZGF0YTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0cmVzb2x2ZSggZGF0YSApO1xuXHRcdFx0fSxcblx0XHRcdGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdFx0cmVqZWN0KCBlcnJvciApO1xuXHRcdFx0fVxuXHRcdCk7XG5cdFx0XG5cdH0pO1xuXG5cdHJldHVybiBwcm9taXNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2FkVGV4dDsiLCJ2YXIgbG9hZFRleHR1cmUgPSBmdW5jdGlvbiggdXJsLCBvYmplY3QsIGtleSApIHtcblx0XG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcblx0XHRUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCB1cmwsIHVuZGVmaW5lZCwgZnVuY3Rpb24oIHRleHR1cmUgKSB7XG5cdFx0XHRcblx0XHRcdGlmKCBfLmlzT2JqZWN0KCBvYmplY3QgKSApIHtcblx0XHRcdFx0b2JqZWN0W2tleV0gPSB0ZXh0dXJlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRyZXNvbHZlKCB0ZXh0dXJlICk7XG5cdFx0XHRcblx0XHR9LCByZWplY3QgKTtcblx0XHRcblx0fSk7XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbG9hZFRleHR1cmU7IiwidmFyIHJhbmRvbSA9IHtcblx0XG5cdGZsaXAgOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNSA/IHRydWU6IGZhbHNlO1xuXHR9LFxuXHRcblx0cmFuZ2UgOiBmdW5jdGlvbihtaW4sIG1heCkge1xuXHRcdHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG5cdH0sXG5cdFxuXHRyYW5nZUludCA6IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoIHRoaXMucmFuZ2UobWluLCBtYXggKyAxKSApO1xuXHR9LFxuXHRcblx0cmFuZ2VMb3cgOiBmdW5jdGlvbihtaW4sIG1heCkge1xuXHRcdC8vTW9yZSBsaWtlbHkgdG8gcmV0dXJuIGEgbG93IHZhbHVlXG5cdCAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG5cdH0sXG5cdFxuXHRyYW5nZUhpZ2ggOiBmdW5jdGlvbihtaW4sIG1heCkge1xuXHRcdC8vTW9yZSBsaWtlbHkgdG8gcmV0dXJuIGEgaGlnaCB2YWx1ZVxuXHRcdHJldHVybiAoMSAtIE1hdGgucmFuZG9tKCkgKiBNYXRoLnJhbmRvbSgpKSAqIChtYXggLSBtaW4pICsgbWluO1xuXHR9XG5cdCBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmFuZG9tO1xuIiwiLyoqXG4gKiBAYXV0aG9yIEFsZXhhbmRlciBHZXNzbGVyIC8gaHR0cDovL3d3dy5ncmVlbnRva2VuLmRlL1xuICogaHR0cHM6Ly9naXRodWIuY29tL2FjZ2Vzc2xlclxuICpcbiAqIExvYWRlciBmb3IgbW9kZWxzIGltcG9ydGVkIHdpdGggT3BlbiBBc3NldCBJbXBvcnQgTGlicmFyeSAoaHR0cDovL2Fzc2ltcC5zZi5uZXQpXG4gKiB0aHJvdWdoIGFzc2ltcDJqc29uIChodHRwczovL2dpdGh1Yi5jb20vYWNnZXNzbGVyL2Fzc2ltcDJqc29uKS5cbiAqXG4gKiBTdXBwb3J0cyBhbnkgaW5wdXQgZm9ybWF0IHRoYXQgYXNzaW1wIHN1cHBvcnRzLCBpbmNsdWRpbmcgM2RzLCBvYmosIGRhZSwgYmxlbmQsXG4gKiBmYngsIHgsIG1zM2QsIGx3byAoYW5kIG1hbnkgbW9yZSkuXG4gKlxuICogU2VlIHdlYmdsX2xvYWRlcl9hc3NpbXAyanNvbiBleGFtcGxlLlxuICovXG5cblRIUkVFLkFzc2ltcEpTT05Mb2FkZXIgPSBmdW5jdGlvbiAoIG1hbmFnZXIgKSB7XG5cblx0dGhpcy5tYW5hZ2VyID0gKCBtYW5hZ2VyICE9PSB1bmRlZmluZWQgKSA/IG1hbmFnZXIgOiBUSFJFRS5EZWZhdWx0TG9hZGluZ01hbmFnZXI7XG59O1xuXG5USFJFRS5Bc3NpbXBKU09OTG9hZGVyLnByb3RvdHlwZSA9IHtcblxuXHRjb25zdHJ1Y3RvcjogVEhSRUUuQXNzaW1wSlNPTkxvYWRlcixcblxuXHR0ZXh0dXJlUGF0aCA6ICcnLFxuXG5cdGxvYWQ6IGZ1bmN0aW9uICggdXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IsIHRleHR1cmVQYXRoICkge1xuXG5cdFx0dmFyIHNjb3BlID0gdGhpcztcblxuXHRcdHRoaXMudGV4dHVyZVBhdGggPSB0ZXh0dXJlUGF0aCAmJiAoIHR5cGVvZiB0ZXh0dXJlUGF0aCA9PT0gXCJzdHJpbmdcIiApID8gdGV4dHVyZVBhdGggOiB0aGlzLmV4dHJhY3RVcmxCYXNlKCB1cmwgKTtcblxuXHRcdHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuWEhSTG9hZGVyKCB0aGlzLm1hbmFnZXIgKTtcblx0XHRsb2FkZXIuc2V0Q3Jvc3NPcmlnaW4oIHRoaXMuY3Jvc3NPcmlnaW4gKTtcblx0XHRsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIHRleHQgKSB7XG5cdFx0XHR2YXIganNvbiA9IEpTT04ucGFyc2UoIHRleHQgKSwgc2NlbmUsIG1ldGFkYXRhO1xuXG5cdFx0XHQvLyBDaGVjayBfX21ldGFkYXRhX18gbWV0YSBoZWFkZXIgaWYgcHJlc2VudFxuXHRcdFx0Ly8gVGhpcyBoZWFkZXIgaXMgdXNlZCB0byBkaXNhbWJpZ3VhdGUgYmV0d2VlblxuXHRcdFx0Ly8gZGlmZmVyZW50IEpTT04tYmFzZWQgZmlsZSBmb3JtYXRzLlxuXHRcdFx0bWV0YWRhdGEgPSBqc29uLl9fbWV0YWRhdGFfXztcblx0XHRcdGlmICggdHlwZW9mIG1ldGFkYXRhICE9PSAndW5kZWZpbmVkJyApXG5cdFx0XHR7XG5cdFx0XHRcdC8vIENoZWNrIGlmIGFzc2ltcDJqc29uIGF0IGFsbFxuXHRcdFx0XHRpZiAoIG1ldGFkYXRhLmZvcm1hdCAhPT0gJ2Fzc2ltcDJqc29uJyApIHtcblx0XHRcdFx0XHRvbkVycm9yKCdOb3QgYW4gYXNzaW1wMmpzb24gc2NlbmUnKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gQ2hlY2sgbWFqb3IgZm9ybWF0IHZlcnNpb25cblx0XHRcdFx0ZWxzZSBpZiAoIG1ldGFkYXRhLnZlcnNpb24gPCAxMDAgJiYgbWV0YWRhdGEudmVyc2lvbiA+PSAyMDAgKSB7XG5cdFx0XHRcdFx0b25FcnJvcignVW5zdXBwb3J0ZWQgYXNzaW1wMmpzb24gZmlsZSBmb3JtYXQgdmVyc2lvbicpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRzY2VuZSA9IHNjb3BlLnBhcnNlKCBqc29uICk7XG5cdFx0XHRvbkxvYWQoIHNjZW5lICk7XG5cdFx0fSwgb25Qcm9ncmVzcywgb25FcnJvciApO1xuXHR9LFxuXG5cdHNldENyb3NzT3JpZ2luOiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXHRcdHRoaXMuY3Jvc3NPcmlnaW4gPSB2YWx1ZTtcblx0fSxcblxuXHRleHRyYWN0VXJsQmFzZTogZnVuY3Rpb24gKCB1cmwgKSB7IC8vIGZyb20gdGhyZWUvc3JjL2xvYWRlcnMvTG9hZGVyLmpzXG5cdFx0dmFyIHBhcnRzID0gdXJsLnNwbGl0KCAnLycgKTtcblx0XHRwYXJ0cy5wb3AoKTtcblx0XHRyZXR1cm4gKCBwYXJ0cy5sZW5ndGggPCAxID8gJy4nIDogcGFydHMuam9pbiggJy8nICkgKSArICcvJztcblx0fSxcblxuXHRwYXJzZTogZnVuY3Rpb24gKCBqc29uICkge1xuXHRcdHZhciBtZXNoZXMgPSB0aGlzLnBhcnNlTGlzdCAoIGpzb24ubWVzaGVzLCB0aGlzLnBhcnNlTWVzaCApO1xuXHRcdHZhciBtYXRlcmlhbHMgPSB0aGlzLnBhcnNlTGlzdCAoIGpzb24ubWF0ZXJpYWxzLCB0aGlzLnBhcnNlTWF0ZXJpYWwgKTtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZU9iamVjdCgganNvbiwganNvbi5yb290bm9kZSwgbWVzaGVzLCBtYXRlcmlhbHMgKTtcblx0fSxcblxuXHRwYXJzZUxpc3QgOiBmdW5jdGlvbihqc29uLCBoYW5kbGVyKSB7XG5cdFx0dmFyIG1lc2hlcyA9IG5ldyBBcnJheShqc29uLmxlbmd0aCk7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBqc29uLmxlbmd0aDsgKysgaSkge1xuXHRcdFx0bWVzaGVzW2ldID0gaGFuZGxlci5jYWxsKHRoaXMsIGpzb25baV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gbWVzaGVzO1xuXHR9LFxuXG5cdHBhcnNlTWVzaCA6IGZ1bmN0aW9uKGpzb24pIHtcblx0XHR2YXIgdmVydGV4LCBnZW9tZXRyeSwgaSwgZSwgaW5fZGF0YSwgc3JjO1xuXG5cblx0XHRnZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG5cdFx0Ly8gcmVhZCB2ZXJ0ZXggcG9zaXRpb25zXG5cdFx0Zm9yIChpbl9kYXRhID0ganNvbi52ZXJ0aWNlcywgaSA9IDAsIGUgPSBpbl9kYXRhLmxlbmd0aDsgaSA8IGU7ICkge1xuXHRcdFx0Z2VvbWV0cnkudmVydGljZXMucHVzaCggbmV3IFRIUkVFLlZlY3RvcjMoIGluX2RhdGFbIGkgKysgXSwgaW5fZGF0YVsgaSArKyBdLCBpbl9kYXRhWyBpICsrIF0gKSApO1xuXHRcdH1cblxuXHRcdC8vIHJlYWQgZmFjZXNcblx0XHR2YXIgY250ID0gMDtcblx0XHRmb3IgKGluX2RhdGEgPSBqc29uLmZhY2VzLCBpID0gMCwgZSA9IGluX2RhdGEubGVuZ3RoOyBpIDwgZTsgKysgaSkge1xuXHRcdFx0c3JjID0gaW5fZGF0YVtpXTtcblx0XHRcdHZhciBmYWNlID0gbmV3IFRIUkVFLkZhY2UzKHNyY1swXSxzcmNbMV0sc3JjWzJdKTtcblx0XHRcdGdlb21ldHJ5LmZhY2VzLnB1c2goZmFjZSk7XG5cdFx0fVxuXG5cdFx0Ly8gcmVhZCB0ZXh0dXJlIGNvb3JkaW5hdGVzIC0gdGhyZWUuanMgYXR0YWNoZXMgdGhlbSB0byBpdHMgZmFjZXNcblx0XHRqc29uLnRleHR1cmVjb29yZHMgPSBqc29uLnRleHR1cmVjb29yZHMgfHwgW107XG5cdFx0Zm9yIChpID0gMCwgZSA9IGpzb24udGV4dHVyZWNvb3Jkcy5sZW5ndGg7IGkgPCBlOyArKyBpKSB7XG5cblx0XHRcdGZ1bmN0aW9uIGNvbnZlcnRUZXh0dXJlQ29vcmRzKGluX3V2LCBvdXRfZmFjZXMsIG91dF92ZXJ0ZXhfdXZzKSB7XG5cdFx0XHRcdHZhciBpLCBlLCBmYWNlLCBhLCBiLCBjO1xuXG5cdFx0XHRcdGZvciAoaSA9IDAsIGUgPSBvdXRfZmFjZXMubGVuZ3RoOyBpIDwgZTsgKysgaSkge1xuXHRcdFx0XHRcdGZhY2UgPSBvdXRfZmFjZXNbaV07XG5cdFx0XHRcdFx0YSA9IGZhY2UuYSAqIDI7XG5cdFx0XHRcdFx0YiA9IGZhY2UuYiAqIDI7XG5cdFx0XHRcdFx0YyA9IGZhY2UuYyAqIDI7XG5cdFx0XHRcdFx0b3V0X3ZlcnRleF91dnMucHVzaChbXG5cdFx0XHRcdFx0XHRuZXcgVEhSRUUuVmVjdG9yMiggaW5fdXZbIGEgXSwgaW5fdXZbIGEgKyAxIF0gKSxcblx0XHRcdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IyKCBpbl91dlsgYiBdLCBpbl91dlsgYiArIDEgXSApLFxuXHRcdFx0XHRcdFx0bmV3IFRIUkVFLlZlY3RvcjIoIGluX3V2WyBjIF0sIGluX3V2WyBjICsgMSBdIClcblx0XHRcdFx0XHRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb252ZXJ0VGV4dHVyZUNvb3Jkcyhqc29uLnRleHR1cmVjb29yZHNbaV0sIGdlb21ldHJ5LmZhY2VzLCBnZW9tZXRyeS5mYWNlVmVydGV4VXZzW2ldKTtcblx0XHR9XG5cblx0XHQvLyByZWFkIG5vcm1hbHMgLSB0aHJlZS5qcyBhbHNvIGF0dGFjaGVzIHRoZW0gdG8gaXRzIGZhY2VzXG5cdFx0aWYgKGpzb24ubm9ybWFscykge1xuXG5cdFx0XHRmdW5jdGlvbiBjb252ZXJ0Tm9ybWFscyhpbl9ub3IsIG91dF9mYWNlcykge1xuXHRcdFx0XHR2YXIgaSwgZSwgZmFjZSwgYSwgYiwgYztcblxuXHRcdFx0XHRmb3IgKGkgPSAwLCBlID0gb3V0X2ZhY2VzLmxlbmd0aDsgaSA8IGU7ICsrIGkpIHtcblx0XHRcdFx0XHRmYWNlID0gb3V0X2ZhY2VzW2ldO1xuXHRcdFx0XHRcdGEgPSBmYWNlLmEgKiAzO1xuXHRcdFx0XHRcdGIgPSBmYWNlLmIgKiAzO1xuXHRcdFx0XHRcdGMgPSBmYWNlLmMgKiAzO1xuXHRcdFx0XHRcdGZhY2UudmVydGV4Tm9ybWFscyA9IFtcblx0XHRcdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKCBpbl9ub3JbIGEgXSwgaW5fbm9yWyBhICsgMSBdLCBpbl9ub3JbIGEgKyAyIF0gKSxcblx0XHRcdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKCBpbl9ub3JbIGIgXSwgaW5fbm9yWyBiICsgMSBdLCBpbl9ub3JbIGIgKyAyIF0gKSxcblx0XHRcdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKCBpbl9ub3JbIGMgXSwgaW5fbm9yWyBjICsgMSBdLCBpbl9ub3JbIGMgKyAyIF0gKVxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29udmVydE5vcm1hbHMoanNvbi5ub3JtYWxzLCBnZW9tZXRyeS5mYWNlcyk7XG5cdFx0fVxuXG5cdFx0Ly8gcmVhZCB2ZXJ0ZXggY29sb3JzIC0gdGhyZWUuanMgYWxzbyBhdHRhY2hlcyB0aGVtIHRvIGl0cyBmYWNlc1xuXHRcdGlmIChqc29uLmNvbG9ycyAmJiBqc29uLmNvbG9yc1swXSkge1xuXG5cdFx0XHRmdW5jdGlvbiBjb252ZXJ0Q29sb3JzKGluX2NvbG9yLCBvdXRfZmFjZXMpIHtcblx0XHRcdFx0dmFyIGksIGUsIGZhY2UsIGEsIGIsIGM7XG5cblx0XHRcdFx0ZnVuY3Rpb24gbWFrZUNvbG9yKHN0YXJ0KSB7XG5cdFx0XHRcdFx0dmFyIGNvbCA9IG5ldyBUSFJFRS5Db2xvciggKTtcblx0XHRcdFx0XHRjb2wuc2V0UkdCKCBhcnJbMF0sIGFyclsxXSwgYXJyWzJdICk7XG5cdFx0XHRcdFx0Ly8gVE9ETzogd2hhdCBhYm91dCBhbHBoYT9cblx0XHRcdFx0XHRyZXR1cm4gY29sO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChpID0gMCwgZSA9IG91dF9mYWNlcy5sZW5ndGg7IGkgPCBlOyArKyBpKSB7XG5cdFx0XHRcdFx0ZmFjZSA9IG91dF9mYWNlc1tpXTtcblx0XHRcdFx0XHRhID0gZmFjZS5hICogNDtcblx0XHRcdFx0XHRiID0gZmFjZS5iICogNDtcblx0XHRcdFx0XHRjID0gZmFjZS5jICogNDtcblx0XHRcdFx0XHRmYWNlLnZlcnRleENvbG9ycyA9IFtcblx0XHRcdFx0XHRcdG1ha2VDb2xvciggYSApLFxuXHRcdFx0XHRcdFx0bWFrZUNvbG9yKCBiICksXG5cdFx0XHRcdFx0XHRtYWtlQ29sb3IoIGMgKVxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29udmVydENvbG9ycyhqc29uLmNvbG9yc1swXSwgZ2VvbWV0cnkuZmFjZXMpO1xuXHRcdH1cblxuXG5cdFx0Ly9nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcblx0XHQvL2dlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG5cdFx0Ly9nZW9tZXRyeS5jb21wdXRlVGFuZ2VudHMoKTtcblx0XHRnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcblxuXHRcdC8vIFRPRE86IHRhbmdlbnRzXG5cdFx0cmV0dXJuIGdlb21ldHJ5O1xuXHR9LFxuXG5cdHBhcnNlTWF0ZXJpYWwgOiBmdW5jdGlvbihqc29uKSB7XG5cdFx0dmFyIG1hdCA9IG51bGwsXG5cdFx0c2NvcGUgPSB0aGlzLCBpLCBwcm9wLCBoYXNfdGV4dHVyZXMgPSBbXSxcblxuXHRcdGluaXRfcHJvcHMgPSB7XG5cdFx0XHRzaGFkaW5nIDogVEhSRUUuU21vb3RoU2hhZGluZ1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiB0b0NvbG9yKHZhbHVlX2Fycikge1xuXHRcdFx0dmFyIGNvbCA9IG5ldyBUSFJFRS5Db2xvcigpO1xuXHRcdFx0Y29sLnNldFJHQih2YWx1ZV9hcnJbMF0sIHZhbHVlX2FyclsxXSwgdmFsdWVfYXJyWzJdKTtcblx0XHRcdHJldHVybiBjb2w7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZGVmYXVsdFRleHR1cmUoKSB7XG5cdFx0XHR2YXIgaW0gPSBuZXcgSW1hZ2UoKTtcblx0XHRcdGltLndpZHRoID0gMTtcblx0XHRcdGltLmhlaWdodCA9IDE7XG5cdFx0XHRyZXR1cm4gbmV3IFRIUkVFLlRleHR1cmUoaW0pO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgaW4ganNvbi5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRwcm9wID0ganNvbi5wcm9wZXJ0aWVzW2ldO1xuXG5cdFx0XHRpZiAocHJvcC5rZXkgPT09ICckdGV4LmZpbGUnKSB7XG5cdFx0XHRcdC8vIHByb3Auc2VtYW50aWMgZ2l2ZXMgdGhlIHR5cGUgb2YgdGhlIHRleHR1cmVcblx0XHRcdFx0Ly8gMTogZGlmZnVzZVxuXHRcdFx0XHQvLyAyOiBzcGVjdWxhciBtYW9cblx0XHRcdFx0Ly8gNTogaGVpZ2h0IG1hcCAoYnVtcHMpXG5cdFx0XHRcdC8vIDY6IG5vcm1hbCBtYXBcblx0XHRcdFx0Ly8gbW9yZSB2YWx1ZXMgKGkuZS4gZW1pc3NpdmUsIGVudmlyb25tZW50KSBhcmUga25vd24gYnkgYXNzaW1wIGFuZCBtYXkgYmUgcmVsZXZhbnRcblx0XHRcdFx0aWYgKHByb3Auc2VtYW50aWMgPT09IDEgfHwgcHJvcC5zZW1hbnRpYyA9PT0gNSB8fCBwcm9wLnNlbWFudGljID09PSA2IHx8IHByb3Auc2VtYW50aWMgPT09IDIpIHtcblx0XHRcdFx0XHQoZnVuY3Rpb24oc2VtYW50aWMpIHtcblx0XHRcdFx0XHRcdHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcihzY29wZS5tYW5hZ2VyKSxcblx0XHRcdFx0XHRcdGtleW5hbWU7XG5cblx0XHRcdFx0XHRcdGlmIChzZW1hbnRpYyA9PT0gMSkge1xuXHRcdFx0XHRcdFx0XHRrZXluYW1lID0gJ21hcCc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChzZW1hbnRpYyA9PT0gNSkge1xuXHRcdFx0XHRcdFx0XHRrZXluYW1lID0gJ2J1bXBNYXAnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoc2VtYW50aWMgPT09IDYpIHtcblx0XHRcdFx0XHRcdFx0a2V5bmFtZSA9ICdub3JtYWxNYXAnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoc2VtYW50aWMgPT09IDIpIHtcblx0XHRcdFx0XHRcdFx0a2V5bmFtZSA9ICdzcGVjdWxhck1hcCc7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGhhc190ZXh0dXJlcy5wdXNoKGtleW5hbWUpO1xuXG5cdFx0XHRcdFx0XHRsb2FkZXIuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7XG5cdFx0XHRcdFx0XHR2YXIgbWF0ZXJpYWxfdXJsID0gc2NvcGUudGV4dHVyZVBhdGggKyAnLycgKyBwcm9wLnZhbHVlO1xuXHRcdFx0XHRcdFx0bWF0ZXJpYWxfdXJsID0gbWF0ZXJpYWxfdXJsLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblx0XHRcdFx0XHRcdGxvYWRlci5sb2FkKG1hdGVyaWFsX3VybCwgZnVuY3Rpb24odGV4KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0ZXgpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBUT0RPOiByZWFkIHRleHR1cmUgc2V0dGluZ3MgZnJvbSBhc3NpbXAuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gV3JhcHBpbmcgaXMgdGhlIGRlZmF1bHQsIHRob3VnaC5cblx0XHRcdFx0XHRcdFx0XHR0ZXgud3JhcFMgPSB0ZXgud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcblxuXHRcdFx0XHRcdFx0XHRcdG1hdFtrZXluYW1lXSA9IHRleDtcblx0XHRcdFx0XHRcdFx0XHRtYXQubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KShwcm9wLnNlbWFudGljKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAocHJvcC5rZXkgPT09ICc/bWF0Lm5hbWUnKSB7XG5cdFx0XHRcdGluaXRfcHJvcHMubmFtZSA9IHByb3AudmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChwcm9wLmtleSA9PT0gJyRjbHIuZGlmZnVzZScpIHtcblx0XHRcdFx0aW5pdF9wcm9wcy5jb2xvciA9IHRvQ29sb3IocHJvcC52YWx1ZSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChwcm9wLmtleSA9PT0gJyRjbHIuc3BlY3VsYXInKSB7XG5cdFx0XHRcdGluaXRfcHJvcHMuc3BlY3VsYXIgPSB0b0NvbG9yKHByb3AudmFsdWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAocHJvcC5rZXkgPT09ICckY2xyLmVtaXNzaXZlJykge1xuXHRcdFx0XHRpbml0X3Byb3BzLmVtaXNzaXZlID0gdG9Db2xvcihwcm9wLnZhbHVlKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHByb3Aua2V5ID09PSAnJG1hdC5zaGFkaW5nbScpIHtcblx0XHRcdFx0Ly8gYWlTaGFkaW5nTW9kZV9GbGF0XG5cdFx0XHRcdGlmIChwcm9wLnZhbHVlID09PSAxKSB7XG5cdFx0XHRcdFx0aW5pdF9wcm9wcy5zaGFkaW5nID0gVEhSRUUuRmxhdFNoYWRpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHByb3Aua2V5ID09PSAnJG1hdC5zaGluaW5lc3MnKSB7XG5cdFx0XHRcdGluaXRfcHJvcHMuc2hpbmluZXNzID0gcHJvcC52YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBub3RlOiB0aHJlZS5qcyBkb2VzIG5vdCBsaWtlIGl0IHdoZW4gYSB0ZXh0dXJlIGlzIGFkZGVkIGFmdGVyIHRoZSBnZW9tZXRyeVxuXHRcdC8vIGhhcyBiZWVuIHJlbmRlcmVkIG9uY2UsIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2NTMxNzU5Ly5cblx0XHQvLyBmb3IgdGhpcyByZWFzb24gd2UgZmlsbCBhbGwgc2xvdHMgdXBmcm9udCB3aXRoIGRlZmF1bHQgdGV4dHVyZXNcblx0XHRpZiAoaGFzX3RleHR1cmVzLmxlbmd0aCkge1xuXHRcdFx0Zm9yIChpID0gaGFzX3RleHR1cmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS0gaSkge1xuXHRcdFx0XHRpbml0X3Byb3BzW2hhc190ZXh0dXJlc1tpXV0gPSBkZWZhdWx0VGV4dHVyZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCggaW5pdF9wcm9wcyApO1xuXHRcdHJldHVybiBtYXQ7XG5cdH0sXG5cblx0cGFyc2VPYmplY3QgOiBmdW5jdGlvbihqc29uLCBub2RlLCBtZXNoZXMsIG1hdGVyaWFscykge1xuXHRcdHZhciBvYmogPSBuZXcgVEhSRUUuT2JqZWN0M0QoKVxuXHRcdCxcdGlcblx0XHQsXHRpZHhcblx0XHQ7XG5cblx0XHRvYmoubmFtZSA9IG5vZGUubmFtZSB8fCBcIlwiO1xuXHRcdG9iai5tYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpLmZyb21BcnJheShub2RlLnRyYW5zZm9ybWF0aW9uKS50cmFuc3Bvc2UoKTtcblx0XHRvYmoubWF0cml4LmRlY29tcG9zZSggb2JqLnBvc2l0aW9uLCBvYmoucXVhdGVybmlvbiwgb2JqLnNjYWxlICk7XG5cblx0XHRmb3IgKGkgPSAwOyBub2RlLm1lc2hlcyAmJiBpIDwgbm9kZS5tZXNoZXMubGVuZ3RoOyArKyBpKSB7XG5cdFx0XHRpZHggPSBub2RlLm1lc2hlc1tpXTtcblx0XHRcdG9iai5hZGQobmV3IFRIUkVFLk1lc2goIG1lc2hlc1tpZHhdLCBtYXRlcmlhbHNbanNvbi5tZXNoZXNbaWR4XS5tYXRlcmlhbGluZGV4XSApKTtcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwOyBub2RlLmNoaWxkcmVuICYmIGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgKysgaSkge1xuXHRcdFx0b2JqLmFkZCh0aGlzLnBhcnNlT2JqZWN0KGpzb24sIG5vZGUuY2hpbGRyZW5baV0sIG1lc2hlcywgbWF0ZXJpYWxzKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVEhSRUUuQXNzaW1wSlNPTkxvYWRlcjsiLCIvKiBnbG9iYWxzIFRIUkVFICovXG4vKipcbiAqIERldmljZU9yaWVudGF0aW9uQ29udHJvbHMgLSBhcHBsaWVzIGRldmljZSBvcmllbnRhdGlvbiBvbiBvYmplY3Qgcm90YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0RcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBhdXRob3IgcmljaHQgLyBodHRwOi8vcmljaHQubWVcbiAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleVxuICogQGF1dGhvciBqb25vYnIxIC8gaHR0cDovL2pvbm9icjEuY29tXG4gKiBAYXV0aG9yIGFyb2RpYyAvIGh0dHA6Ly9hbGVrc2FuZGFycm9kaWMuY29tXG4gKiBAYXV0aG9yIGRvdWcgLyBodHRwOi8vZ2l0aHViLmNvbS9kb3VnXG4gKlxuICogVzNDIERldmljZSBPcmllbnRhdGlvbiBjb250cm9sXG4gKiAoaHR0cDovL3czYy5naXRodWIuaW8vZGV2aWNlb3JpZW50YXRpb24vc3BlYy1zb3VyY2Utb3JpZW50YXRpb24uaHRtbClcbiAqL1xuXG5cbnZhciBkZXZpY2VPcmllbnRhdGlvbiA9IHt9O1xuXHR2YXIgc2NyZWVuT3JpZW50YXRpb24gPSB3aW5kb3cub3JpZW50YXRpb24gfHwgMDtcblxuZnVuY3Rpb24gb25EZXZpY2VPcmllbnRhdGlvbkNoYW5nZUV2ZW50KGV2dCkge1xuXHRkZXZpY2VPcmllbnRhdGlvbiA9IGV2dDtcbn1cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIG9uRGV2aWNlT3JpZW50YXRpb25DaGFuZ2VFdmVudCwgZmFsc2UpO1xuXG5mdW5jdGlvbiBnZXRPcmllbnRhdGlvbigpIHtcblx0c3dpdGNoICh3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uIHx8IHdpbmRvdy5zY3JlZW4ubW96T3JpZW50YXRpb24pIHtcblx0XHRjYXNlICdsYW5kc2NhcGUtcHJpbWFyeSc6XG5cdFx0XHRyZXR1cm4gOTA7XG5cdFx0Y2FzZSAnbGFuZHNjYXBlLXNlY29uZGFyeSc6XG5cdFx0XHRyZXR1cm4gLTkwO1xuXHRcdGNhc2UgJ3BvcnRyYWl0LXNlY29uZGFyeSc6XG5cdFx0XHRyZXR1cm4gMTgwO1xuXHRcdGNhc2UgJ3BvcnRyYWl0LXByaW1hcnknOlxuXHRcdFx0cmV0dXJuIDA7XG5cdH1cblx0Ly8gdGhpcyByZXR1cm5zIDkwIGlmIHdpZHRoIGlzIGdyZWF0ZXIgdGhlbiBoZWlnaHRcblx0Ly8gYW5kIHdpbmRvdyBvcmllbnRhdGlvbiBpcyB1bmRlZmluZWQgT1IgMFxuXHQvLyBpZiAoIXdpbmRvdy5vcmllbnRhdGlvbiAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IHdpbmRvdy5pbm5lckhlaWdodClcblx0Ly9cdCByZXR1cm4gOTA7XG5cdHJldHVybiB3aW5kb3cub3JpZW50YXRpb24gfHwgMDtcbn1cblxuZnVuY3Rpb24gb25TY3JlZW5PcmllbnRhdGlvbkNoYW5nZUV2ZW50KCkge1xuXHRzY3JlZW5PcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKCk7XG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBvblNjcmVlbk9yaWVudGF0aW9uQ2hhbmdlRXZlbnQsIGZhbHNlKTtcblxuXG5USFJFRS5EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cblx0dGhpcy5vYmplY3QgPSBvYmplY3Q7XG5cblx0dGhpcy5vYmplY3Qucm90YXRpb24ucmVvcmRlcignWVhaJyk7XG5cblx0dGhpcy5mcmVlemUgPSB0cnVlO1xuXG5cdHRoaXMubW92ZW1lbnRTcGVlZCA9IDEuMDtcblx0dGhpcy5yb2xsU3BlZWQgPSAwLjAwNTtcblx0dGhpcy5hdXRvQWxpZ24gPSB0cnVlO1xuXHR0aGlzLmF1dG9Gb3J3YXJkID0gZmFsc2U7XG5cblx0dGhpcy5hbHBoYSA9IDA7XG5cdHRoaXMuYmV0YSA9IDA7XG5cdHRoaXMuZ2FtbWEgPSAwO1xuXHR0aGlzLm9yaWVudCA9IDA7XG5cblx0dGhpcy5hbGlnblF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXHR0aGlzLm9yaWVudGF0aW9uUXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG5cblx0dmFyIHF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXHR2YXIgcXVhdGVybmlvbkxlcnAgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG5cdHZhciB0ZW1wVmVjdG9yMyA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdHZhciB0ZW1wTWF0cml4NCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG5cdHZhciB0ZW1wRXVsZXIgPSBuZXcgVEhSRUUuRXVsZXIoMCwgMCwgMCwgJ1lYWicpO1xuXHR2YXIgdGVtcFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG5cdHZhciB6ZWUgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAxKTtcblx0dmFyIHVwID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCk7XG5cdHZhciB2MCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApO1xuXHR2YXIgZXVsZXIgPSBuZXcgVEhSRUUuRXVsZXIoKTtcblx0dmFyIHEwID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTsgLy8gLSBQSS8yIGFyb3VuZCB0aGUgeC1heGlzXG5cdHZhciBxMSA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKC0gTWF0aC5zcXJ0KDAuNSksIDAsIDAsIE1hdGguc3FydCgwLjUpKTtcblxuXG5cdHRoaXMudXBkYXRlID0gKGZ1bmN0aW9uKGRlbHRhKSB7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oZGVsdGEpIHtcblxuXHRcdFx0aWYgKHRoaXMuZnJlZXplKSByZXR1cm47XG5cblx0XHRcdC8vIHNob3VsZCBub3QgbmVlZCB0aGlzXG5cdFx0XHQvL3ZhciBvcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKCk7XG5cdFx0XHQvL2lmIChvcmllbnRhdGlvbiAhPT0gdGhpcy5zY3JlZW5PcmllbnRhdGlvbikge1xuXHRcdFx0XHQvL3RoaXMuc2NyZWVuT3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcblx0XHRcdFx0Ly90aGlzLmF1dG9BbGlnbiA9IHRydWU7XG5cdFx0XHQvL31cblxuXHRcdFx0dGhpcy5hbHBoYSA9IGRldmljZU9yaWVudGF0aW9uLmdhbW1hID9cblx0XHRcdFx0VEhSRUUuTWF0aC5kZWdUb1JhZChkZXZpY2VPcmllbnRhdGlvbi5hbHBoYSkgOiAwOyAvLyBaXG5cdFx0XHR0aGlzLmJldGEgPSBkZXZpY2VPcmllbnRhdGlvbi5iZXRhID9cblx0XHRcdFx0VEhSRUUuTWF0aC5kZWdUb1JhZChkZXZpY2VPcmllbnRhdGlvbi5iZXRhKSA6IDA7IC8vIFgnXG5cdFx0XHR0aGlzLmdhbW1hID0gZGV2aWNlT3JpZW50YXRpb24uZ2FtbWEgP1xuXHRcdFx0XHRUSFJFRS5NYXRoLmRlZ1RvUmFkKGRldmljZU9yaWVudGF0aW9uLmdhbW1hKSA6IDA7IC8vIFknJ1xuXHRcdFx0dGhpcy5vcmllbnQgPSBzY3JlZW5PcmllbnRhdGlvbiA/XG5cdFx0XHRcdFRIUkVFLk1hdGguZGVnVG9SYWQoc2NyZWVuT3JpZW50YXRpb24pIDogMDsgLy8gT1xuXG5cdFx0XHQvLyBUaGUgYW5nbGVzIGFscGhhLCBiZXRhIGFuZCBnYW1tYVxuXHRcdFx0Ly8gZm9ybSBhIHNldCBvZiBpbnRyaW5zaWMgVGFpdC1CcnlhbiBhbmdsZXMgb2YgdHlwZSBaLVgnLVknJ1xuXG5cdFx0XHQvLyAnWlhZJyBmb3IgdGhlIGRldmljZSwgYnV0ICdZWFonIGZvciB1c1xuXHRcdFx0ZXVsZXIuc2V0KHRoaXMuYmV0YSwgdGhpcy5hbHBoYSwgLSB0aGlzLmdhbW1hLCAnWVhaJyk7XG5cblx0XHRcdHF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKGV1bGVyKTtcblx0XHRcdHF1YXRlcm5pb25MZXJwLnNsZXJwKHF1YXRlcm5pb24sIDAuNSk7IC8vIGludGVycG9sYXRlXG5cblx0XHRcdC8vIG9yaWVudCB0aGUgZGV2aWNlXG5cdFx0XHRpZiAodGhpcy5hdXRvQWxpZ24pIHRoaXMub3JpZW50YXRpb25RdWF0ZXJuaW9uLmNvcHkocXVhdGVybmlvbik7IC8vIGludGVycG9sYXRpb24gYnJlYWtzIHRoZSBhdXRvIGFsaWdubWVudFxuXHRcdFx0ZWxzZSB0aGlzLm9yaWVudGF0aW9uUXVhdGVybmlvbi5jb3B5KHF1YXRlcm5pb25MZXJwKTtcblxuXHRcdFx0Ly8gY2FtZXJhIGxvb2tzIG91dCB0aGUgYmFjayBvZiB0aGUgZGV2aWNlLCBub3QgdGhlIHRvcFxuXHRcdFx0dGhpcy5vcmllbnRhdGlvblF1YXRlcm5pb24ubXVsdGlwbHkocTEpO1xuXG5cdFx0XHQvLyBhZGp1c3QgZm9yIHNjcmVlbiBvcmllbnRhdGlvblxuXHRcdFx0dGhpcy5vcmllbnRhdGlvblF1YXRlcm5pb24ubXVsdGlwbHkocTAuc2V0RnJvbUF4aXNBbmdsZSh6ZWUsIC0gdGhpcy5vcmllbnQpKTtcblxuXHRcdFx0dGhpcy5vYmplY3QucXVhdGVybmlvbi5jb3B5KHRoaXMuYWxpZ25RdWF0ZXJuaW9uKTtcblx0XHRcdHRoaXMub2JqZWN0LnF1YXRlcm5pb24ubXVsdGlwbHkodGhpcy5vcmllbnRhdGlvblF1YXRlcm5pb24pO1xuXG5cdFx0XHRpZiAodGhpcy5hdXRvRm9yd2FyZCkge1xuXG5cdFx0XHRcdHRlbXBWZWN0b3IzXG5cdFx0XHRcdFx0LnNldCgwLCAwLCAtMSlcblx0XHRcdFx0XHQuYXBwbHlRdWF0ZXJuaW9uKHRoaXMub2JqZWN0LnF1YXRlcm5pb24sICdaWFknKVxuXHRcdFx0XHRcdC5zZXRMZW5ndGgodGhpcy5tb3ZlbWVudFNwZWVkIC8gNTApOyAvLyBUT0RPOiB3aHkgNTAgOlNcblxuXHRcdFx0XHR0aGlzLm9iamVjdC5wb3NpdGlvbi5hZGQodGVtcFZlY3RvcjMpO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmF1dG9BbGlnbiAmJiB0aGlzLmFscGhhICE9PSAwKSB7XG5cblx0XHRcdFx0dGhpcy5hdXRvQWxpZ24gPSBmYWxzZTtcblxuXHRcdFx0XHR0aGlzLmFsaWduKCk7XG5cblx0XHRcdH1cblxuXHRcdH07XG5cblx0fSkoKTtcblxuXHR0aGlzLmFsaWduID0gZnVuY3Rpb24oKSB7XG5cblx0XHR0ZW1wVmVjdG9yM1xuXHRcdFx0LnNldCgwLCAwLCAtMSlcblx0XHRcdC5hcHBseVF1YXRlcm5pb24oIHRlbXBRdWF0ZXJuaW9uLmNvcHkodGhpcy5vcmllbnRhdGlvblF1YXRlcm5pb24pLmludmVyc2UoKSwgJ1pYWScgKTtcblxuXHRcdHRlbXBFdWxlci5zZXRGcm9tUXVhdGVybmlvbihcblx0XHRcdHRlbXBRdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChcblx0XHRcdFx0dGVtcE1hdHJpeDQubG9va0F0KHRlbXBWZWN0b3IzLCB2MCwgdXApXG5cdFx0IClcblx0ICk7XG5cblx0XHR0ZW1wRXVsZXIuc2V0KDAsIHRlbXBFdWxlci55LCAwKTtcblx0XHR0aGlzLmFsaWduUXVhdGVybmlvbi5zZXRGcm9tRXVsZXIodGVtcEV1bGVyKTtcblxuXHR9O1xuXG5cdHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZnJlZXplID0gZmFsc2U7XG5cdH07XG5cblx0dGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5mcmV6ZSA9IHRydWU7XG5cdH07XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVEhSRUUuRGV2aWNlT3JpZW50YXRpb25Db250cm9sczsiLCIvKipcbiAqIEBhdXRob3IgcWlhbyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5XG4gKiBAYXV0aG9yIGVyaWNoNjY2IC8gaHR0cDovL2VyaWNoYWluZXMuY29tXG4gKi9cbi8qZ2xvYmFsIFRIUkVFLCBjb25zb2xlICovXG5cbi8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLiBJdCBtYWludGFpbnNcbi8vIHRoZSBcInVwXCIgZGlyZWN0aW9uIGFzICtZLCB1bmxpa2UgdGhlIFRyYWNrYmFsbENvbnRyb2xzLiBUb3VjaCBvbiB0YWJsZXQgYW5kIHBob25lcyBpc1xuLy8gc3VwcG9ydGVkLlxuLy9cbi8vICAgIE9yYml0IC0gbGVmdCBtb3VzZSAvIHRvdWNoOiBvbmUgZmluZ2VyIG1vdmVcbi8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvIGZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXG4vLyAgICBQYW4gLSByaWdodCBtb3VzZSwgb3IgYXJyb3cga2V5cyAvIHRvdWNoOiB0aHJlZSBmaW50ZXIgc3dpcGVcbi8vXG4vLyBUaGlzIGlzIGEgZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgKG1vc3QpIFRyYWNrYmFsbENvbnRyb2xzIHVzZWQgaW4gZXhhbXBsZXMuXG4vLyBUaGF0IGlzLCBpbmNsdWRlIHRoaXMganMgZmlsZSBhbmQgd2hlcmV2ZXIgeW91IHNlZTpcbi8vICAgIFx0Y29udHJvbHMgPSBuZXcgVEhSRUUuVHJhY2tiYWxsQ29udHJvbHMoIGNhbWVyYSApO1xuLy8gICAgICBjb250cm9scy50YXJnZXQueiA9IDE1MDtcbi8vIFNpbXBsZSBzdWJzdGl0dXRlIFwiT3JiaXRDb250cm9sc1wiIGFuZCB0aGUgY29udHJvbCBzaG91bGQgd29yayBhcy1pcy5cblxuVEhSRUUuT3JiaXRDb250cm9scyA9IGZ1bmN0aW9uICggb2JqZWN0LCBkb21FbGVtZW50ICkge1xuXG5cdHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXHR0aGlzLmRvbUVsZW1lbnQgPSAoIGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCApID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG5cdC8vIEFQSVxuXG5cdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgY29udHJvbFxuXHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG5cdC8vIFwidGFyZ2V0XCIgc2V0cyB0aGUgbG9jYXRpb24gb2YgZm9jdXMsIHdoZXJlIHRoZSBjb250cm9sIG9yYml0cyBhcm91bmRcblx0Ly8gYW5kIHdoZXJlIGl0IHBhbnMgd2l0aCByZXNwZWN0IHRvLlxuXHR0aGlzLnRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0Ly8gY2VudGVyIGlzIG9sZCwgZGVwcmVjYXRlZDsgdXNlIFwidGFyZ2V0XCIgaW5zdGVhZFxuXHR0aGlzLmNlbnRlciA9IHRoaXMudGFyZ2V0O1xuXG5cdC8vIFRoaXMgb3B0aW9uIGFjdHVhbGx5IGVuYWJsZXMgZG9sbHlpbmcgaW4gYW5kIG91dDsgbGVmdCBhcyBcInpvb21cIiBmb3Jcblx0Ly8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblx0dGhpcy5ub1pvb20gPSBmYWxzZTtcblx0dGhpcy56b29tU3BlZWQgPSAxLjA7XG5cblx0Ly8gTGltaXRzIHRvIGhvdyBmYXIgeW91IGNhbiBkb2xseSBpbiBhbmQgb3V0XG5cdHRoaXMubWluRGlzdGFuY2UgPSAwO1xuXHR0aGlzLm1heERpc3RhbmNlID0gSW5maW5pdHk7XG5cblx0Ly8gU2V0IHRvIHRydWUgdG8gZGlzYWJsZSB0aGlzIGNvbnRyb2xcblx0dGhpcy5ub1JvdGF0ZSA9IGZhbHNlO1xuXHR0aGlzLnJvdGF0ZVNwZWVkID0gMS4wO1xuXG5cdC8vIFNldCB0byB0cnVlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sXG5cdHRoaXMubm9QYW4gPSBmYWxzZTtcblx0dGhpcy5rZXlQYW5TcGVlZCA9IDcuMDtcdC8vIHBpeGVscyBtb3ZlZCBwZXIgYXJyb3cga2V5IHB1c2hcblxuXHQvLyBTZXQgdG8gdHJ1ZSB0byBhdXRvbWF0aWNhbGx5IHJvdGF0ZSBhcm91bmQgdGhlIHRhcmdldFxuXHR0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcblx0dGhpcy5hdXRvUm90YXRlU3BlZWQgPSAyLjA7IC8vIDMwIHNlY29uZHMgcGVyIHJvdW5kIHdoZW4gZnBzIGlzIDYwXG5cblx0Ly8gSG93IGZhciB5b3UgY2FuIG9yYml0IHZlcnRpY2FsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXG5cdC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zLlxuXHR0aGlzLm1pblBvbGFyQW5nbGUgPSAwOyAvLyByYWRpYW5zXG5cdHRoaXMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEk7IC8vIHJhZGlhbnNcblxuXHQvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxuXHQvLyBJZiBzZXQsIG11c3QgYmUgYSBzdWItaW50ZXJ2YWwgb2YgdGhlIGludGVydmFsIFsgLSBNYXRoLlBJLCBNYXRoLlBJIF0uXG5cdHRoaXMubWluQXppbXV0aEFuZ2xlID0gLSBJbmZpbml0eTsgLy8gcmFkaWFuc1xuXHR0aGlzLm1heEF6aW11dGhBbmdsZSA9IEluZmluaXR5OyAvLyByYWRpYW5zXG5cblx0Ly8gU2V0IHRvIHRydWUgdG8gZGlzYWJsZSB1c2Ugb2YgdGhlIGtleXNcblx0dGhpcy5ub0tleXMgPSBmYWxzZTtcblxuXHQvLyBUaGUgZm91ciBhcnJvdyBrZXlzXG5cdHRoaXMua2V5cyA9IHsgTEVGVDogMzcsIFVQOiAzOCwgUklHSFQ6IDM5LCBCT1RUT006IDQwIH07XG5cblx0Ly8gTW91c2UgYnV0dG9uc1xuXHR0aGlzLm1vdXNlQnV0dG9ucyA9IHsgT1JCSVQ6IFRIUkVFLk1PVVNFLkxFRlQsIFpPT006IFRIUkVFLk1PVVNFLk1JRERMRSwgUEFOOiBUSFJFRS5NT1VTRS5SSUdIVCB9O1xuXG5cdC8vLy8vLy8vLy8vL1xuXHQvLyBpbnRlcm5hbHNcblxuXHR2YXIgc2NvcGUgPSB0aGlzO1xuXG5cdHZhciBFUFMgPSAwLjAwMDAwMTtcblxuXHR2YXIgcm90YXRlU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIHJvdGF0ZURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHR2YXIgcGFuU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgcGFuRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0dmFyIHBhbk9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0dmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cblx0dmFyIGRvbGx5U3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgZG9sbHlFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXHR2YXIgZG9sbHlEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cblx0dmFyIHRoZXRhO1xuXHR2YXIgcGhpO1xuXHR2YXIgcGhpRGVsdGEgPSAwO1xuXHR2YXIgdGhldGFEZWx0YSA9IDA7XG5cdHZhciBzY2FsZSA9IDE7XG5cdHZhciBwYW4gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG5cdHZhciBsYXN0UG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXHR2YXIgbGFzdFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG5cdHZhciBTVEFURSA9IHsgTk9ORSA6IC0xLCBST1RBVEUgOiAwLCBET0xMWSA6IDEsIFBBTiA6IDIsIFRPVUNIX1JPVEFURSA6IDMsIFRPVUNIX0RPTExZIDogNCwgVE9VQ0hfUEFOIDogNSB9O1xuXG5cdHZhciBzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0Ly8gZm9yIHJlc2V0XG5cblx0dGhpcy50YXJnZXQwID0gdGhpcy50YXJnZXQuY2xvbmUoKTtcblx0dGhpcy5wb3NpdGlvbjAgPSB0aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuXG5cdC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xuXG5cdHZhciBxdWF0ID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnMoIG9iamVjdC51cCwgbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKSApO1xuXHR2YXIgcXVhdEludmVyc2UgPSBxdWF0LmNsb25lKCkuaW52ZXJzZSgpO1xuXG5cdC8vIGV2ZW50c1xuXG5cdHZhciBjaGFuZ2VFdmVudCA9IHsgdHlwZTogJ2NoYW5nZScgfTtcblx0dmFyIHN0YXJ0RXZlbnQgPSB7IHR5cGU6ICdzdGFydCd9O1xuXHR2YXIgZW5kRXZlbnQgPSB7IHR5cGU6ICdlbmQnfTtcblxuXHR0aGlzLnJvdGF0ZUxlZnQgPSBmdW5jdGlvbiAoIGFuZ2xlICkge1xuXG5cdFx0aWYgKCBhbmdsZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRhbmdsZSA9IGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCk7XG5cblx0XHR9XG5cblx0XHR0aGV0YURlbHRhIC09IGFuZ2xlO1xuXG5cdH07XG5cblx0dGhpcy5yb3RhdGVVcCA9IGZ1bmN0aW9uICggYW5nbGUgKSB7XG5cblx0XHRpZiAoIGFuZ2xlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGFuZ2xlID0gZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKTtcblxuXHRcdH1cblxuXHRcdHBoaURlbHRhIC09IGFuZ2xlO1xuXG5cdH07XG5cblx0Ly8gcGFzcyBpbiBkaXN0YW5jZSBpbiB3b3JsZCBzcGFjZSB0byBtb3ZlIGxlZnRcblx0dGhpcy5wYW5MZWZ0ID0gZnVuY3Rpb24gKCBkaXN0YW5jZSApIHtcblxuXHRcdHZhciB0ZSA9IHRoaXMub2JqZWN0Lm1hdHJpeC5lbGVtZW50cztcblxuXHRcdC8vIGdldCBYIGNvbHVtbiBvZiBtYXRyaXhcblx0XHRwYW5PZmZzZXQuc2V0KCB0ZVsgMCBdLCB0ZVsgMSBdLCB0ZVsgMiBdICk7XG5cdFx0cGFuT2Zmc2V0Lm11bHRpcGx5U2NhbGFyKCAtIGRpc3RhbmNlICk7XG5cblx0XHRwYW4uYWRkKCBwYW5PZmZzZXQgKTtcblxuXHR9O1xuXG5cdC8vIHBhc3MgaW4gZGlzdGFuY2UgaW4gd29ybGQgc3BhY2UgdG8gbW92ZSB1cFxuXHR0aGlzLnBhblVwID0gZnVuY3Rpb24gKCBkaXN0YW5jZSApIHtcblxuXHRcdHZhciB0ZSA9IHRoaXMub2JqZWN0Lm1hdHJpeC5lbGVtZW50cztcblxuXHRcdC8vIGdldCBZIGNvbHVtbiBvZiBtYXRyaXhcblx0XHRwYW5PZmZzZXQuc2V0KCB0ZVsgNCBdLCB0ZVsgNSBdLCB0ZVsgNiBdICk7XG5cdFx0cGFuT2Zmc2V0Lm11bHRpcGx5U2NhbGFyKCBkaXN0YW5jZSApO1xuXG5cdFx0cGFuLmFkZCggcGFuT2Zmc2V0ICk7XG5cblx0fTtcblxuXHQvLyBwYXNzIGluIHgseSBvZiBjaGFuZ2UgZGVzaXJlZCBpbiBwaXhlbCBzcGFjZSxcblx0Ly8gcmlnaHQgYW5kIGRvd24gYXJlIHBvc2l0aXZlXG5cdHRoaXMucGFuID0gZnVuY3Rpb24gKCBkZWx0YVgsIGRlbHRhWSApIHtcblxuXHRcdHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG5cdFx0aWYgKCBzY29wZS5vYmplY3QuZm92ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIHBlcnNwZWN0aXZlXG5cdFx0XHR2YXIgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XG5cdFx0XHR2YXIgb2Zmc2V0ID0gcG9zaXRpb24uY2xvbmUoKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuXHRcdFx0dmFyIHRhcmdldERpc3RhbmNlID0gb2Zmc2V0Lmxlbmd0aCgpO1xuXG5cdFx0XHQvLyBoYWxmIG9mIHRoZSBmb3YgaXMgY2VudGVyIHRvIHRvcCBvZiBzY3JlZW5cblx0XHRcdHRhcmdldERpc3RhbmNlICo9IE1hdGgudGFuKCAoIHNjb3BlLm9iamVjdC5mb3YgLyAyICkgKiBNYXRoLlBJIC8gMTgwLjAgKTtcblxuXHRcdFx0Ly8gd2UgYWN0dWFsbHkgZG9uJ3QgdXNlIHNjcmVlbldpZHRoLCBzaW5jZSBwZXJzcGVjdGl2ZSBjYW1lcmEgaXMgZml4ZWQgdG8gc2NyZWVuIGhlaWdodFxuXHRcdFx0c2NvcGUucGFuTGVmdCggMiAqIGRlbHRhWCAqIHRhcmdldERpc3RhbmNlIC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKTtcblx0XHRcdHNjb3BlLnBhblVwKCAyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCApO1xuXG5cdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0LnRvcCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBvcnRob2dyYXBoaWNcblx0XHRcdHNjb3BlLnBhbkxlZnQoIGRlbHRhWCAqIChzY29wZS5vYmplY3QucmlnaHQgLSBzY29wZS5vYmplY3QubGVmdCkgLyBlbGVtZW50LmNsaWVudFdpZHRoICk7XG5cdFx0XHRzY29wZS5wYW5VcCggZGVsdGFZICogKHNjb3BlLm9iamVjdC50b3AgLSBzY29wZS5vYmplY3QuYm90dG9tKSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBjYW1lcmEgbmVpdGhlciBvcnRob2dyYXBoaWMgb3IgcGVyc3BlY3RpdmVcblx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC4nICk7XG5cblx0XHR9XG5cblx0fTtcblxuXHR0aGlzLmRvbGx5SW4gPSBmdW5jdGlvbiAoIGRvbGx5U2NhbGUgKSB7XG5cblx0XHRpZiAoIGRvbGx5U2NhbGUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0ZG9sbHlTY2FsZSA9IGdldFpvb21TY2FsZSgpO1xuXG5cdFx0fVxuXG5cdFx0c2NhbGUgLz0gZG9sbHlTY2FsZTtcblxuXHR9O1xuXG5cdHRoaXMuZG9sbHlPdXQgPSBmdW5jdGlvbiAoIGRvbGx5U2NhbGUgKSB7XG5cblx0XHRpZiAoIGRvbGx5U2NhbGUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0ZG9sbHlTY2FsZSA9IGdldFpvb21TY2FsZSgpO1xuXG5cdFx0fVxuXG5cdFx0c2NhbGUgKj0gZG9sbHlTY2FsZTtcblxuXHR9O1xuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIHBvc2l0aW9uID0gdGhpcy5vYmplY3QucG9zaXRpb247XG5cblx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHRoaXMudGFyZ2V0ICk7XG5cblx0XHQvLyByb3RhdGUgb2Zmc2V0IHRvIFwieS1heGlzLWlzLXVwXCIgc3BhY2Vcblx0XHRvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0ICk7XG5cblx0XHQvLyBhbmdsZSBmcm9tIHotYXhpcyBhcm91bmQgeS1heGlzXG5cblx0XHR0aGV0YSA9IE1hdGguYXRhbjIoIG9mZnNldC54LCBvZmZzZXQueiApO1xuXG5cdFx0Ly8gYW5nbGUgZnJvbSB5LWF4aXNcblxuXHRcdHBoaSA9IE1hdGguYXRhbjIoIE1hdGguc3FydCggb2Zmc2V0LnggKiBvZmZzZXQueCArIG9mZnNldC56ICogb2Zmc2V0LnogKSwgb2Zmc2V0LnkgKTtcblxuXHRcdGlmICggdGhpcy5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FICkge1xuXG5cdFx0XHR0aGlzLnJvdGF0ZUxlZnQoIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkgKTtcblxuXHRcdH1cblxuXHRcdHRoZXRhICs9IHRoZXRhRGVsdGE7XG5cdFx0cGhpICs9IHBoaURlbHRhO1xuXG5cdFx0Ly8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuXHRcdHRoZXRhID0gTWF0aC5tYXgoIHRoaXMubWluQXppbXV0aEFuZ2xlLCBNYXRoLm1pbiggdGhpcy5tYXhBemltdXRoQW5nbGUsIHRoZXRhICkgKTtcblxuXHRcdC8vIHJlc3RyaWN0IHBoaSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG5cdFx0cGhpID0gTWF0aC5tYXgoIHRoaXMubWluUG9sYXJBbmdsZSwgTWF0aC5taW4oIHRoaXMubWF4UG9sYXJBbmdsZSwgcGhpICkgKTtcblxuXHRcdC8vIHJlc3RyaWN0IHBoaSB0byBiZSBiZXR3ZWUgRVBTIGFuZCBQSS1FUFNcblx0XHRwaGkgPSBNYXRoLm1heCggRVBTLCBNYXRoLm1pbiggTWF0aC5QSSAtIEVQUywgcGhpICkgKTtcblxuXHRcdHZhciByYWRpdXMgPSBvZmZzZXQubGVuZ3RoKCkgKiBzY2FsZTtcblxuXHRcdC8vIHJlc3RyaWN0IHJhZGl1cyB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG5cdFx0cmFkaXVzID0gTWF0aC5tYXgoIHRoaXMubWluRGlzdGFuY2UsIE1hdGgubWluKCB0aGlzLm1heERpc3RhbmNlLCByYWRpdXMgKSApO1xuXG5cdFx0Ly8gbW92ZSB0YXJnZXQgdG8gcGFubmVkIGxvY2F0aW9uXG5cdFx0dGhpcy50YXJnZXQuYWRkKCBwYW4gKTtcblxuXHRcdG9mZnNldC54ID0gcmFkaXVzICogTWF0aC5zaW4oIHBoaSApICogTWF0aC5zaW4oIHRoZXRhICk7XG5cdFx0b2Zmc2V0LnkgPSByYWRpdXMgKiBNYXRoLmNvcyggcGhpICk7XG5cdFx0b2Zmc2V0LnogPSByYWRpdXMgKiBNYXRoLnNpbiggcGhpICkgKiBNYXRoLmNvcyggdGhldGEgKTtcblxuXHRcdC8vIHJvdGF0ZSBvZmZzZXQgYmFjayB0byBcImNhbWVyYS11cC12ZWN0b3ItaXMtdXBcIiBzcGFjZVxuXHRcdG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXRJbnZlcnNlICk7XG5cblx0XHRwb3NpdGlvbi5jb3B5KCB0aGlzLnRhcmdldCApLmFkZCggb2Zmc2V0ICk7XG5cblx0XHR0aGlzLm9iamVjdC5sb29rQXQoIHRoaXMudGFyZ2V0ICk7XG5cblx0XHR0aGV0YURlbHRhID0gMDtcblx0XHRwaGlEZWx0YSA9IDA7XG5cdFx0c2NhbGUgPSAxO1xuXHRcdHBhbi5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdC8vIHVwZGF0ZSBjb25kaXRpb24gaXM6XG5cdFx0Ly8gbWluKGNhbWVyYSBkaXNwbGFjZW1lbnQsIGNhbWVyYSByb3RhdGlvbiBpbiByYWRpYW5zKV4yID4gRVBTXG5cdFx0Ly8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XG5cblx0XHRpZiAoIGxhc3RQb3NpdGlvbi5kaXN0YW5jZVRvU3F1YXJlZCggdGhpcy5vYmplY3QucG9zaXRpb24gKSA+IEVQUyB8fCA4ICogKDEgLSBsYXN0UXVhdGVybmlvbi5kb3QodGhpcy5vYmplY3QucXVhdGVybmlvbikpID4gRVBTICkge1xuXG5cdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoIGNoYW5nZUV2ZW50ICk7XG5cblx0XHRcdGxhc3RQb3NpdGlvbi5jb3B5KCB0aGlzLm9iamVjdC5wb3NpdGlvbiApO1xuXHRcdFx0bGFzdFF1YXRlcm5pb24uY29weSAodGhpcy5vYmplY3QucXVhdGVybmlvbiApO1xuXG5cdFx0fVxuXG5cdH07XG5cblxuXHR0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0dGhpcy50YXJnZXQuY29weSggdGhpcy50YXJnZXQwICk7XG5cdFx0dGhpcy5vYmplY3QucG9zaXRpb24uY29weSggdGhpcy5wb3NpdGlvbjAgKTtcblxuXHRcdHRoaXMudXBkYXRlKCk7XG5cblx0fTtcblxuXHR0aGlzLmdldFBvbGFyQW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRyZXR1cm4gcGhpO1xuXG5cdH07XG5cblx0dGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHJldHVybiB0aGV0YTtcblxuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkge1xuXG5cdFx0cmV0dXJuIDIgKiBNYXRoLlBJIC8gNjAgLyA2MCAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xuXG5cdFx0cmV0dXJuIE1hdGgucG93KCAwLjk1LCBzY29wZS56b29tU3BlZWQgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Nb3VzZURvd24oIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKCBldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5PUkJJVCApIHtcblx0XHRcdGlmICggc2NvcGUubm9Sb3RhdGUgPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRcdHN0YXRlID0gU1RBVEUuUk9UQVRFO1xuXG5cdFx0XHRyb3RhdGVTdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlpPT00gKSB7XG5cdFx0XHRpZiAoIHNjb3BlLm5vWm9vbSA9PT0gdHJ1ZSApIHJldHVybjtcblxuXHRcdFx0c3RhdGUgPSBTVEFURS5ET0xMWTtcblxuXHRcdFx0ZG9sbHlTdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGV2ZW50LmJ1dHRvbiA9PT0gc2NvcGUubW91c2VCdXR0b25zLlBBTiApIHtcblx0XHRcdGlmICggc2NvcGUubm9QYW4gPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRcdHN0YXRlID0gU1RBVEUuUEFOO1xuXG5cdFx0XHRwYW5TdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblx0XHR9XG5cblx0fVxuXG5cdGZ1bmN0aW9uIG9uTW91c2VNb3ZlKCBldmVudCApIHtcblxuXHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cblx0XHRpZiAoIHN0YXRlID09PSBTVEFURS5ST1RBVEUgKSB7XG5cblx0XHRcdGlmICggc2NvcGUubm9Sb3RhdGUgPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblx0XHRcdHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMoIHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQgKTtcblxuXHRcdFx0Ly8gcm90YXRpbmcgYWNyb3NzIHdob2xlIHNjcmVlbiBnb2VzIDM2MCBkZWdyZWVzIGFyb3VuZFxuXHRcdFx0c2NvcGUucm90YXRlTGVmdCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54IC8gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cblx0XHRcdC8vIHJvdGF0aW5nIHVwIGFuZCBkb3duIGFsb25nIHdob2xlIHNjcmVlbiBhdHRlbXB0cyB0byBnbyAzNjAsIGJ1dCBsaW1pdGVkIHRvIDE4MFxuXHRcdFx0c2NvcGUucm90YXRlVXAoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdFx0cm90YXRlU3RhcnQuY29weSggcm90YXRlRW5kICk7XG5cblx0XHR9IGVsc2UgaWYgKCBzdGF0ZSA9PT0gU1RBVEUuRE9MTFkgKSB7XG5cblx0XHRcdGlmICggc2NvcGUubm9ab29tID09PSB0cnVlICkgcmV0dXJuO1xuXG5cdFx0XHRkb2xseUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblx0XHRcdGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcblxuXHRcdFx0aWYgKCBkb2xseURlbHRhLnkgPiAwICkge1xuXG5cdFx0XHRcdHNjb3BlLmRvbGx5SW4oKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRzY29wZS5kb2xseU91dCgpO1xuXG5cdFx0XHR9XG5cblx0XHRcdGRvbGx5U3RhcnQuY29weSggZG9sbHlFbmQgKTtcblxuXHRcdH0gZWxzZSBpZiAoIHN0YXRlID09PSBTVEFURS5QQU4gKSB7XG5cblx0XHRcdGlmICggc2NvcGUubm9QYW4gPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRcdHBhbkVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblx0XHRcdHBhbkRlbHRhLnN1YlZlY3RvcnMoIHBhbkVuZCwgcGFuU3RhcnQgKTtcblxuXHRcdFx0c2NvcGUucGFuKCBwYW5EZWx0YS54LCBwYW5EZWx0YS55ICk7XG5cblx0XHRcdHBhblN0YXJ0LmNvcHkoIHBhbkVuZCApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSApIHNjb3BlLnVwZGF0ZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBvbk1vdXNlVXAoIC8qIGV2ZW50ICovICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UgKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UgKTtcblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gb25Nb3VzZVdoZWVsKCBldmVudCApIHtcblxuXHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUubm9ab29tID09PSB0cnVlIHx8IHN0YXRlICE9PSBTVEFURS5OT05FICkgcmV0dXJuO1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdHZhciBkZWx0YSA9IDA7XG5cblx0XHRpZiAoIGV2ZW50LndoZWVsRGVsdGEgIT09IHVuZGVmaW5lZCApIHsgLy8gV2ViS2l0IC8gT3BlcmEgLyBFeHBsb3JlciA5XG5cblx0XHRcdGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YTtcblxuXHRcdH0gZWxzZSBpZiAoIGV2ZW50LmRldGFpbCAhPT0gdW5kZWZpbmVkICkgeyAvLyBGaXJlZm94XG5cblx0XHRcdGRlbHRhID0gLSBldmVudC5kZXRhaWw7XG5cblx0XHR9XG5cblx0XHRpZiAoIGRlbHRhID4gMCApIHtcblxuXHRcdFx0c2NvcGUuZG9sbHlPdXQoKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHNjb3BlLmRvbGx5SW4oKTtcblxuXHRcdH1cblxuXHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTtcblx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBvbktleURvd24oIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5ub0tleXMgPT09IHRydWUgfHwgc2NvcGUubm9QYW4gPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuVVA6XG5cdFx0XHRcdHNjb3BlLnBhbiggMCwgc2NvcGUua2V5UGFuU3BlZWQgKTtcblx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuQk9UVE9NOlxuXHRcdFx0XHRzY29wZS5wYW4oIDAsIC0gc2NvcGUua2V5UGFuU3BlZWQgKTtcblx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHNjb3BlLmtleXMuTEVGVDpcblx0XHRcdFx0c2NvcGUucGFuKCBzY29wZS5rZXlQYW5TcGVlZCwgMCApO1xuXHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2Ugc2NvcGUua2V5cy5SSUdIVDpcblx0XHRcdFx0c2NvcGUucGFuKCAtIHNjb3BlLmtleVBhblNwZWVkLCAwICk7XG5cdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdH1cblxuXHR9XG5cblx0ZnVuY3Rpb24gdG91Y2hzdGFydCggZXZlbnQgKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0c3dpdGNoICggZXZlbnQudG91Y2hlcy5sZW5ndGggKSB7XG5cblx0XHRcdGNhc2UgMTpcdC8vIG9uZS1maW5nZXJlZCB0b3VjaDogcm90YXRlXG5cblx0XHRcdFx0aWYgKCBzY29wZS5ub1JvdGF0ZSA9PT0gdHJ1ZSApIHJldHVybjtcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcblxuXHRcdFx0XHRyb3RhdGVTdGFydC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDI6XHQvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cblx0XHRcdFx0aWYgKCBzY29wZS5ub1pvb20gPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWTtcblxuXHRcdFx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0XHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xuXHRcdFx0XHRkb2xseVN0YXJ0LnNldCggMCwgZGlzdGFuY2UgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzogLy8gdGhyZWUtZmluZ2VyZWQgdG91Y2g6IHBhblxuXG5cdFx0XHRcdGlmICggc2NvcGUubm9QYW4gPT09IHRydWUgKSByZXR1cm47XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XG5cblx0XHRcdFx0cGFuU3RhcnQuc2V0KCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0XHR9XG5cblx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5OT05FICkgc2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApO1xuXG5cdH1cblxuXHRmdW5jdGlvbiB0b3VjaG1vdmUoIGV2ZW50ICkge1xuXG5cdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHR2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG5cdFx0XHRjYXNlIDE6IC8vIG9uZS1maW5nZXJlZCB0b3VjaDogcm90YXRlXG5cblx0XHRcdFx0aWYgKCBzY29wZS5ub1JvdGF0ZSA9PT0gdHJ1ZSApIHJldHVybjtcblx0XHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUk9UQVRFICkgcmV0dXJuO1xuXG5cdFx0XHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRcdHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMoIHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQgKTtcblxuXHRcdFx0XHQvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG5cdFx0XHRcdHNjb3BlLnJvdGF0ZUxlZnQoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCAvIGVsZW1lbnQuY2xpZW50V2lkdGggKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXHRcdFx0XHQvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcblx0XHRcdFx0c2NvcGUucm90YXRlVXAoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuXHRcdFx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcblxuXHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjogLy8gdHdvLWZpbmdlcmVkIHRvdWNoOiBkb2xseVxuXG5cdFx0XHRcdGlmICggc2NvcGUubm9ab29tID09PSB0cnVlICkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5UT1VDSF9ET0xMWSApIHJldHVybjtcblxuXHRcdFx0XHR2YXIgZHggPSBldmVudC50b3VjaGVzWyAwIF0ucGFnZVggLSBldmVudC50b3VjaGVzWyAxIF0ucGFnZVg7XG5cdFx0XHRcdHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xuXG5cdFx0XHRcdGRvbGx5RW5kLnNldCggMCwgZGlzdGFuY2UgKTtcblx0XHRcdFx0ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKCBkb2xseUVuZCwgZG9sbHlTdGFydCApO1xuXG5cdFx0XHRcdGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcblxuXHRcdFx0XHRcdHNjb3BlLmRvbGx5T3V0KCk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHNjb3BlLmRvbGx5SW4oKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xuXG5cdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXG5cblx0XHRcdFx0aWYgKCBzY29wZS5ub1BhbiA9PT0gdHJ1ZSApIHJldHVybjtcblx0XHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUEFOICkgcmV0dXJuO1xuXG5cdFx0XHRcdHBhbkVuZC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cdFx0XHRcdHBhbkRlbHRhLnN1YlZlY3RvcnMoIHBhbkVuZCwgcGFuU3RhcnQgKTtcblxuXHRcdFx0XHRzY29wZS5wYW4oIHBhbkRlbHRhLngsIHBhbkRlbHRhLnkgKTtcblxuXHRcdFx0XHRwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcblxuXHRcdFx0XHRzY29wZS51cGRhdGUoKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRmdW5jdGlvbiB0b3VjaGVuZCggLyogZXZlbnQgKi8gKSB7XG5cblx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG5cdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XG5cblx0fVxuXG5cdHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoIGV2ZW50ICkgeyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9LCBmYWxzZSApO1xuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSApO1xuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNld2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7XG5cdHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnRE9NTW91c2VTY3JvbGwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7IC8vIGZpcmVmb3hcblxuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoc3RhcnQnLCB0b3VjaHN0YXJ0LCBmYWxzZSApO1xuXHR0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgdG91Y2hlbmQsIGZhbHNlICk7XG5cdHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2htb3ZlJywgdG91Y2htb3ZlLCBmYWxzZSApO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UgKTtcblxuXHQvLyBmb3JjZSBhbiB1cGRhdGUgYXQgc3RhcnRcblx0dGhpcy51cGRhdGUoKTtcblxufTtcblxuVEhSRUUuT3JiaXRDb250cm9scy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlICk7XG5USFJFRS5PcmJpdENvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRIUkVFLk9yYml0Q29udHJvbHM7XG5cbm1vZHVsZS5leHBvcnRzID0gVEhSRUUuT3JiaXRDb250cm9sczsiLCIvKipcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKi9cblxudmFyIFN0YXRzID0gZnVuY3Rpb24gKCkge1xuXG5cdHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpLCBwcmV2VGltZSA9IHN0YXJ0VGltZTtcblx0dmFyIG1zID0gMCwgbXNNaW4gPSBJbmZpbml0eSwgbXNNYXggPSAwO1xuXHR2YXIgZnBzID0gMCwgZnBzTWluID0gSW5maW5pdHksIGZwc01heCA9IDA7XG5cdHZhciBmcmFtZXMgPSAwLCBtb2RlID0gMDtcblxuXHR2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0Y29udGFpbmVyLmlkID0gJ3N0YXRzJztcblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCBmdW5jdGlvbiAoIGV2ZW50ICkgeyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyBzZXRNb2RlKCArKyBtb2RlICUgMiApOyB9LCBmYWxzZSApO1xuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDo4MHB4O29wYWNpdHk6MC45O2N1cnNvcjpwb2ludGVyJztcblxuXHR2YXIgZnBzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0ZnBzRGl2LmlkID0gJ2Zwcyc7XG5cdGZwc0Rpdi5zdHlsZS5jc3NUZXh0ID0gJ3BhZGRpbmc6MCAwIDNweCAzcHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6IzAwMic7XG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggZnBzRGl2ICk7XG5cblx0dmFyIGZwc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXHRmcHNUZXh0LmlkID0gJ2Zwc1RleHQnO1xuXHRmcHNUZXh0LnN0eWxlLmNzc1RleHQgPSAnY29sb3I6IzBmZjtmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6OXB4O2ZvbnQtd2VpZ2h0OmJvbGQ7bGluZS1oZWlnaHQ6MTVweCc7XG5cdGZwc1RleHQuaW5uZXJIVE1MID0gJ0ZQUyc7XG5cdGZwc0Rpdi5hcHBlbmRDaGlsZCggZnBzVGV4dCApO1xuXG5cdHZhciBmcHNHcmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XG5cdGZwc0dyYXBoLmlkID0gJ2Zwc0dyYXBoJztcblx0ZnBzR3JhcGguc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDo3NHB4O2hlaWdodDozMHB4O2JhY2tncm91bmQtY29sb3I6IzBmZic7XG5cdGZwc0Rpdi5hcHBlbmRDaGlsZCggZnBzR3JhcGggKTtcblxuXHR3aGlsZSAoIGZwc0dyYXBoLmNoaWxkcmVuLmxlbmd0aCA8IDc0ICkge1xuXG5cdFx0dmFyIGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzcGFuJyApO1xuXHRcdGJhci5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOjFweDtoZWlnaHQ6MzBweDtmbG9hdDpsZWZ0O2JhY2tncm91bmQtY29sb3I6IzExMyc7XG5cdFx0ZnBzR3JhcGguYXBwZW5kQ2hpbGQoIGJhciApO1xuXG5cdH1cblxuXHR2YXIgbXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXHRtc0Rpdi5pZCA9ICdtcyc7XG5cdG1zRGl2LnN0eWxlLmNzc1RleHQgPSAncGFkZGluZzowIDAgM3B4IDNweDt0ZXh0LWFsaWduOmxlZnQ7YmFja2dyb3VuZC1jb2xvcjojMDIwO2Rpc3BsYXk6bm9uZSc7XG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggbXNEaXYgKTtcblxuXHR2YXIgbXNUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0bXNUZXh0LmlkID0gJ21zVGV4dCc7XG5cdG1zVGV4dC5zdHlsZS5jc3NUZXh0ID0gJ2NvbG9yOiMwZjA7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjlweDtmb250LXdlaWdodDpib2xkO2xpbmUtaGVpZ2h0OjE1cHgnO1xuXHRtc1RleHQuaW5uZXJIVE1MID0gJ01TJztcblx0bXNEaXYuYXBwZW5kQ2hpbGQoIG1zVGV4dCApO1xuXG5cdHZhciBtc0dyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0bXNHcmFwaC5pZCA9ICdtc0dyYXBoJztcblx0bXNHcmFwaC5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjc0cHg7aGVpZ2h0OjMwcHg7YmFja2dyb3VuZC1jb2xvcjojMGYwJztcblx0bXNEaXYuYXBwZW5kQ2hpbGQoIG1zR3JhcGggKTtcblxuXHR3aGlsZSAoIG1zR3JhcGguY2hpbGRyZW4ubGVuZ3RoIDwgNzQgKSB7XG5cblx0XHR2YXIgYmFyMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzcGFuJyApO1xuXHRcdGJhcjIuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDoxcHg7aGVpZ2h0OjMwcHg7ZmxvYXQ6bGVmdDtiYWNrZ3JvdW5kLWNvbG9yOiMxMzEnO1xuXHRcdG1zR3JhcGguYXBwZW5kQ2hpbGQoIGJhcjIgKTtcblxuXHR9XG5cblx0dmFyIHNldE1vZGUgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0bW9kZSA9IHZhbHVlO1xuXG5cdFx0c3dpdGNoICggbW9kZSApIHtcblxuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRmcHNEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdG1zRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRmcHNEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0bXNEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHR9O1xuXG5cdHZhciB1cGRhdGVHcmFwaCA9IGZ1bmN0aW9uICggZG9tLCB2YWx1ZSApIHtcblxuXHRcdHZhciBjaGlsZCA9IGRvbS5hcHBlbmRDaGlsZCggZG9tLmZpcnN0Q2hpbGQgKTtcblx0XHRjaGlsZC5zdHlsZS5oZWlnaHQgPSB2YWx1ZSArICdweCc7XG5cblx0fTtcblxuXHRyZXR1cm4ge1xuXG5cdFx0UkVWSVNJT046IDEyLFxuXG5cdFx0ZG9tRWxlbWVudDogY29udGFpbmVyLFxuXG5cdFx0c2V0TW9kZTogc2V0TW9kZSxcblxuXHRcdGJlZ2luOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cblx0XHR9LFxuXG5cdFx0ZW5kOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHZhciB0aW1lID0gRGF0ZS5ub3coKTtcblxuXHRcdFx0bXMgPSB0aW1lIC0gc3RhcnRUaW1lO1xuXHRcdFx0bXNNaW4gPSBNYXRoLm1pbiggbXNNaW4sIG1zICk7XG5cdFx0XHRtc01heCA9IE1hdGgubWF4KCBtc01heCwgbXMgKTtcblxuXHRcdFx0bXNUZXh0LnRleHRDb250ZW50ID0gbXMgKyAnIE1TICgnICsgbXNNaW4gKyAnLScgKyBtc01heCArICcpJztcblx0XHRcdHVwZGF0ZUdyYXBoKCBtc0dyYXBoLCBNYXRoLm1pbiggMzAsIDMwIC0gKCBtcyAvIDIwMCApICogMzAgKSApO1xuXG5cdFx0XHRmcmFtZXMgKys7XG5cblx0XHRcdGlmICggdGltZSA+IHByZXZUaW1lICsgMTAwMCApIHtcblxuXHRcdFx0XHRmcHMgPSBNYXRoLnJvdW5kKCAoIGZyYW1lcyAqIDEwMDAgKSAvICggdGltZSAtIHByZXZUaW1lICkgKTtcblx0XHRcdFx0ZnBzTWluID0gTWF0aC5taW4oIGZwc01pbiwgZnBzICk7XG5cdFx0XHRcdGZwc01heCA9IE1hdGgubWF4KCBmcHNNYXgsIGZwcyApO1xuXG5cdFx0XHRcdGZwc1RleHQudGV4dENvbnRlbnQgPSBmcHMgKyAnIEZQUyAoJyArIGZwc01pbiArICctJyArIGZwc01heCArICcpJztcblx0XHRcdFx0dXBkYXRlR3JhcGgoIGZwc0dyYXBoLCBNYXRoLm1pbiggMzAsIDMwIC0gKCBmcHMgLyAxMDAgKSAqIDMwICkgKTtcblxuXHRcdFx0XHRwcmV2VGltZSA9IHRpbWU7XG5cdFx0XHRcdGZyYW1lcyA9IDA7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRpbWU7XG5cblx0XHR9LFxuXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHN0YXJ0VGltZSA9IHRoaXMuZW5kKCk7XG5cblx0XHR9XG5cblx0fTtcblxufTtcblxuaWYgKCB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyApIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFN0YXRzO1xuXG59IiwiLyoqXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICogQGF1dGhvZCBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqIEBhdXRob2QgYXJvZGljIC8gaHR0cDovL2FsZWtzYW5kYXJyb2RpYy5jb20vXG4gKi9cblxuVEhSRUUuU3RlcmVvRWZmZWN0ID0gZnVuY3Rpb24gKCByZW5kZXJlciApIHtcblxuXHQvLyBBUElcblxuXHR0aGlzLnNlcGFyYXRpb24gPSAzO1xuXG5cdC8vIGludGVybmFsc1xuXG5cdHZhciBfd2lkdGgsIF9oZWlnaHQ7XG5cblx0dmFyIF9wb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdHZhciBfcXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG5cdHZhciBfc2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG5cdHZhciBfY2FtZXJhTCA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSgpO1xuXHR2YXIgX2NhbWVyYVIgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoKTtcblxuXHQvLyBpbml0aWFsaXphdGlvblxuXG5cdHJlbmRlcmVyLmF1dG9DbGVhciA9IGZhbHNlO1xuXG5cdHRoaXMuc2V0U2l6ZSA9IGZ1bmN0aW9uICggd2lkdGgsIGhlaWdodCApIHtcblxuXHRcdF93aWR0aCA9IHdpZHRoIC8gMjtcblx0XHRfaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cdFx0cmVuZGVyZXIuc2V0U2l6ZSggd2lkdGgsIGhlaWdodCApO1xuXG5cdH07XG5cblx0dGhpcy5yZW5kZXIgPSBmdW5jdGlvbiAoIHNjZW5lLCBjYW1lcmEgKSB7XG5cblx0XHRzY2VuZS51cGRhdGVNYXRyaXhXb3JsZCgpO1xuXG5cdFx0aWYgKCBjYW1lcmEucGFyZW50ID09PSB1bmRlZmluZWQgKSBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoKTtcblx0XG5cdFx0Y2FtZXJhLm1hdHJpeFdvcmxkLmRlY29tcG9zZSggX3Bvc2l0aW9uLCBfcXVhdGVybmlvbiwgX3NjYWxlICk7XG5cblx0XHQvLyBsZWZ0XG5cblx0XHRfY2FtZXJhTC5mb3YgPSBjYW1lcmEuZm92O1xuXHRcdF9jYW1lcmFMLmFzcGVjdCA9IDAuNSAqIGNhbWVyYS5hc3BlY3Q7XG5cdFx0X2NhbWVyYUwubmVhciA9IGNhbWVyYS5uZWFyO1xuXHRcdF9jYW1lcmFMLmZhciA9IGNhbWVyYS5mYXI7XG5cdFx0X2NhbWVyYUwudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG5cdFx0X2NhbWVyYUwucG9zaXRpb24uY29weSggX3Bvc2l0aW9uICk7XG5cdFx0X2NhbWVyYUwucXVhdGVybmlvbi5jb3B5KCBfcXVhdGVybmlvbiApO1xuXHRcdF9jYW1lcmFMLnRyYW5zbGF0ZVgoIC0gdGhpcy5zZXBhcmF0aW9uICk7XG5cblx0XHQvLyByaWdodFxuXG5cdFx0X2NhbWVyYVIubmVhciA9IGNhbWVyYS5uZWFyO1xuXHRcdF9jYW1lcmFSLmZhciA9IGNhbWVyYS5mYXI7XG5cdFx0X2NhbWVyYVIucHJvamVjdGlvbk1hdHJpeCA9IF9jYW1lcmFMLnByb2plY3Rpb25NYXRyaXg7XG5cblx0XHRfY2FtZXJhUi5wb3NpdGlvbi5jb3B5KCBfcG9zaXRpb24gKTtcblx0XHRfY2FtZXJhUi5xdWF0ZXJuaW9uLmNvcHkoIF9xdWF0ZXJuaW9uICk7XG5cdFx0X2NhbWVyYVIudHJhbnNsYXRlWCggdGhpcy5zZXBhcmF0aW9uICk7XG5cblx0XHQvL1xuXG5cdFx0cmVuZGVyZXIuc2V0Vmlld3BvcnQoIDAsIDAsIF93aWR0aCAqIDIsIF9oZWlnaHQgKTtcblx0XHRyZW5kZXJlci5jbGVhcigpO1xuXG5cdFx0cmVuZGVyZXIuc2V0Vmlld3BvcnQoIDAsIDAsIF93aWR0aCwgX2hlaWdodCApO1xuXHRcdHJlbmRlcmVyLnJlbmRlciggc2NlbmUsIF9jYW1lcmFMICk7XG5cblx0XHRyZW5kZXJlci5zZXRWaWV3cG9ydCggX3dpZHRoLCAwLCBfd2lkdGgsIF9oZWlnaHQgKTtcblx0XHRyZW5kZXJlci5yZW5kZXIoIHNjZW5lLCBfY2FtZXJhUiApO1xuXG5cdH07XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVEhSRUUuU3RlcmVvRWZmZWN0OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRuYW1lIDogXCJCbG9ic1wiLFxuXHRkZXNjcmlwdGlvbiA6IFwiUmF5Y2FzdGluZ1wiLFxuXHRvcmRlciA6IDMsXG5cdGNvbmZpZyA6IHtcblx0XHRjYW1lcmEgOiB7fSxcblx0fSxcblx0Y29tcG9uZW50cyA6IHtcblx0XHRyZW5kZXJlciA6IHsgZnVuY3Rpb24gOiByZXF1aXJlKCcuLi9qcy9yZW5kZXJlcnMvYmFzaWMtcmVuZGVyZXInKSB9LFxuXHRcdGNvbnRyb2xzIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9jYW1lcmFzL0NvbnRyb2xzXCIpLFxuXHRcdH0sXG5cdFx0bW91c2UgOiB7XG5cdFx0XHRmdW5jdGlvbjogcmVxdWlyZSgnLi4vanMvY29tcG9uZW50cy9oaWRzL21vdXNlLXRyYWNrZXInKVxuXHRcdH0sXG5cdFx0Z3JpZCA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2RlbW9zL0dyaWRcIiksXG5cdFx0fSxcblx0XHRibG9icyA6IHtcblx0XHRcdGZ1bmN0aW9uOiByZXF1aXJlKCcuLi9qcy9jb21wb25lbnRzL2FtYmlhbmNlL2Jsb2JzL2Jsb2JzJylcblx0XHR9XG5cdH1cbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdG5hbWUgOiBcIkNhcmJvbiBEaW94aWRlIEVhcnRoXCIsXG5cdGRlc2NyaXB0aW9uIDogXCJNYXBwaW5nIE5BU0EgRGF0YVwiLFxuXHRvcmRlciA6IDAsXG5cdGNvbmZpZyA6IHtcblx0XHRjYW1lcmEgOiB7XG5cdFx0XHR4IDogLTQwMCxcblx0XHRcdGZhciA6IDMwMDBcblx0XHR9XG5cdH0sXG5cdGNvbXBvbmVudHMgOiB7XG5cdFx0cmVuZGVyZXIgOiB7IGZ1bmN0aW9uIDogcmVxdWlyZSgnLi4vanMvcmVuZGVyZXJzL2Jhc2ljLXJlbmRlcmVyJykgfSxcblx0XHRzcGhlcmUgOiB7XG5cdFx0XHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9kZW1vcy9FYXJ0aFwiKSxcblx0XHRcdHByb3BlcnRpZXM6IHt9XG5cdFx0fSxcblx0XHRjb250cm9scyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvY2FtZXJhcy9Db250cm9sc1wiKSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0bWluRGlzdGFuY2UgOiA1MDAsXG5cdFx0XHRcdG1heERpc3RhbmNlIDogMTAwMCxcblx0XHRcdFx0em9vbVNwZWVkIDogMC4xLFxuXHRcdFx0XHRhdXRvUm90YXRlIDogdHJ1ZSxcblx0XHRcdFx0YXV0b1JvdGF0ZVNwZWVkIDogMC4yXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbmZvIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9JbmZvXCIpLFxuXHRcdFx0cHJvcGVydGllcyA6IHtcblx0XHRcdFx0ZG9jdW1lbnRUaXRsZSA6IFwiRWFydGgncyBDTzIg4oCTIGEgVGhyZWUuanMgVmlzdWFsaXphdGlvbiBhZGFwdGVkIGJ5IEdyZWcgVGF0dW1cIixcblx0XHRcdFx0dGl0bGUgOiBcIkVhcnRoJ3MgQ08yXCIsXG5cdFx0XHRcdHN1YnRpdGxlIDogXCIzZCBWaXN1YWxpc2F0aW9uIG9mIGEgbWFwIGZyb20gTkFTQVwiLFxuXHRcdFx0XHRhcHBlbmRDcmVkaXRzIDogXCI8YnIvPiBNYXAgdmlzdWFsaXphdGlvbiBieSA8YSBocmVmPSdodHRwOi8vc3ZzLmdzZmMubmFzYS5nb3YvY2dpLWJpbi9kZXRhaWxzLmNnaT9haWQ9MTE3MTknPk5BU0EncyBHb2RkYXJkIFNwYWNlIEZsaWdodCBDZW50ZXI8L2E+XCIsXG5cdFx0XHRcdHRpdGxlQ3NzIDogeyBcImZvbnQtc2l6ZVwiOiBcIjMuMzVlbVwiIH0sXG5cdFx0XHRcdHN1YnRpdGxlQ3NzIDoge1x0XCJmb250LXNpemVcIjogXCIwLjdlbVwiIH0sXG5cdFx0XHRcdHNob3dBcnJvd05leHQgOiB0cnVlXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzdGFycyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvU3RhcnNcIiksXG5cdFx0fSxcblx0XHQvLyBzdGF0cyA6IHtcblx0XHQvLyBcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvdXRpbHMvU3RhdHNcIilcblx0XHQvLyB9LFxuXHRcdGxpZ2h0cyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvbGlnaHRzL1RyYWNrQ2FtZXJhTGlnaHRzXCIpXG5cdFx0fVxuXHR9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRuYW1lIDogXCJDdWJpY1wiLFxuXHRkZXNjcmlwdGlvbiA6IFwiQW4gQ3ViaWNhbiBFeHBlcmltZW50XCIsXG5cdG9yZGVyIDogMCxcblx0Y29uZmlnIDoge1xuXHRcdGNhbWVyYSA6IHtcblx0XHRcdHggOiAwLFxuXHRcdFx0ejogNTAwLFxuXHRcdFx0bmVhciA6IDAuMSxcblx0XHRcdGZvdiA6IDQwXG5cdFx0fVxuXHR9LFxuXHRjb21wb25lbnRzIDoge1xuXHRcdHJlbmRlcmVyIDogeyBmdW5jdGlvbiA6IHJlcXVpcmUoJy4uL2pzL3JlbmRlcmVycy9lZmZlY3RzLXJlbmRlcmVyJykgfSxcblx0XHRyZXN0cmljdGVkQ2FtZXJhIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9jYW1lcmFzL1Jlc3RyaWN0ZWRDYW1lcmFcIiksXG5cdFx0fSxcblx0XHR3aXJlVGVycmFpbiA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2RlbW9zL3dpcmUtdGVycmFpbi90ZXJyYWluXCIpLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRwb3NpdGlvblk6IC0yNTBcblx0XHRcdH1cblx0XHR9LFxuXHRcdHBhcnRpY2xlcyA6IHtcblx0XHRcdGZ1bmN0aW9uOiByZXF1aXJlKCcuLi9qcy9jb21wb25lbnRzL2FtYmlhbmNlL3BhcnRpY2xlcy9wYXJ0aWNsZXMnKSxcblx0XHR9LFxuXHRcdG11c2ljIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvc291bmQvTXVzaWNcIiksXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHVybDogXCJodHRwczovL3NvdW5kY2xvdWQuY29tL2NhYmJpYm8vdGhhdC13YXMtanVzdC1zdHVwaWRseVwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkcmFnU2Nyb2xsIDoge1xuXHRcdFx0ZnVuY3Rpb246IHJlcXVpcmUoJy4uL2pzL2NvbXBvbmVudHMvdXRpbHMvZHJhZy1zY3JvbGwnKVx0XHRcdFxuXHRcdH0sXG5cdFx0c2t5OiB7XG5cdFx0XHRmdW5jdGlvbjogcmVxdWlyZSgnLi4vanMvY29tcG9uZW50cy9hbWJpYW5jZS9Ta3knKSxcblx0XHRcdHByb3BlcnRpZXMgOiB7XG5cdFx0XHRcdHdpZHRoIDogNTBcblx0XHRcdH1cblx0XHR9LFxuXHR9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRuYW1lIDogXCJFbmRsZXNzIFRlcnJhaW5cIixcblx0ZGVzY3JpcHRpb24gOiBcIkFuIGV2ZXItcmVwZWF0aW5nIGVudmlyb25tZW50XCIsXG5cdG9yZGVyIDogMCxcblx0Y29uZmlnIDoge1xuXHRcdGNhbWVyYSA6IHtcblx0XHRcdHggOiAwLFxuXHRcdFx0ejogNTAwLFxuXHRcdFx0bmVhciA6IDAuMSxcblx0XHRcdGZvdiA6IDQwXG5cdFx0fVxuXHR9LFxuXHRjb21wb25lbnRzIDoge1xuXHRcdHJlbmRlcmVyIDogeyBmdW5jdGlvbiA6IHJlcXVpcmUoJy4uL2pzL3JlbmRlcmVycy9lZmZlY3RzLXJlbmRlcmVyJykgfSxcblx0XHRyZXN0cmljdGVkQ2FtZXJhIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9jYW1lcmFzL1Jlc3RyaWN0ZWRDYW1lcmFcIiksXG5cdFx0fSxcblx0XHRlbmRsZXNzVGVycmFpbiA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2RlbW9zL0VuZGxlc3NUZXJyYWluL2VuZGxlc3NcIiksXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHBvc2l0aW9uWTogLTI1MFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y3JlZGl0cyA6IHtcblx0XHRcdGZ1bmN0aW9uIDogcmVxdWlyZSgnLi4vanMvZGVtb3MvRW5kbGVzc1RlcnJhaW4vY3JlZGl0cycpXG5cdFx0fSxcblx0XHRwYXJ0aWNsZXMgOiB7XG5cdFx0XHRmdW5jdGlvbjogcmVxdWlyZSgnLi4vanMvY29tcG9uZW50cy9hbWJpYW5jZS9wYXJ0aWNsZXMvcGFydGljbGVzJyksXG5cdFx0fSxcblx0XHRjbG91ZHNUb3AgOiB7XG5cdFx0XHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9jb21wb25lbnRzL2FtYmlhbmNlL0Nsb3Vkc1wiKSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0aGVpZ2h0OiAyMDAsXG5cdFx0XHRcdHJvdGF0aW9uOiBNYXRoLlBJIC8gMlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ly8gbXVzaWMgOiB7XG5cdFx0Ly8gXHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9zb3VuZC9NdXNpY1wiKSxcblx0XHQvLyBcdHByb3BlcnRpZXM6IHtcblx0XHQvLyBcdFx0dXJsOiBcImh0dHBzOi8vc291bmRjbG91ZC5jb20vc3luYXB0eXgvbWVjaC1hdHRhY2tcIlxuXHRcdC8vIFx0fVxuXHRcdC8vIH0sXG5cdFx0YW5pbWF0b3IgOiB7XG5cdFx0XHRmdW5jdGlvbjogcmVxdWlyZSgnLi4vanMvY29tcG9uZW50cy9hbmltYXRvcicpLFxuXHRcdFx0cHJvcGVydGllczogcmVxdWlyZSgnLi4vanMvZGVtb3MvRW5kbGVzc1RlcnJhaW4va2V5ZnJhbWVzLmpzJylcblx0XHR9LFxuXHRcdC8vIHN0YXRzIDoge1xuXHRcdC8vIFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy91dGlscy9TdGF0c1wiKVxuXHRcdC8vIH1cblx0fVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZSA6IFwiR3B1IFByb2Nlc3NvciBFeGFtcGxlXCIsXG5cdGRlc2NyaXB0aW9uIDogXCJQb3NpdGlvbmluZyBzdG9yZWQgaW4gYSBmcmFtZSBidWZmZXJcIixcblx0b3JkZXIgOiAwLFxuXHRjb25maWcgOiB7XG5cdFx0Y2FtZXJhIDoge1xuXHRcdFx0eCA6IC0zMDAsXG5cdFx0XHRuZWFyIDogMC4xLFxuXHRcdFx0ZmFyIDogNTAwMCxcblx0XHRcdGZvdiA6IDQwXG5cdFx0fVxuXHR9LFxuXHRjb21wb25lbnRzIDoge1xuXHRcdHJlbmRlcmVyIDogeyBmdW5jdGlvbiA6IHJlcXVpcmUoJy4uL2pzL3JlbmRlcmVycy9iYXNpYy1yZW5kZXJlcicpIH0sXG5cdFx0Y29udHJvbHMgOiB7IGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvY2FtZXJhcy9Db250cm9sc1wiKSB9LFxuXHRcdC8vIGdyaWQgOiB7IGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2RlbW9zL0dyaWRcIikgfSxcblx0XHRmYm9Qb3NpdGlvbmluZyA6IHsgZnVuY3Rpb246IHJlcXVpcmUoJy4uL2pzL2NvbXBvbmVudHMvZmJvLXBvc2l0aW9uaW5nL2ZibycpIH0sXG5cdH1cbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwibGlnaHQtYmVhbXNcIiA6IHJlcXVpcmUoXCIuL2xpZ2h0LWJlYW1zXCIpLFxuXHRjdWJpYyA6IHJlcXVpcmUoXCIuL2N1YmljXCIpLFxuXHRwb3N0cHJvY2Vzc2luZyA6IHJlcXVpcmUoXCIuL3Bvc3Rwcm9jZXNzaW5nXCIpLFxuXHRibG9icyA6IHJlcXVpcmUoXCIuL2Jsb2JzXCIpLFxuXHRtZXNoR3JvdXBCb3hEZW1vIDogcmVxdWlyZShcIi4vbWVzaEdyb3VwQm94RGVtb1wiKSxcblx0Y2FyYm9uRGlveGlkZUVhcnRoIDogcmVxdWlyZShcIi4vY2FyYm9uRGlveGlkZUVhcnRoXCIpLFxuXHRlbmRsZXNzVGVycmFpbiA6IHJlcXVpcmUoXCIuL2VuZGxlc3NUZXJyYWluXCIpLFxuXHR0ZXRyYWhlZHJhIDogcmVxdWlyZShcIi4vdGV0cmFoZWRyYVwiKSxcblx0c2luZUdyYXZpdHlDbG91ZCA6IHJlcXVpcmUoXCIuL3NpbmVHcmF2aXR5Q2xvdWRcIiksXG5cdHZyIDogcmVxdWlyZShcIi4vdnJcIiksXG5cdFwiZmJvLXBvc2l0aW9uaW5nXCIgOiByZXF1aXJlKFwiLi9mYm8tcG9zaXRpb25pbmdcIiksXG59XG5cbi8vIExlZ2FjeTpcbi8vIHVuaWZvcm1Qb3NpdGlvbmFsTWF0cmljZXMgOiByZXF1aXJlKFwiLi91bmlmb3JtUG9zaXRpb25hbE1hdHJpY2VzXCIpLFxuLy8gdGV4dHVyZVBvc2l0aW9uYWxNYXRyaWNlcyA6IHJlcXVpcmUoXCIuL3RleHR1cmVQb3NpdGlvbmFsTWF0cmljZXNcIiksXG4iLCJ2YXIgTGlnaHRCZWFtID0gcmVxdWlyZSgnLi4vanMvY29tcG9uZW50cy9hbWJpYW5jZS9saWdodC1iZWFtL2xpZ2h0LWJlYW0nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZSA6IFwiTGlnaHQgQmVhbXNcIixcblx0ZGVzY3JpcHRpb24gOiBcIkF0bW9zcGhlcmljIExpZ2h0aW5nXCIsXG5cdG9yZGVyIDogMCxcblx0Y29uZmlnIDoge1xuXHRcdGNhbWVyYSA6IHtcblx0XHRcdHggOiAwLFxuXHRcdFx0ejogNTAwLFxuXHRcdFx0bmVhciA6IDAuMSxcblx0XHRcdGZvdiA6IDQwXG5cdFx0fVxuXHR9LFxuXHRjb21wb25lbnRzIDoge1xuXHRcdHJlbmRlcmVyIDogeyBmdW5jdGlvbiA6IHJlcXVpcmUoJy4uL2pzL3JlbmRlcmVycy9iYXNpYy1yZW5kZXJlcicpIH0sXG5cdFx0Ly8gcmVuZGVyZXIgOiB7IGZ1bmN0aW9uIDogcmVxdWlyZSgnLi4vanMvcmVuZGVyZXJzL2VmZmVjdHMtcmVuZGVyZXInKSB9LFxuXHRcdGNvbnRyb2xzIDogeyBjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9jb21wb25lbnRzL2NhbWVyYXMvQ29udHJvbHNcIikgfSxcblx0XHQvLyByZXN0cmljdGVkQ2FtZXJhIDoge1xuXHRcdC8vIFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9jYW1lcmFzL1Jlc3RyaWN0ZWRDYW1lcmFcIiksXG5cdFx0Ly8gfSxcblx0XHRsaWdodEJlYW0xIDoge1xuXHRcdFx0ZnVuY3Rpb24gOiBMaWdodEJlYW0sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAgICBbMTAwLC0xNTAsMF0sXG5cdFx0XHRcdGNvbG9yOiAgICAgICAweGFhNjYxMSxcblx0XHRcdFx0bGlnaHRMZW5ndGg6IDIwMCxcblx0XHRcdH1cblx0XHR9LFxuXHRcdGxpZ2h0QmVhbTIgOiB7XG5cdFx0XHRmdW5jdGlvbiA6IExpZ2h0QmVhbSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0cG9zaXRpb246ICAgIFsxMDAsLTE1MCwwXSxcblx0XHRcdFx0Y29sb3I6ICAgICAgIDB4Y2M0NDExLFxuXHRcdFx0XHRsaWdodExlbmd0aDogMzAwLFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bGlnaHRCZWFtNCA6IHtcblx0XHRcdGZ1bmN0aW9uIDogTGlnaHRCZWFtLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRwb3NpdGlvbjogICAgWzEwMCwtMTUwLDBdLFxuXHRcdFx0XHRjb2xvcjogICAgICAgMHhmZjExMTEsXG5cdFx0XHRcdGxpZ2h0TGVuZ3RoOiAyNTAsXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRsaWdodEJlYW0zIDoge1xuXHRcdFx0ZnVuY3Rpb24gOiBMaWdodEJlYW0sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAgICBbMTAwLC0xNTAsMF0sXG5cdFx0XHRcdGNvbG9yOiAgICAgICAweGVlMjIxMSxcblx0XHRcdFx0bGlnaHRMZW5ndGg6IDIwMCxcblx0XHRcdH1cblx0XHR9LFxuXHRcdFxuXG5cdFx0bGlnaHRMZWZ0QmVhbTEgOiB7XG5cdFx0XHRmdW5jdGlvbiA6IExpZ2h0QmVhbSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0cG9zaXRpb246ICAgIFstMTAwLC0xNTAsMF0sXG5cdFx0XHRcdGNvbG9yOiAgICAgICAweDExYWE2Nixcblx0XHRcdFx0bGlnaHRMZW5ndGg6IDIwMCxcblx0XHRcdH1cblx0XHR9LFxuXHRcdGxpZ2h0TGVmdEJlYW0yIDoge1xuXHRcdFx0ZnVuY3Rpb24gOiBMaWdodEJlYW0sXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAgICBbLTEwMCwtMTUwLDBdLFxuXHRcdFx0XHRjb2xvcjogICAgICAgMHgxMWNjNDQsXG5cdFx0XHRcdGxpZ2h0TGVuZ3RoOiAzMDAsXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRsaWdodExlZnRCZWFtNCA6IHtcblx0XHRcdGZ1bmN0aW9uIDogTGlnaHRCZWFtLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRwb3NpdGlvbjogICAgWy0xMDAsLTE1MCwwXSxcblx0XHRcdFx0Y29sb3I6ICAgICAgIDB4MTFmZjExLFxuXHRcdFx0XHRsaWdodExlbmd0aDogMjUwLFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bGlnaHRMZWZ0QmVhbTMgOiB7XG5cdFx0XHRmdW5jdGlvbiA6IExpZ2h0QmVhbSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0cG9zaXRpb246ICAgIFstMTAwLC0xNTAsMF0sXG5cdFx0XHRcdGNvbG9yOiAgICAgICAweDExZWUyMixcblx0XHRcdFx0bGlnaHRMZW5ndGg6IDIwMCxcblx0XHRcdH1cblx0XHR9LFxuXHRcdFxuXHRcdHNreToge1xuXHRcdFx0ZnVuY3Rpb246IHJlcXVpcmUoJy4uL2pzL2NvbXBvbmVudHMvYW1iaWFuY2UvU2t5JyksXG5cdFx0XHRwcm9wZXJ0aWVzIDoge1xuXHRcdFx0XHR3aWR0aCA6IDUwXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZSA6IFwiTWVzaEdyb3VwKCkgUHJvb2Ygb2YgQ29uY2VwdFwiLFxuXHRkZXNjcmlwdGlvbiA6IFwiQmF0Y2hpbmcgbXVsdGlwbGUgVGhyZWUuanMgbWVzaGVzIGludG8gb25lIGRyYXcgY2FsbFwiLFxuXHRvcmRlciA6IDUwLFxuXHRjb25maWcgOiB7XG5cdFx0Y2FtZXJhIDoge1xuXHRcdFx0eCA6IC00MDBcblx0XHR9XG5cdH0sXG5cdGNvbXBvbmVudHMgOiB7XG5cdFx0cmVuZGVyZXIgOiB7IGZ1bmN0aW9uIDogcmVxdWlyZSgnLi4vanMvcmVuZGVyZXJzL2Jhc2ljLXJlbmRlcmVyJykgfSxcblx0XHRkZW1vIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvZGVtb3MvTWVzaEdyb3VwQm94RGVtb1wiKSxcblx0XHRcdHByb3BlcnRpZXM6IHt9XG5cdFx0fSxcblx0XHRjb250cm9scyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvY2FtZXJhcy9Db250cm9sc1wiKSxcblx0XHR9LFxuXHRcdGdyaWQgOiB7XG5cdFx0XHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9kZW1vcy9HcmlkXCIpLFxuXHRcdH0sXG5cdFx0c3RhdHMgOiB7XG5cdFx0XHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9jb21wb25lbnRzL3V0aWxzL1N0YXRzXCIpXG5cdFx0fVxuXHR9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRuYW1lIDogXCJQb3N0IFByb2Nlc3NpbmdcIixcblx0ZGVzY3JpcHRpb24gOiBcIlwiLFxuXHRvcmRlciA6IDAsXG5cdGNvbmZpZyA6IHtcblx0XHRjYW1lcmEgOiB7XG5cdFx0XHR4IDogLTQwMFxuXHRcdH0sXG5cdH0sXG5cdGNvbXBvbmVudHMgOiB7XG5cdFx0cmVuZGVyZXIgOiB7IGZ1bmN0aW9uIDogcmVxdWlyZSgnLi4vanMvcmVuZGVyZXJzL3Bvc3Rwcm9jZXNzLXJlbmRlcmVyJykgfSxcblx0XHRjb250cm9scyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvY2FtZXJhcy9Db250cm9sc1wiKSxcblx0XHR9LFxuXHRcdGdyaWQgOiB7XG5cdFx0XHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9kZW1vcy9HcmlkXCIpLFxuXHRcdH0sXG5cdFx0dHJlZSA6IHtcblx0XHRcdGZ1bmN0aW9uOiByZXF1aXJlKCcuLi9qcy9jb21wb25lbnRzL21vZGVscy90cmVlJyksXG5cdFx0XHRwcm9wZXJ0aWVzOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiBbMCwtNTAsIDBdLFxuXHRcdFx0XHRzY2FsZTogWzIwLDIwLDIwXSxcblx0XHRcdH1cblx0XHR9LFxuXHRcdGxpZ2h0cyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvbGlnaHRzL1RyYWNrQ2FtZXJhTGlnaHRzXCIpXG5cdFx0fSxcdFx0XG5cdFx0Ly8gc3RhdHMgOiB7XG5cdFx0Ly8gXHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9jb21wb25lbnRzL3V0aWxzL1N0YXRzXCIpXG5cdFx0Ly8gfVxuXHR9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRuYW1lIDogXCJTaW5lIEdyYXZpdHkgQ2xvdWRcIixcblx0ZGVzY3JpcHRpb24gOiBcIkFuIGV2b2x2aW5nIGNsb3VkIG9mIG1vdmVtZW50XCIsXG5cdG9yZGVyIDogMCxcblx0Y29uZmlnIDoge1xuXHRcdGNhbWVyYSA6IHtcblx0XHRcdHggOiAtNDAwXG5cdFx0fSxcblx0fSxcblx0Y29tcG9uZW50cyA6IHtcblx0XHRyZW5kZXJlciA6IHsgZnVuY3Rpb24gOiByZXF1aXJlKCcuLi9qcy9yZW5kZXJlcnMvYmFzaWMtcmVuZGVyZXInKSB9LFxuXHRcdGNvbnRyb2xzIDoge1xuXHRcdFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9jYW1lcmFzL0NvbnRyb2xzXCIpLFxuXHRcdH0sXG5cdFx0cG9pbnRjbG91ZCA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2RlbW9zL3NpbmUtZ3Jhdml0eS1jbG91ZC9zaW5lXCIpLFxuXHRcdH0sXG5cdFx0Z3JpZCA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2RlbW9zL0dyaWRcIiksXG5cdFx0fSxcblx0XHQvLyBzdGF0cyA6IHtcblx0XHQvLyBcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvdXRpbHMvU3RhdHNcIilcblx0XHQvLyB9XG5cdH1cbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdG5hbWUgOiBcIlRldHJhaGVkcmFcIixcblx0ZGVzY3JpcHRpb24gOiBcIkxpdmUgY29kaW5nIGRlbW9cIixcblx0b3JkZXIgOiAwLFxuXHRjb25maWcgOiB7XG5cdFx0Y2FtZXJhIDoge1xuXHRcdFx0eCA6IC0zMDAsXG5cdFx0XHRuZWFyIDogMC4xLFxuXHRcdFx0ZmFyIDogMTAwMDAsXG5cdFx0XHRmb3YgOiA0MFxuXHRcdH1cblx0fSxcblx0Y29tcG9uZW50cyA6IHtcblx0XHRyZW5kZXJlciA6IHsgZnVuY3Rpb24gOiByZXF1aXJlKCcuLi9qcy9yZW5kZXJlcnMvZWZmZWN0cy1yZW5kZXJlcicpIH0sXG5cdFx0Y29udHJvbHMgOiB7IGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvY2FtZXJhcy9Db250cm9sc1wiKSB9LFxuXHRcdG1vdXNlIDogeyBmdW5jdGlvbjogcmVxdWlyZSgnLi4vanMvY29tcG9uZW50cy9oaWRzL21vdXNlLXRyYWNrZXInKVx0fSxcblx0XHQvLyBncmlkIDoge1xuXHRcdC8vIFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvZGVtb3MvR3JpZFwiKSxcblx0XHQvLyB9LFxuXHRcdHRldHJhaGVkcmEgOiB7XG5cdFx0XHRmdW5jdGlvbjogcmVxdWlyZSgnLi4vanMvZGVtb3MvdGV0cmFoZWRyYScpLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHRkaXNwZXJzaW9uOiAxNTAsXG5cdFx0XHRcdHJhZGl1czogMTAsXG5cdFx0XHRcdGNvdW50OiAxMDAsXG5cdFx0XHRcdG1vdXNlUmVmOiBcIm1vdXNlXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdGxpZ2h0cyA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvbGlnaHRzL1RyYWNrQ2FtZXJhTGlnaHRzXCIpXG5cdFx0fSxcblxuXHRcdGNsb3Vkc1RvcCA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvYW1iaWFuY2UvQ2xvdWRzXCIpLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHR3aWR0aDogMjAwMCxcblx0XHRcdFx0aGVpZ2h0OiAxMDAwLFxuXHRcdFx0XHRyb3RhdGlvbjogLU1hdGguUEkgLyAyXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGNsb3Vkc0JvdHRvbSA6IHtcblx0XHRcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvYW1iaWFuY2UvQ2xvdWRzXCIpLFxuXHRcdFx0cHJvcGVydGllczoge1xuXHRcdFx0XHR3aWR0aDogMjAwMCxcblx0XHRcdFx0aGVpZ2h0OiAtMTAwMCxcblx0XHRcdFx0cm90YXRpb246IC1NYXRoLlBJIC8gMixcblx0XHRcdFx0b2Zmc2V0XHRcdDogbmV3IFRIUkVFLlZlY3RvcjIoLTAuMywwLjgpLFxuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBtdXNpYyA6IHtcblx0XHQvLyBcdGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL3NvdW5kL011c2ljXCIpLFxuXHRcdC8vIFx0cHJvcGVydGllczoge1xuXHRcdC8vIFx0XHR1cmw6IFwiaHR0cHM6Ly9zb3VuZGNsb3VkLmNvbS9zeW5hcHR5eC9tZWNoLWF0dGFja1wiXG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfVxuXHRcdC8vIHN0YXRzIDoge1xuXHRcdC8vIFx0Y29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy91dGlscy9TdGF0c1wiKVxuXHRcdC8vIH1cblx0fVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZSA6IFwiVlIgRGVtb1wiLFxuXHRkZXNjcmlwdGlvbiA6IFwiVGhlIFNpbmUgR3Jhdml0eSB3YXZlIGFzIGEgVlIgZGVtb1wiLFxuXHRvcmRlciA6IDAsXG5cdGNvbmZpZyA6IHtcblx0XHRjYW1lcmEgOiB7XG5cdFx0XHR4IDogLTMwMCxcblx0XHRcdGZvdiA6IDcwXG5cdFx0fSxcblx0fSxcblx0Y29tcG9uZW50cyA6IHtcblx0XHRcblx0XHRyZW5kZXJlciA6ICAgICAgIHsgZnVuY3Rpb24gOiByZXF1aXJlKCcuLi9qcy9yZW5kZXJlcnMvY2FyZGJvYXJkLXJlbmRlcmVyJykgfSxcblx0XHRjb250cm9scyA6ICAgICAgIHsgY29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvY29tcG9uZW50cy9jYW1lcmFzL09yaWVudGF0aW9uXCIpIH0sXG5cdFx0Y2FtZXJhUm90YXRpb24gOiB7IGNvbnN0cnVjdDogcmVxdWlyZShcIi4uL2pzL2NvbXBvbmVudHMvY2FtZXJhcy9Sb3RhdGVBcm91bmRPcmlnaW5cIikgfSxcblx0XHRncmlkIDogICAgICAgICAgIHsgY29uc3RydWN0OiByZXF1aXJlKFwiLi4vanMvZGVtb3MvR3JpZFwiKSB9LFxuXHRcdFxuXHRcdHBvaW50Y2xvdWQgOiB7XG5cdFx0XHRjb25zdHJ1Y3Q6IHJlcXVpcmUoXCIuLi9qcy9kZW1vcy9zaW5lLWdyYXZpdHktY2xvdWQvc2luZVwiKSxcblx0XHRcdHByb3BlcnRpZXM6IHtcblx0XHRcdFx0Y291bnQ6IDUwICogMTAwMCxcblx0XHRcdFx0cG9pbnRTaXplIDogNFxuXHRcdFx0fVxuXHRcdH0sXG5cdH1cbn07IiwiLy8gY29udGFpbnMsIGFkZCwgcmVtb3ZlLCB0b2dnbGVcbnZhciBpbmRleG9mID0gcmVxdWlyZSgnaW5kZXhvZicpXG5cbm1vZHVsZS5leHBvcnRzID0gQ2xhc3NMaXN0XG5cbmZ1bmN0aW9uIENsYXNzTGlzdChlbGVtKSB7XG4gICAgdmFyIGNsID0gZWxlbS5jbGFzc0xpc3RcblxuICAgIGlmIChjbCkge1xuICAgICAgICByZXR1cm4gY2xcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NMaXN0ID0ge1xuICAgICAgICBhZGQ6IGFkZFxuICAgICAgICAsIHJlbW92ZTogcmVtb3ZlXG4gICAgICAgICwgY29udGFpbnM6IGNvbnRhaW5zXG4gICAgICAgICwgdG9nZ2xlOiB0b2dnbGVcbiAgICAgICAgLCB0b1N0cmluZzogJHRvU3RyaW5nXG4gICAgICAgICwgbGVuZ3RoOiAwXG4gICAgICAgICwgaXRlbTogaXRlbVxuICAgIH1cblxuICAgIHJldHVybiBjbGFzc0xpc3RcblxuICAgIGZ1bmN0aW9uIGFkZCh0b2tlbikge1xuICAgICAgICB2YXIgbGlzdCA9IGdldFRva2VucygpXG4gICAgICAgIGlmIChpbmRleG9mKGxpc3QsIHRva2VuKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2godG9rZW4pXG4gICAgICAgIHNldFRva2VucyhsaXN0KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZSh0b2tlbikge1xuICAgICAgICB2YXIgbGlzdCA9IGdldFRva2VucygpXG4gICAgICAgICAgICAsIGluZGV4ID0gaW5kZXhvZihsaXN0LCB0b2tlbilcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBzZXRUb2tlbnMobGlzdClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb250YWlucyh0b2tlbikge1xuICAgICAgICByZXR1cm4gaW5kZXhvZihnZXRUb2tlbnMoKSwgdG9rZW4pID4gLTFcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2dnbGUodG9rZW4pIHtcbiAgICAgICAgaWYgKGNvbnRhaW5zKHRva2VuKSkge1xuICAgICAgICAgICAgcmVtb3ZlKHRva2VuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGQodG9rZW4pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gJHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gZWxlbS5jbGFzc05hbWVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVtKGluZGV4KSB7XG4gICAgICAgIHZhciB0b2tlbnMgPSBnZXRUb2tlbnMoKVxuICAgICAgICByZXR1cm4gdG9rZW5zW2luZGV4XSB8fCBudWxsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VG9rZW5zKCkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gZWxlbS5jbGFzc05hbWVcblxuICAgICAgICByZXR1cm4gZmlsdGVyKGNsYXNzTmFtZS5zcGxpdChcIiBcIiksIGlzVHJ1dGh5KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRva2VucyhsaXN0KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aFxuXG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gbGlzdC5qb2luKFwiIFwiKVxuICAgICAgICBjbGFzc0xpc3QubGVuZ3RoID0gbGVuZ3RoXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3RbaV0gPSBsaXN0W2ldXG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgbGlzdFtsZW5ndGhdXG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaWx0ZXIgKGFyciwgZm4pIHtcbiAgICB2YXIgcmV0ID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm4oYXJyW2ldKSkgcmV0LnB1c2goYXJyW2ldKVxuICAgIH1cbiAgICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGlzVHJ1dGh5KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWVcbn1cbiIsIi8qKiBAbGljZW5zZVxuICogY3Jvc3Nyb2FkcyA8aHR0cDovL21pbGxlcm1lZGVpcm9zLmdpdGh1Yi5jb20vY3Jvc3Nyb2Fkcy5qcy8+XG4gKiBBdXRob3I6IE1pbGxlciBNZWRlaXJvcyB8IE1JVCBMaWNlbnNlXG4gKiB2MC4xMi4yICgyMDE1LzA3LzMxIDE4OjM3KVxuICovXG5cbihmdW5jdGlvbiAoKSB7XG52YXIgZmFjdG9yeSA9IGZ1bmN0aW9uIChzaWduYWxzKSB7XG5cbiAgICB2YXIgY3Jvc3Nyb2FkcyxcbiAgICAgICAgX2hhc09wdGlvbmFsR3JvdXBCdWcsXG4gICAgICAgIFVOREVGO1xuXG4gICAgLy8gSGVscGVycyAtLS0tLS0tLS0tLVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIElFIDctOCBjYXB0dXJlIG9wdGlvbmFsIGdyb3VwcyBhcyBlbXB0eSBzdHJpbmdzIHdoaWxlIG90aGVyIGJyb3dzZXJzXG4gICAgLy8gY2FwdHVyZSBhcyBgdW5kZWZpbmVkYFxuICAgIF9oYXNPcHRpb25hbEdyb3VwQnVnID0gKC90KC4rKT8vKS5leGVjKCd0JylbMV0gPT09ICcnO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlJbmRleE9mKGFyciwgdmFsKSB7XG4gICAgICAgIGlmIChhcnIuaW5kZXhPZikge1xuICAgICAgICAgICAgcmV0dXJuIGFyci5pbmRleE9mKHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL0FycmF5LmluZGV4T2YgZG9lc24ndCB3b3JrIG9uIElFIDYtN1xuICAgICAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgICAgICAgIGlmIChhcnJbbl0gPT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICAgICAgdmFyIGkgPSBhcnJheUluZGV4T2YoYXJyLCBpdGVtKTtcbiAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNLaW5kKHZhbCwga2luZCkge1xuICAgICAgICByZXR1cm4gJ1tvYmplY3QgJysga2luZCArJ10nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1JlZ0V4cCh2YWwpIHtcbiAgICAgICAgcmV0dXJuIGlzS2luZCh2YWwsICdSZWdFeHAnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICAgICAgICByZXR1cm4gaXNLaW5kKHZhbCwgJ0FycmF5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgLy9ib3Jyb3dlZCBmcm9tIEFNRC11dGlsc1xuICAgIGZ1bmN0aW9uIHR5cGVjYXN0VmFsdWUodmFsKSB7XG4gICAgICAgIHZhciByO1xuICAgICAgICBpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gJ251bGwnKSB7XG4gICAgICAgICAgICByID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmICh2YWwgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICByID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsID09PSBVTkRFRiB8fCB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByID0gVU5ERUY7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnJyB8fCBpc05hTih2YWwpKSB7XG4gICAgICAgICAgICAvL2lzTmFOKCcnKSByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgICByID0gdmFsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXJzZUZsb2F0KG51bGwgfHwgJycpIHJldHVybnMgTmFOXG4gICAgICAgICAgICByID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHR5cGVjYXN0QXJyYXlWYWx1ZXModmFsdWVzKSB7XG4gICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICByZXN1bHRbbl0gPSB0eXBlY2FzdFZhbHVlKHZhbHVlc1tuXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBib3Jyb3dlZCBmcm9tIE1PVVRcbiAgICBmdW5jdGlvbiBkZWNvZGVRdWVyeVN0cmluZyhxdWVyeVN0ciwgc2hvdWxkVHlwZWNhc3QpIHtcbiAgICAgICAgdmFyIHF1ZXJ5QXJyID0gKHF1ZXJ5U3RyIHx8ICcnKS5yZXBsYWNlKCc/JywgJycpLnNwbGl0KCcmJyksXG4gICAgICAgICAgICByZWcgPSAvKFtePV0rKT0oLispLyxcbiAgICAgICAgICAgIGkgPSAtMSxcbiAgICAgICAgICAgIG9iaiA9IHt9LFxuICAgICAgICAgICAgZXF1YWxJbmRleCwgY3VyLCBwVmFsdWUsIHBOYW1lO1xuXG4gICAgICAgIHdoaWxlICgoY3VyID0gcXVlcnlBcnJbKytpXSkpIHtcbiAgICAgICAgICAgIGVxdWFsSW5kZXggPSBjdXIuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgcE5hbWUgPSBjdXIuc3Vic3RyaW5nKDAsIGVxdWFsSW5kZXgpO1xuICAgICAgICAgICAgcFZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGN1ci5zdWJzdHJpbmcoZXF1YWxJbmRleCArIDEpKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRUeXBlY2FzdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBwVmFsdWUgPSB0eXBlY2FzdFZhbHVlKHBWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocE5hbWUgaW4gb2JqKXtcbiAgICAgICAgICAgICAgICBpZihpc0FycmF5KG9ialtwTmFtZV0pKXtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3BOYW1lXS5wdXNoKHBWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3BOYW1lXSA9IFtvYmpbcE5hbWVdLCBwVmFsdWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW3BOYW1lXSA9IHBWYWx1ZTtcbiAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG5cbiAgICAvLyBDcm9zc3JvYWRzIC0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ3Jvc3Nyb2FkcygpIHtcbiAgICAgICAgdGhpcy5ieXBhc3NlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgICAgICB0aGlzLnJvdXRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgICAgICB0aGlzLl9yb3V0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fcHJldlJvdXRlcyA9IFtdO1xuICAgICAgICB0aGlzLl9waXBlZCA9IFtdO1xuICAgICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcbiAgICB9XG5cbiAgICBDcm9zc3JvYWRzLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBncmVlZHkgOiBmYWxzZSxcblxuICAgICAgICBncmVlZHlFbmFibGVkIDogdHJ1ZSxcblxuICAgICAgICBpZ25vcmVDYXNlIDogdHJ1ZSxcblxuICAgICAgICBpZ25vcmVTdGF0ZSA6IGZhbHNlLFxuXG4gICAgICAgIHNob3VsZFR5cGVjYXN0IDogZmFsc2UsXG5cbiAgICAgICAgbm9ybWFsaXplRm4gOiBudWxsLFxuXG4gICAgICAgIHJlc2V0U3RhdGUgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5fcHJldlJvdXRlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5fcHJldk1hdGNoZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZCeXBhc3NlZFJlcXVlc3QgPSBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3Jvc3Nyb2FkcygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFJvdXRlIDogZnVuY3Rpb24gKHBhdHRlcm4sIGNhbGxiYWNrLCBwcmlvcml0eSkge1xuICAgICAgICAgICAgdmFyIHJvdXRlID0gbmV3IFJvdXRlKHBhdHRlcm4sIGNhbGxiYWNrLCBwcmlvcml0eSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9zb3J0ZWRJbnNlcnQocm91dGUpO1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZVJvdXRlIDogZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgICAgICBhcnJheVJlbW92ZSh0aGlzLl9yb3V0ZXMsIHJvdXRlKTtcbiAgICAgICAgICAgIHJvdXRlLl9kZXN0cm95KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlQWxsUm91dGVzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLmdldE51bVJvdXRlcygpO1xuICAgICAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdXRlc1tuXS5fZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91dGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2UgOiBmdW5jdGlvbiAocmVxdWVzdCwgZGVmYXVsdEFyZ3MpIHtcbiAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8ICcnO1xuICAgICAgICAgICAgZGVmYXVsdEFyZ3MgPSBkZWZhdWx0QXJncyB8fCBbXTtcblxuICAgICAgICAgICAgLy8gc2hvdWxkIG9ubHkgY2FyZSBhYm91dCBkaWZmZXJlbnQgcmVxdWVzdHMgaWYgaWdub3JlU3RhdGUgaXNuJ3QgdHJ1ZVxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pZ25vcmVTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIChyZXF1ZXN0ID09PSB0aGlzLl9wcmV2TWF0Y2hlZFJlcXVlc3QgfHxcbiAgICAgICAgICAgICAgICAgcmVxdWVzdCA9PT0gdGhpcy5fcHJldkJ5cGFzc2VkUmVxdWVzdCkgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcm91dGVzID0gdGhpcy5fZ2V0TWF0Y2hlZFJvdXRlcyhyZXF1ZXN0KSxcbiAgICAgICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgICAgICBuID0gcm91dGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjdXI7XG5cbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldk1hdGNoZWRSZXF1ZXN0ID0gcmVxdWVzdDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX25vdGlmeVByZXZSb3V0ZXMocm91dGVzLCByZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2Um91dGVzID0gcm91dGVzO1xuICAgICAgICAgICAgICAgIC8vc2hvdWxkIGJlIGluY3JlbWVudGFsIGxvb3AsIGV4ZWN1dGUgcm91dGVzIGluIG9yZGVyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IHJvdXRlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgY3VyLnJvdXRlLm1hdGNoZWQuZGlzcGF0Y2guYXBwbHkoY3VyLnJvdXRlLm1hdGNoZWQsIGRlZmF1bHRBcmdzLmNvbmNhdChjdXIucGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5pc0ZpcnN0ID0gIWk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGVkLmRpc3BhdGNoLmFwcGx5KHRoaXMucm91dGVkLCBkZWZhdWx0QXJncy5jb25jYXQoW3JlcXVlc3QsIGN1cl0pKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldkJ5cGFzc2VkUmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5ieXBhc3NlZC5kaXNwYXRjaC5hcHBseSh0aGlzLmJ5cGFzc2VkLCBkZWZhdWx0QXJncy5jb25jYXQoW3JlcXVlc3RdKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3BpcGVQYXJzZShyZXF1ZXN0LCBkZWZhdWx0QXJncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX25vdGlmeVByZXZSb3V0ZXMgOiBmdW5jdGlvbihtYXRjaGVkUm91dGVzLCByZXF1ZXN0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IDAsIHByZXY7XG4gICAgICAgICAgICB3aGlsZSAocHJldiA9IHRoaXMuX3ByZXZSb3V0ZXNbaSsrXSkge1xuICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgc3dpdGNoZWQgZXhpc3Qgc2luY2Ugcm91dGUgbWF5IGJlIGRpc3Bvc2VkXG4gICAgICAgICAgICAgICAgaWYocHJldi5yb3V0ZS5zd2l0Y2hlZCAmJiB0aGlzLl9kaWRTd2l0Y2gocHJldi5yb3V0ZSwgbWF0Y2hlZFJvdXRlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldi5yb3V0ZS5zd2l0Y2hlZC5kaXNwYXRjaChyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2RpZFN3aXRjaCA6IGZ1bmN0aW9uIChyb3V0ZSwgbWF0Y2hlZFJvdXRlcyl7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCxcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaGVkID0gbWF0Y2hlZFJvdXRlc1tpKytdKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBkaXNwYXRjaCBzd2l0Y2hlZCBpZiBpdCBpcyBnb2luZyB0byBhIGRpZmZlcmVudCByb3V0ZVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkLnJvdXRlID09PSByb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3BpcGVQYXJzZSA6IGZ1bmN0aW9uKHJlcXVlc3QsIGRlZmF1bHRBcmdzKSB7XG4gICAgICAgICAgICB2YXIgaSA9IDAsIHJvdXRlO1xuICAgICAgICAgICAgd2hpbGUgKHJvdXRlID0gdGhpcy5fcGlwZWRbaSsrXSkge1xuICAgICAgICAgICAgICAgIHJvdXRlLnBhcnNlKHJlcXVlc3QsIGRlZmF1bHRBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXROdW1Sb3V0ZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91dGVzLmxlbmd0aDtcbiAgICAgICAgfSxcblxuICAgICAgICBfc29ydGVkSW5zZXJ0IDogZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgICAgICAvL3NpbXBsaWZpZWQgaW5zZXJ0aW9uIHNvcnRcbiAgICAgICAgICAgIHZhciByb3V0ZXMgPSB0aGlzLl9yb3V0ZXMsXG4gICAgICAgICAgICAgICAgbiA9IHJvdXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBkbyB7IC0tbjsgfSB3aGlsZSAocm91dGVzW25dICYmIHJvdXRlLl9wcmlvcml0eSA8PSByb3V0ZXNbbl0uX3ByaW9yaXR5KTtcbiAgICAgICAgICAgIHJvdXRlcy5zcGxpY2UobisxLCAwLCByb3V0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldE1hdGNoZWRSb3V0ZXMgOiBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHJvdXRlcyA9IHRoaXMuX3JvdXRlcyxcbiAgICAgICAgICAgICAgICBuID0gcm91dGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICByb3V0ZTtcbiAgICAgICAgICAgIC8vc2hvdWxkIGJlIGRlY3JlbWVudCBsb29wIHNpbmNlIGhpZ2hlciBwcmlvcml0aWVzIGFyZSBhZGRlZCBhdCB0aGUgZW5kIG9mIGFycmF5XG4gICAgICAgICAgICB3aGlsZSAocm91dGUgPSByb3V0ZXNbLS1uXSkge1xuICAgICAgICAgICAgICAgIGlmICgoIXJlcy5sZW5ndGggfHwgdGhpcy5ncmVlZHkgfHwgcm91dGUuZ3JlZWR5KSAmJiByb3V0ZS5tYXRjaChyZXF1ZXN0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zIDogcm91dGUuX2dldFBhcmFtc0FycmF5KHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ3JlZWR5RW5hYmxlZCAmJiByZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGlwZSA6IGZ1bmN0aW9uIChvdGhlclJvdXRlcikge1xuICAgICAgICAgICAgdGhpcy5fcGlwZWQucHVzaChvdGhlclJvdXRlcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5waXBlIDogZnVuY3Rpb24gKG90aGVyUm91dGVyKSB7XG4gICAgICAgICAgICBhcnJheVJlbW92ZSh0aGlzLl9waXBlZCwgb3RoZXJSb3V0ZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvU3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdbY3Jvc3Nyb2FkcyBudW1Sb3V0ZXM6JysgdGhpcy5nZXROdW1Sb3V0ZXMoKSArJ10nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vXCJzdGF0aWNcIiBpbnN0YW5jZVxuICAgIGNyb3Nzcm9hZHMgPSBuZXcgQ3Jvc3Nyb2FkcygpO1xuICAgIGNyb3Nzcm9hZHMuVkVSU0lPTiA9ICcwLjEyLjInO1xuXG4gICAgY3Jvc3Nyb2Fkcy5OT1JNX0FTX0FSUkFZID0gZnVuY3Rpb24gKHJlcSwgdmFscykge1xuICAgICAgICByZXR1cm4gW3ZhbHMudmFsc19dO1xuICAgIH07XG5cbiAgICBjcm9zc3JvYWRzLk5PUk1fQVNfT0JKRUNUID0gZnVuY3Rpb24gKHJlcSwgdmFscykge1xuICAgICAgICByZXR1cm4gW3ZhbHNdO1xuICAgIH07XG5cblxuICAgIC8vIFJvdXRlIC0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdXRlKHBhdHRlcm4sIGNhbGxiYWNrLCBwcmlvcml0eSwgcm91dGVyKSB7XG4gICAgICAgIHZhciBpc1JlZ2V4UGF0dGVybiA9IGlzUmVnRXhwKHBhdHRlcm4pLFxuICAgICAgICAgICAgcGF0dGVybkxleGVyID0gcm91dGVyLnBhdHRlcm5MZXhlcjtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLl9wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgdGhpcy5fcGFyYW1zSWRzID0gaXNSZWdleFBhdHRlcm4/IG51bGwgOiBwYXR0ZXJuTGV4ZXIuZ2V0UGFyYW1JZHMocGF0dGVybik7XG4gICAgICAgIHRoaXMuX29wdGlvbmFsUGFyYW1zSWRzID0gaXNSZWdleFBhdHRlcm4/IG51bGwgOiBwYXR0ZXJuTGV4ZXIuZ2V0T3B0aW9uYWxQYXJhbXNJZHMocGF0dGVybik7XG4gICAgICAgIHRoaXMuX21hdGNoUmVnZXhwID0gaXNSZWdleFBhdHRlcm4/IHBhdHRlcm4gOiBwYXR0ZXJuTGV4ZXIuY29tcGlsZVBhdHRlcm4ocGF0dGVybiwgcm91dGVyLmlnbm9yZUNhc2UpO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICAgICAgdGhpcy5zd2l0Y2hlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hlZC5hZGQoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcbiAgICB9XG5cbiAgICBSb3V0ZS5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgZ3JlZWR5IDogZmFsc2UsXG5cbiAgICAgICAgcnVsZXMgOiB2b2lkKDApLFxuXG4gICAgICAgIG1hdGNoIDogZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8ICcnO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGNoUmVnZXhwLnRlc3QocmVxdWVzdCkgJiYgdGhpcy5fdmFsaWRhdGVQYXJhbXMocmVxdWVzdCk7IC8vdmFsaWRhdGUgcGFyYW1zIGV2ZW4gaWYgcmVnZXhwIGJlY2F1c2Ugb2YgYHJlcXVlc3RfYCBydWxlLlxuICAgICAgICB9LFxuXG4gICAgICAgIF92YWxpZGF0ZVBhcmFtcyA6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICB2YXIgcnVsZXMgPSB0aGlzLnJ1bGVzLFxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHRoaXMuX2dldFBhcmFtc09iamVjdChyZXF1ZXN0KSxcbiAgICAgICAgICAgICAgICBrZXk7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBydWxlcykge1xuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6ZV8gaXNuJ3QgYSB2YWxpZGF0aW9uIHJ1bGUuLi4gKCMzOSlcbiAgICAgICAgICAgICAgICBpZihrZXkgIT09ICdub3JtYWxpemVfJyAmJiBydWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICEgdGhpcy5faXNWYWxpZFBhcmFtKHJlcXVlc3QsIGtleSwgdmFsdWVzKSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaXNWYWxpZFBhcmFtIDogZnVuY3Rpb24gKHJlcXVlc3QsIHByb3AsIHZhbHVlcykge1xuICAgICAgICAgICAgdmFyIHZhbGlkYXRpb25SdWxlID0gdGhpcy5ydWxlc1twcm9wXSxcbiAgICAgICAgICAgICAgICB2YWwgPSB2YWx1ZXNbcHJvcF0sXG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzUXVlcnkgPSAocHJvcC5pbmRleE9mKCc/JykgPT09IDApO1xuXG4gICAgICAgICAgICBpZiAodmFsID09IG51bGwgJiYgdGhpcy5fb3B0aW9uYWxQYXJhbXNJZHMgJiYgYXJyYXlJbmRleE9mKHRoaXMuX29wdGlvbmFsUGFyYW1zSWRzLCBwcm9wKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVnRXhwKHZhbGlkYXRpb25SdWxlKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1F1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlc1twcm9wICsnXyddOyAvL3VzZSByYXcgc3RyaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB2YWxpZGF0aW9uUnVsZS50ZXN0KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KHZhbGlkYXRpb25SdWxlKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1F1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlc1twcm9wICsnXyddOyAvL3VzZSByYXcgc3RyaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB0aGlzLl9pc1ZhbGlkQXJyYXlSdWxlKHZhbGlkYXRpb25SdWxlLCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbih2YWxpZGF0aW9uUnVsZSkpIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdmFsaWRhdGlvblJ1bGUodmFsLCByZXF1ZXN0LCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDsgLy9mYWlsIHNpbGVudGx5IGlmIHZhbGlkYXRpb25SdWxlIGlzIGZyb20gYW4gdW5zdXBwb3J0ZWQgdHlwZVxuICAgICAgICB9LFxuXG4gICAgICAgIF9pc1ZhbGlkQXJyYXlSdWxlIDogZnVuY3Rpb24gKGFyciwgdmFsKSB7XG4gICAgICAgICAgICBpZiAoISB0aGlzLl9yb3V0ZXIuaWdub3JlQ2FzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheUluZGV4T2YoYXJyLCB2YWwpICE9PSAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuID0gYXJyLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgIGNvbXBhcmVWYWw7XG5cbiAgICAgICAgICAgIHdoaWxlIChuLS0pIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gYXJyW25dO1xuICAgICAgICAgICAgICAgIGNvbXBhcmVWYWwgPSAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKT8gaXRlbS50b0xvd2VyQ2FzZSgpIDogaXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZVZhbCA9PT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0UGFyYW1zT2JqZWN0IDogZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIHZhciBzaG91bGRUeXBlY2FzdCA9IHRoaXMuX3JvdXRlci5zaG91bGRUeXBlY2FzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSB0aGlzLl9yb3V0ZXIucGF0dGVybkxleGVyLmdldFBhcmFtVmFsdWVzKHJlcXVlc3QsIHRoaXMuX21hdGNoUmVnZXhwLCBzaG91bGRUeXBlY2FzdCksXG4gICAgICAgICAgICAgICAgbyA9IHt9LFxuICAgICAgICAgICAgICAgIG4gPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHBhcmFtLCB2YWw7XG4gICAgICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsdWVzW25dO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJhbXNJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSB0aGlzLl9wYXJhbXNJZHNbbl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbS5pbmRleE9mKCc/JykgPT09IDAgJiYgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2UgYSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBzdHJpbmcgc28gYXJyYXkgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1JlZ0V4cCB2YWxpZGF0aW9uIGNhbiBiZSBhcHBsaWVkIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgICAgICBvW3BhcmFtICsnXyddID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdmFsc18gYXJyYXkgYXMgd2VsbCBzaW5jZSBpdCB3aWxsIGJlIHVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZHVyaW5nIGRpc3BhdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBkZWNvZGVRdWVyeVN0cmluZyh2YWwsIHNob3VsZFR5cGVjYXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuXSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJRSB3aWxsIGNhcHR1cmUgb3B0aW9uYWwgZ3JvdXBzIGFzIGVtcHR5IHN0cmluZ3Mgd2hpbGUgb3RoZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJvd3NlcnMgd2lsbCBjYXB0dXJlIGB1bmRlZmluZWRgIHNvIG5vcm1hbGl6ZSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICAgICAgLy8gc2VlOiAjZ2gtNTgsICNnaC01OSwgI2doLTYwXG4gICAgICAgICAgICAgICAgICAgIGlmICggX2hhc09wdGlvbmFsR3JvdXBCdWcgJiYgdmFsID09PSAnJyAmJiBhcnJheUluZGV4T2YodGhpcy5fb3B0aW9uYWxQYXJhbXNJZHMsIHBhcmFtKSAhPT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2b2lkKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25dID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9bcGFyYW1dID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL2FsaWFzIHRvIHBhdGhzIGFuZCBmb3IgUmVnRXhwIHBhdHRlcm5cbiAgICAgICAgICAgICAgICBvW25dID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgby5yZXF1ZXN0XyA9IHNob3VsZFR5cGVjYXN0PyB0eXBlY2FzdFZhbHVlKHJlcXVlc3QpIDogcmVxdWVzdDtcbiAgICAgICAgICAgIG8udmFsc18gPSB2YWx1ZXM7XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0UGFyYW1zQXJyYXkgOiBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAgICAgdmFyIG5vcm0gPSB0aGlzLnJ1bGVzPyB0aGlzLnJ1bGVzLm5vcm1hbGl6ZV8gOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhcmFtcztcbiAgICAgICAgICAgIG5vcm0gPSBub3JtIHx8IHRoaXMuX3JvdXRlci5ub3JtYWxpemVGbjsgLy8gZGVmYXVsdCBub3JtYWxpemVcbiAgICAgICAgICAgIGlmIChub3JtICYmIGlzRnVuY3Rpb24obm9ybSkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBub3JtKHJlcXVlc3QsIHRoaXMuX2dldFBhcmFtc09iamVjdChyZXF1ZXN0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMuX2dldFBhcmFtc09iamVjdChyZXF1ZXN0KS52YWxzXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW50ZXJwb2xhdGUgOiBmdW5jdGlvbihyZXBsYWNlbWVudHMpIHtcbiAgICAgICAgICAgIHZhciBzdHIgPSB0aGlzLl9yb3V0ZXIucGF0dGVybkxleGVyLmludGVycG9sYXRlKHRoaXMuX3BhdHRlcm4sIHJlcGxhY2VtZW50cyk7XG4gICAgICAgICAgICBpZiAoISB0aGlzLl92YWxpZGF0ZVBhcmFtcyhzdHIpICkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2VuZXJhdGVkIHN0cmluZyBkb2VzblxcJ3QgdmFsaWRhdGUgYWdhaW5zdCBgUm91dGUucnVsZXNgLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfSxcblxuICAgICAgICBkaXNwb3NlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fcm91dGVyLnJlbW92ZVJvdXRlKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9kZXN0cm95IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVkLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoZWQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVkID0gdGhpcy5zd2l0Y2hlZCA9IHRoaXMuX3BhdHRlcm4gPSB0aGlzLl9tYXRjaFJlZ2V4cCA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9TdHJpbmcgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tSb3V0ZSBwYXR0ZXJuOlwiJysgdGhpcy5fcGF0dGVybiArJ1wiLCBudW1MaXN0ZW5lcnM6JysgdGhpcy5tYXRjaGVkLmdldE51bUxpc3RlbmVycygpICsnXSc7XG4gICAgICAgIH1cblxuICAgIH07XG5cblxuXG4gICAgLy8gUGF0dGVybiBMZXhlciAtLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgQ3Jvc3Nyb2Fkcy5wcm90b3R5cGUucGF0dGVybkxleGVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXJcbiAgICAgICAgICAgIC8vbWF0Y2ggY2hhcnMgdGhhdCBzaG91bGQgYmUgZXNjYXBlZCBvbiBzdHJpbmcgcmVnZXhwXG4gICAgICAgICAgICBFU0NBUEVfQ0hBUlNfUkVHRVhQID0gL1tcXFxcLisqP1xcXiRcXFtcXF0oKXt9XFwvJyNdL2csXG5cbiAgICAgICAgICAgIC8vdHJhaWxpbmcgc2xhc2hlcyAoYmVnaW4vZW5kIG9mIHN0cmluZylcbiAgICAgICAgICAgIExPT1NFX1NMQVNIRVNfUkVHRVhQID0gL15cXC98XFwvJC9nLFxuICAgICAgICAgICAgTEVHQUNZX1NMQVNIRVNfUkVHRVhQID0gL1xcLyQvZyxcblxuICAgICAgICAgICAgLy9wYXJhbXMgLSBldmVyeXRoaW5nIGJldHdlZW4gYHsgfWAgb3IgYDogOmBcbiAgICAgICAgICAgIFBBUkFNU19SRUdFWFAgPSAvKD86XFx7fDopKFtefTpdKykoPzpcXH18OikvZyxcblxuICAgICAgICAgICAgLy91c2VkIHRvIHNhdmUgcGFyYW1zIGR1cmluZyBjb21waWxlIChhdm9pZCBlc2NhcGluZyB0aGluZ3MgdGhhdFxuICAgICAgICAgICAgLy9zaG91bGRuJ3QgYmUgZXNjYXBlZCkuXG4gICAgICAgICAgICBUT0tFTlMgPSB7XG4gICAgICAgICAgICAgICAgJ09TJyA6IHtcbiAgICAgICAgICAgICAgICAgICAgLy9vcHRpb25hbCBzbGFzaGVzXG4gICAgICAgICAgICAgICAgICAgIC8vc2xhc2ggYmV0d2VlbiBgOjpgIG9yIGB9OmAgb3IgYFxcdzpgIG9yIGA6ez9gIG9yIGB9ez9gIG9yIGBcXHd7P2BcbiAgICAgICAgICAgICAgICAgICAgcmd4IDogLyhbOn1dfFxcdyg/PVxcLykpXFwvPyg6fCg/Olxce1xcPykpL2csXG4gICAgICAgICAgICAgICAgICAgIHNhdmUgOiAnJDF7e2lkfX0kMicsXG4gICAgICAgICAgICAgICAgICAgIHJlcyA6ICdcXFxcLz8nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnUlMnIDoge1xuICAgICAgICAgICAgICAgICAgICAvL3JlcXVpcmVkIHNsYXNoZXNcbiAgICAgICAgICAgICAgICAgICAgLy91c2VkIHRvIGluc2VydCBzbGFzaCBiZXR3ZWVuIGA6e2AgYW5kIGB9e2BcbiAgICAgICAgICAgICAgICAgICAgcmd4IDogLyhbOn1dKVxcLz8oXFx7KS9nLFxuICAgICAgICAgICAgICAgICAgICBzYXZlIDogJyQxe3tpZH19JDInLFxuICAgICAgICAgICAgICAgICAgICByZXMgOiAnXFxcXC8nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnUlEnIDoge1xuICAgICAgICAgICAgICAgICAgICAvL3JlcXVpcmVkIHF1ZXJ5IHN0cmluZyAtIGV2ZXJ5dGhpbmcgaW4gYmV0d2VlbiBgez8gfWBcbiAgICAgICAgICAgICAgICAgICAgcmd4IDogL1xce1xcPyhbXn1dKylcXH0vZyxcbiAgICAgICAgICAgICAgICAgICAgLy9ldmVyeXRoaW5nIGZyb20gYD9gIHRpbGwgYCNgIG9yIGVuZCBvZiBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgcmVzIDogJ1xcXFw/KFteI10rKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdPUScgOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vb3B0aW9uYWwgcXVlcnkgc3RyaW5nIC0gZXZlcnl0aGluZyBpbiBiZXR3ZWVuIGA6PyA6YFxuICAgICAgICAgICAgICAgICAgICByZ3ggOiAvOlxcPyhbXjpdKyk6L2csXG4gICAgICAgICAgICAgICAgICAgIC8vZXZlcnl0aGluZyBmcm9tIGA/YCB0aWxsIGAjYCBvciBlbmQgb2Ygc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIHJlcyA6ICcoPzpcXFxcPyhbXiNdKikpPydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdPUicgOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vb3B0aW9uYWwgcmVzdCAtIGV2ZXJ5dGhpbmcgaW4gYmV0d2VlbiBgOiAqOmBcbiAgICAgICAgICAgICAgICAgICAgcmd4IDogLzooW146XSspXFwqOi9nLFxuICAgICAgICAgICAgICAgICAgICByZXMgOiAnKC4qKT8nIC8vIG9wdGlvbmFsIGdyb3VwIHRvIGF2b2lkIHBhc3NpbmcgZW1wdHkgc3RyaW5nIGFzIGNhcHR1cmVkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnUlInIDoge1xuICAgICAgICAgICAgICAgICAgICAvL3Jlc3QgcGFyYW0gLSBldmVyeXRoaW5nIGluIGJldHdlZW4gYHsgKn1gXG4gICAgICAgICAgICAgICAgICAgIHJneCA6IC9cXHsoW159XSspXFwqXFx9L2csXG4gICAgICAgICAgICAgICAgICAgIHJlcyA6ICcoLispJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQvb3B0aW9uYWwgcGFyYW1zIHNob3VsZCBjb21lIGFmdGVyIHJlc3Qgc2VnbWVudHNcbiAgICAgICAgICAgICAgICAnUlAnIDoge1xuICAgICAgICAgICAgICAgICAgICAvL3JlcXVpcmVkIHBhcmFtcyAtIGV2ZXJ5dGhpbmcgYmV0d2VlbiBgeyB9YFxuICAgICAgICAgICAgICAgICAgICByZ3ggOiAvXFx7KFtefV0rKVxcfS9nLFxuICAgICAgICAgICAgICAgICAgICByZXMgOiAnKFteXFxcXC8/XSspJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ09QJyA6IHtcbiAgICAgICAgICAgICAgICAgICAgLy9vcHRpb25hbCBwYXJhbXMgLSBldmVyeXRoaW5nIGJldHdlZW4gYDogOmBcbiAgICAgICAgICAgICAgICAgICAgcmd4IDogLzooW146XSspOi9nLFxuICAgICAgICAgICAgICAgICAgICByZXMgOiAnKFteXFxcXC8/XSspP1xcLz8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgTE9PU0VfU0xBU0ggPSAxLFxuICAgICAgICAgICAgU1RSSUNUX1NMQVNIID0gMixcbiAgICAgICAgICAgIExFR0FDWV9TTEFTSCA9IDMsXG5cbiAgICAgICAgICAgIF9zbGFzaE1vZGUgPSBMT09TRV9TTEFTSDtcblxuXG4gICAgICAgIGZ1bmN0aW9uIHByZWNvbXBpbGVUb2tlbnMoKXtcbiAgICAgICAgICAgIHZhciBrZXksIGN1cjtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIFRPS0VOUykge1xuICAgICAgICAgICAgICAgIGlmIChUT0tFTlMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjdXIgPSBUT0tFTlNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY3VyLmlkID0gJ19fQ1JfJysga2V5ICsnX18nO1xuICAgICAgICAgICAgICAgICAgICBjdXIuc2F2ZSA9ICgnc2F2ZScgaW4gY3VyKT8gY3VyLnNhdmUucmVwbGFjZSgne3tpZH19JywgY3VyLmlkKSA6IGN1ci5pZDtcbiAgICAgICAgICAgICAgICAgICAgY3VyLnJSZXN0b3JlID0gbmV3IFJlZ0V4cChjdXIuaWQsICdnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZWNvbXBpbGVUb2tlbnMoKTtcblxuXG4gICAgICAgIGZ1bmN0aW9uIGNhcHR1cmVWYWxzKHJlZ2V4LCBwYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgdmFscyA9IFtdLCBtYXRjaDtcbiAgICAgICAgICAgIC8vIHZlcnkgaW1wb3J0YW50IHRvIHJlc2V0IGxhc3RJbmRleCBzaW5jZSBSZWdFeHAgY2FuIGhhdmUgXCJnXCIgZmxhZ1xuICAgICAgICAgICAgLy8gYW5kIG11bHRpcGxlIHJ1bnMgbWlnaHQgYWZmZWN0IHRoZSByZXN1bHQsIHNwZWNpYWxseSBpZiBtYXRjaGluZ1xuICAgICAgICAgICAgLy8gc2FtZSBzdHJpbmcgbXVsdGlwbGUgdGltZXMgb24gSUUgNy04XG4gICAgICAgICAgICByZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyhwYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIHZhbHMucHVzaChtYXRjaFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFscztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFBhcmFtSWRzKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIHJldHVybiBjYXB0dXJlVmFscyhQQVJBTVNfUkVHRVhQLCBwYXR0ZXJuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE9wdGlvbmFsUGFyYW1zSWRzKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIHJldHVybiBjYXB0dXJlVmFscyhUT0tFTlMuT1Aucmd4LCBwYXR0ZXJuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4sIGlnbm9yZUNhc2UpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuIHx8ICcnO1xuXG4gICAgICAgICAgICBpZihwYXR0ZXJuKXtcbiAgICAgICAgICAgICAgICBpZiAoX3NsYXNoTW9kZSA9PT0gTE9PU0VfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShMT09TRV9TTEFTSEVTX1JFR0VYUCwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfc2xhc2hNb2RlID09PSBMRUdBQ1lfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShMRUdBQ1lfU0xBU0hFU19SRUdFWFAsICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL3NhdmUgdG9rZW5zXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IHJlcGxhY2VUb2tlbnMocGF0dGVybiwgJ3JneCcsICdzYXZlJyk7XG4gICAgICAgICAgICAgICAgLy9yZWdleHAgZXNjYXBlXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShFU0NBUEVfQ0hBUlNfUkVHRVhQLCAnXFxcXCQmJyk7XG4gICAgICAgICAgICAgICAgLy9yZXN0b3JlIHRva2Vuc1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSByZXBsYWNlVG9rZW5zKHBhdHRlcm4sICdyUmVzdG9yZScsICdyZXMnKTtcblxuICAgICAgICAgICAgICAgIGlmIChfc2xhc2hNb2RlID09PSBMT09TRV9TTEFTSCkge1xuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gJ1xcXFwvPycrIHBhdHRlcm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3NsYXNoTW9kZSAhPT0gU1RSSUNUX1NMQVNIKSB7XG4gICAgICAgICAgICAgICAgLy9zaW5nbGUgc2xhc2ggaXMgdHJlYXRlZCBhcyBlbXB0eSBhbmQgZW5kIHNsYXNoIGlzIG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSAnXFxcXC8/JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJysgcGF0dGVybiArICckJywgaWdub3JlQ2FzZT8gJ2knIDogJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZVRva2VucyhwYXR0ZXJuLCByZWdleHBOYW1lLCByZXBsYWNlTmFtZSkge1xuICAgICAgICAgICAgdmFyIGN1ciwga2V5O1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gVE9LRU5TKSB7XG4gICAgICAgICAgICAgICAgaWYgKFRPS0VOUy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IFRPS0VOU1trZXldO1xuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKGN1cltyZWdleHBOYW1lXSwgY3VyW3JlcGxhY2VOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm47XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRQYXJhbVZhbHVlcyhyZXF1ZXN0LCByZWdleHAsIHNob3VsZFR5cGVjYXN0KSB7XG4gICAgICAgICAgICB2YXIgdmFscyA9IHJlZ2V4cC5leGVjKHJlcXVlc3QpO1xuICAgICAgICAgICAgaWYgKHZhbHMpIHtcbiAgICAgICAgICAgICAgICB2YWxzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFR5cGVjYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHMgPSB0eXBlY2FzdEFycmF5VmFsdWVzKHZhbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW50ZXJwb2xhdGUocGF0dGVybiwgcmVwbGFjZW1lbnRzKSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGFuIGVtcHR5IG9iamVjdCBiZWNhdXNlIHBhdHRlcm4gbWlnaHQgaGF2ZSBqdXN0XG4gICAgICAgICAgICAvLyBvcHRpb25hbCBhcmd1bWVudHNcbiAgICAgICAgICAgIHJlcGxhY2VtZW50cyA9IHJlcGxhY2VtZW50cyB8fCB7fTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0dGVybiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdXRlIHBhdHRlcm4gc2hvdWxkIGJlIGEgc3RyaW5nLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVwbGFjZUZuID0gZnVuY3Rpb24obWF0Y2gsIHByb3Ape1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsO1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gKHByb3Auc3Vic3RyKDAsIDEpID09PSAnPycpPyBwcm9wLnN1YnN0cigxKSA6IHByb3A7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudHNbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlbWVudHNbcHJvcF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5UGFydHMgPSBbXSwgcmVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIHJlcGxhY2VtZW50c1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAgPSByZXBsYWNlbWVudHNbcHJvcF1ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkocmVwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiByZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGtleS5zbGljZSgtMikgPT0gJ1tdJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJ0cy5wdXNoKGVuY29kZVVSSShrZXkuc2xpY2UoMCwgLTIpKSArICdbXT0nICsgZW5jb2RlVVJJKHJlcFtrXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFydHMucHVzaChlbmNvZGVVUkkoa2V5ICsgJz0nICsgcmVwW2tdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJ0cy5wdXNoKGVuY29kZVVSSShrZXkgKyAnPScgKyByZXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAnPycgKyBxdWVyeVBhcnRzLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHZhbHVlIGlzIGEgc3RyaW5nIHNlZSAjZ2gtNTRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBTdHJpbmcocmVwbGFjZW1lbnRzW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLmluZGV4T2YoJyonKSA9PT0gLTEgJiYgdmFsLmluZGV4T2YoJy8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgXCInKyB2YWwgKydcIiBmb3Igc2VnbWVudCBcIicrIG1hdGNoICsnXCIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2guaW5kZXhPZigneycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2VnbWVudCAnKyBtYXRjaCArJyBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCEgVE9LRU5TLk9TLnRyYWlsKSB7XG4gICAgICAgICAgICAgICAgVE9LRU5TLk9TLnRyYWlsID0gbmV3IFJlZ0V4cCgnKD86JysgVE9LRU5TLk9TLmlkICsnKSskJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwYXR0ZXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShUT0tFTlMuT1Mucmd4LCBUT0tFTlMuT1Muc2F2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFBBUkFNU19SRUdFWFAsIHJlcGxhY2VGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFRPS0VOUy5PUy50cmFpbCwgJycpIC8vIHJlbW92ZSB0cmFpbGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoVE9LRU5TLk9TLnJSZXN0b3JlLCAnLycpOyAvLyBhZGQgc2xhc2ggYmV0d2VlbiBzZWdtZW50c1xuICAgICAgICB9XG5cbiAgICAgICAgLy9BUElcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0cmljdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3NsYXNoTW9kZSA9IFNUUklDVF9TTEFTSDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb29zZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3NsYXNoTW9kZSA9IExPT1NFX1NMQVNIO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlZ2FjeSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3NsYXNoTW9kZSA9IExFR0FDWV9TTEFTSDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQYXJhbUlkcyA6IGdldFBhcmFtSWRzLFxuICAgICAgICAgICAgZ2V0T3B0aW9uYWxQYXJhbXNJZHMgOiBnZXRPcHRpb25hbFBhcmFtc0lkcyxcbiAgICAgICAgICAgIGdldFBhcmFtVmFsdWVzIDogZ2V0UGFyYW1WYWx1ZXMsXG4gICAgICAgICAgICBjb21waWxlUGF0dGVybiA6IGNvbXBpbGVQYXR0ZXJuLFxuICAgICAgICAgICAgaW50ZXJwb2xhdGUgOiBpbnRlcnBvbGF0ZVxuICAgICAgICB9O1xuXG4gICAgfSgpKTtcblxuXG4gICAgcmV0dXJuIGNyb3Nzcm9hZHM7XG59O1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnc2lnbmFscyddLCBmYWN0b3J5KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsgLy9Ob2RlXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ3NpZ25hbHMnKSk7XG59IGVsc2Uge1xuICAgIC8qanNoaW50IHN1Yjp0cnVlICovXG4gICAgd2luZG93Wydjcm9zc3JvYWRzJ10gPSBmYWN0b3J5KHdpbmRvd1snc2lnbmFscyddKTtcbn1cblxufSgpKTtcblxuIiwiXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCBlcHNpbG9uKXtcblxuXHR2YXIgY3VydmVYID0gZnVuY3Rpb24odCl7XG5cdFx0dmFyIHYgPSAxIC0gdDtcblx0XHRyZXR1cm4gMyAqIHYgKiB2ICogdCAqIHgxICsgMyAqIHYgKiB0ICogdCAqIHgyICsgdCAqIHQgKiB0O1xuXHR9O1xuXG5cdHZhciBjdXJ2ZVkgPSBmdW5jdGlvbih0KXtcblx0XHR2YXIgdiA9IDEgLSB0O1xuXHRcdHJldHVybiAzICogdiAqIHYgKiB0ICogeTEgKyAzICogdiAqIHQgKiB0ICogeTIgKyB0ICogdCAqIHQ7XG5cdH07XG5cblx0dmFyIGRlcml2YXRpdmVDdXJ2ZVggPSBmdW5jdGlvbih0KXtcblx0XHR2YXIgdiA9IDEgLSB0O1xuXHRcdHJldHVybiAzICogKDIgKiAodCAtIDEpICogdCArIHYgKiB2KSAqIHgxICsgMyAqICgtIHQgKiB0ICogdCArIDIgKiB2ICogdCkgKiB4Mjtcblx0fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odCl7XG5cblx0XHR2YXIgeCA9IHQsIHQwLCB0MSwgdDIsIHgyLCBkMiwgaTtcblxuXHRcdC8vIEZpcnN0IHRyeSBhIGZldyBpdGVyYXRpb25zIG9mIE5ld3RvbidzIG1ldGhvZCAtLSBub3JtYWxseSB2ZXJ5IGZhc3QuXG5cdFx0Zm9yICh0MiA9IHgsIGkgPSAwOyBpIDwgODsgaSsrKXtcblx0XHRcdHgyID0gY3VydmVYKHQyKSAtIHg7XG5cdFx0XHRpZiAoTWF0aC5hYnMoeDIpIDwgZXBzaWxvbikgcmV0dXJuIGN1cnZlWSh0Mik7XG5cdFx0XHRkMiA9IGRlcml2YXRpdmVDdXJ2ZVgodDIpO1xuXHRcdFx0aWYgKE1hdGguYWJzKGQyKSA8IDFlLTYpIGJyZWFrO1xuXHRcdFx0dDIgPSB0MiAtIHgyIC8gZDI7XG5cdFx0fVxuXG5cdFx0dDAgPSAwLCB0MSA9IDEsIHQyID0geDtcblxuXHRcdGlmICh0MiA8IHQwKSByZXR1cm4gY3VydmVZKHQwKTtcblx0XHRpZiAodDIgPiB0MSkgcmV0dXJuIGN1cnZlWSh0MSk7XG5cblx0XHQvLyBGYWxsYmFjayB0byB0aGUgYmlzZWN0aW9uIG1ldGhvZCBmb3IgcmVsaWFiaWxpdHkuXG5cdFx0d2hpbGUgKHQwIDwgdDEpe1xuXHRcdFx0eDIgPSBjdXJ2ZVgodDIpO1xuXHRcdFx0aWYgKE1hdGguYWJzKHgyIC0geCkgPCBlcHNpbG9uKSByZXR1cm4gY3VydmVZKHQyKTtcblx0XHRcdGlmICh4ID4geDIpIHQwID0gdDI7XG5cdFx0XHRlbHNlIHQxID0gdDI7XG5cdFx0XHR0MiA9ICh0MSAtIHQwKSAqIC41ICsgdDA7XG5cdFx0fVxuXG5cdFx0Ly8gRmFpbHVyZVxuXHRcdHJldHVybiBjdXJ2ZVkodDIpO1xuXG5cdH07XG5cbn07XG4iLCJmdW5jdGlvbiBiYWNrSW5PdXQodCkge1xuICB2YXIgcyA9IDEuNzAxNTggKiAxLjUyNVxuICBpZiAoKHQgKj0gMikgPCAxKVxuICAgIHJldHVybiAwLjUgKiAodCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSlcbiAgcmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDIpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFja0luT3V0IiwiZnVuY3Rpb24gYmFja0luKHQpIHtcbiAgdmFyIHMgPSAxLjcwMTU4XG4gIHJldHVybiB0ICogdCAqICgocyArIDEpICogdCAtIHMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFja0luIiwiZnVuY3Rpb24gYmFja091dCh0KSB7XG4gIHZhciBzID0gMS43MDE1OFxuICByZXR1cm4gLS10ICogdCAqICgocyArIDEpICogdCArIHMpICsgMVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhY2tPdXQiLCJ2YXIgYm91bmNlT3V0ID0gcmVxdWlyZSgnLi9ib3VuY2Utb3V0JylcblxuZnVuY3Rpb24gYm91bmNlSW5PdXQodCkge1xuICByZXR1cm4gdCA8IDAuNVxuICAgID8gMC41ICogKDEuMCAtIGJvdW5jZU91dCgxLjAgLSB0ICogMi4wKSlcbiAgICA6IDAuNSAqIGJvdW5jZU91dCh0ICogMi4wIC0gMS4wKSArIDAuNVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJvdW5jZUluT3V0IiwidmFyIGJvdW5jZU91dCA9IHJlcXVpcmUoJy4vYm91bmNlLW91dCcpXG5cbmZ1bmN0aW9uIGJvdW5jZUluKHQpIHtcbiAgcmV0dXJuIDEuMCAtIGJvdW5jZU91dCgxLjAgLSB0KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJvdW5jZUluIiwiZnVuY3Rpb24gYm91bmNlT3V0KHQpIHtcbiAgdmFyIGEgPSA0LjAgLyAxMS4wXG4gIHZhciBiID0gOC4wIC8gMTEuMFxuICB2YXIgYyA9IDkuMCAvIDEwLjBcblxuICB2YXIgY2EgPSA0MzU2LjAgLyAzNjEuMFxuICB2YXIgY2IgPSAzNTQ0Mi4wIC8gMTgwNS4wXG4gIHZhciBjYyA9IDE2MDYxLjAgLyAxODA1LjBcblxuICB2YXIgdDIgPSB0ICogdFxuXG4gIHJldHVybiB0IDwgYVxuICAgID8gNy41NjI1ICogdDJcbiAgICA6IHQgPCBiXG4gICAgICA/IDkuMDc1ICogdDIgLSA5LjkgKiB0ICsgMy40XG4gICAgICA6IHQgPCBjXG4gICAgICAgID8gY2EgKiB0MiAtIGNiICogdCArIGNjXG4gICAgICAgIDogMTAuOCAqIHQgKiB0IC0gMjAuNTIgKiB0ICsgMTAuNzJcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBib3VuY2VPdXQiLCJmdW5jdGlvbiBjaXJjSW5PdXQodCkge1xuICBpZiAoKHQgKj0gMikgPCAxKSByZXR1cm4gLTAuNSAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpXG4gIHJldHVybiAwLjUgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaXJjSW5PdXQiLCJmdW5jdGlvbiBjaXJjSW4odCkge1xuICByZXR1cm4gMS4wIC0gTWF0aC5zcXJ0KDEuMCAtIHQgKiB0KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNpcmNJbiIsImZ1bmN0aW9uIGNpcmNPdXQodCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KDEgLSAoIC0tdCAqIHQgKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaXJjT3V0IiwiZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7XG4gIHJldHVybiB0IDwgMC41XG4gICAgPyA0LjAgKiB0ICogdCAqIHRcbiAgICA6IDAuNSAqIE1hdGgucG93KDIuMCAqIHQgLSAyLjAsIDMuMCkgKyAxLjBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjdWJpY0luT3V0IiwiZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjdWJpY0luIiwiZnVuY3Rpb24gY3ViaWNPdXQodCkge1xuICB2YXIgZiA9IHQgLSAxLjBcbiAgcmV0dXJuIGYgKiBmICogZiArIDEuMFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGN1YmljT3V0IiwiZnVuY3Rpb24gZWxhc3RpY0luT3V0KHQpIHtcbiAgcmV0dXJuIHQgPCAwLjVcbiAgICA/IDAuNSAqIE1hdGguc2luKCsxMy4wICogTWF0aC5QSS8yICogMi4wICogdCkgKiBNYXRoLnBvdygyLjAsIDEwLjAgKiAoMi4wICogdCAtIDEuMCkpXG4gICAgOiAwLjUgKiBNYXRoLnNpbigtMTMuMCAqIE1hdGguUEkvMiAqICgoMi4wICogdCAtIDEuMCkgKyAxLjApKSAqIE1hdGgucG93KDIuMCwgLTEwLjAgKiAoMi4wICogdCAtIDEuMCkpICsgMS4wXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZWxhc3RpY0luT3V0IiwiZnVuY3Rpb24gZWxhc3RpY0luKHQpIHtcbiAgcmV0dXJuIE1hdGguc2luKDEzLjAgKiB0ICogTWF0aC5QSS8yKSAqIE1hdGgucG93KDIuMCwgMTAuMCAqICh0IC0gMS4wKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbGFzdGljSW4iLCJmdW5jdGlvbiBlbGFzdGljT3V0KHQpIHtcbiAgcmV0dXJuIE1hdGguc2luKC0xMy4wICogKHQgKyAxLjApICogTWF0aC5QSS8yKSAqIE1hdGgucG93KDIuMCwgLTEwLjAgKiB0KSArIDEuMFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVsYXN0aWNPdXQiLCJmdW5jdGlvbiBleHBvSW5PdXQodCkge1xuICByZXR1cm4gKHQgPT09IDAuMCB8fCB0ID09PSAxLjApXG4gICAgPyB0XG4gICAgOiB0IDwgMC41XG4gICAgICA/ICswLjUgKiBNYXRoLnBvdygyLjAsICgyMC4wICogdCkgLSAxMC4wKVxuICAgICAgOiAtMC41ICogTWF0aC5wb3coMi4wLCAxMC4wIC0gKHQgKiAyMC4wKSkgKyAxLjBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvSW5PdXQiLCJmdW5jdGlvbiBleHBvSW4odCkge1xuICByZXR1cm4gdCA9PT0gMC4wID8gdCA6IE1hdGgucG93KDIuMCwgMTAuMCAqICh0IC0gMS4wKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvSW4iLCJmdW5jdGlvbiBleHBvT3V0KHQpIHtcbiAgcmV0dXJuIHQgPT09IDEuMCA/IHQgOiAxLjAgLSBNYXRoLnBvdygyLjAsIC0xMC4wICogdClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvT3V0IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdCdiYWNrSW5PdXQnOiByZXF1aXJlKCcuL2JhY2staW4tb3V0JyksXG5cdCdiYWNrSW4nOiByZXF1aXJlKCcuL2JhY2staW4nKSxcblx0J2JhY2tPdXQnOiByZXF1aXJlKCcuL2JhY2stb3V0JyksXG5cdCdib3VuY2VJbk91dCc6IHJlcXVpcmUoJy4vYm91bmNlLWluLW91dCcpLFxuXHQnYm91bmNlSW4nOiByZXF1aXJlKCcuL2JvdW5jZS1pbicpLFxuXHQnYm91bmNlT3V0JzogcmVxdWlyZSgnLi9ib3VuY2Utb3V0JyksXG5cdCdjaXJjSW5PdXQnOiByZXF1aXJlKCcuL2NpcmMtaW4tb3V0JyksXG5cdCdjaXJjSW4nOiByZXF1aXJlKCcuL2NpcmMtaW4nKSxcblx0J2NpcmNPdXQnOiByZXF1aXJlKCcuL2NpcmMtb3V0JyksXG5cdCdjdWJpY0luT3V0JzogcmVxdWlyZSgnLi9jdWJpYy1pbi1vdXQnKSxcblx0J2N1YmljSW4nOiByZXF1aXJlKCcuL2N1YmljLWluJyksXG5cdCdjdWJpY091dCc6IHJlcXVpcmUoJy4vY3ViaWMtb3V0JyksXG5cdCdlbGFzdGljSW5PdXQnOiByZXF1aXJlKCcuL2VsYXN0aWMtaW4tb3V0JyksXG5cdCdlbGFzdGljSW4nOiByZXF1aXJlKCcuL2VsYXN0aWMtaW4nKSxcblx0J2VsYXN0aWNPdXQnOiByZXF1aXJlKCcuL2VsYXN0aWMtb3V0JyksXG5cdCdleHBvSW5PdXQnOiByZXF1aXJlKCcuL2V4cG8taW4tb3V0JyksXG5cdCdleHBvSW4nOiByZXF1aXJlKCcuL2V4cG8taW4nKSxcblx0J2V4cG9PdXQnOiByZXF1aXJlKCcuL2V4cG8tb3V0JyksXG5cdCdsaW5lYXInOiByZXF1aXJlKCcuL2xpbmVhcicpLFxuXHQncXVhZEluT3V0JzogcmVxdWlyZSgnLi9xdWFkLWluLW91dCcpLFxuXHQncXVhZEluJzogcmVxdWlyZSgnLi9xdWFkLWluJyksXG5cdCdxdWFkT3V0JzogcmVxdWlyZSgnLi9xdWFkLW91dCcpLFxuXHQncXVhcnRJbk91dCc6IHJlcXVpcmUoJy4vcXVhcnQtaW4tb3V0JyksXG5cdCdxdWFydEluJzogcmVxdWlyZSgnLi9xdWFydC1pbicpLFxuXHQncXVhcnRPdXQnOiByZXF1aXJlKCcuL3F1YXJ0LW91dCcpLFxuXHQncXVpbnRJbk91dCc6IHJlcXVpcmUoJy4vcXVpbnQtaW4tb3V0JyksXG5cdCdxdWludEluJzogcmVxdWlyZSgnLi9xdWludC1pbicpLFxuXHQncXVpbnRPdXQnOiByZXF1aXJlKCcuL3F1aW50LW91dCcpLFxuXHQnc2luZUluT3V0JzogcmVxdWlyZSgnLi9zaW5lLWluLW91dCcpLFxuXHQnc2luZUluJzogcmVxdWlyZSgnLi9zaW5lLWluJyksXG5cdCdzaW5lT3V0JzogcmVxdWlyZSgnLi9zaW5lLW91dCcpXG59IiwiZnVuY3Rpb24gbGluZWFyKHQpIHtcbiAgcmV0dXJuIHRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaW5lYXIiLCJmdW5jdGlvbiBxdWFkSW5PdXQodCkge1xuICAgIHQgLz0gMC41XG4gICAgaWYgKHQgPCAxKSByZXR1cm4gMC41KnQqdFxuICAgIHQtLVxuICAgIHJldHVybiAtMC41ICogKHQqKHQtMikgLSAxKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1YWRJbk91dCIsImZ1bmN0aW9uIHF1YWRJbih0KSB7XG4gIHJldHVybiB0ICogdFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1YWRJbiIsImZ1bmN0aW9uIHF1YWRPdXQodCkge1xuICByZXR1cm4gLXQgKiAodCAtIDIuMClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBxdWFkT3V0IiwiZnVuY3Rpb24gcXVhcnRpY0luT3V0KHQpIHtcbiAgcmV0dXJuIHQgPCAwLjVcbiAgICA/ICs4LjAgKiBNYXRoLnBvdyh0LCA0LjApXG4gICAgOiAtOC4wICogTWF0aC5wb3codCAtIDEuMCwgNC4wKSArIDEuMFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1YXJ0aWNJbk91dCIsImZ1bmN0aW9uIHF1YXJ0aWNJbih0KSB7XG4gIHJldHVybiBNYXRoLnBvdyh0LCA0LjApXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcXVhcnRpY0luIiwiZnVuY3Rpb24gcXVhcnRpY091dCh0KSB7XG4gIHJldHVybiBNYXRoLnBvdyh0IC0gMS4wLCAzLjApICogKDEuMCAtIHQpICsgMS4wXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcXVhcnRpY091dCIsImZ1bmN0aW9uIHFpbnRpY0luT3V0KHQpIHtcbiAgICBpZiAoICggdCAqPSAyICkgPCAxICkgcmV0dXJuIDAuNSAqIHQgKiB0ICogdCAqIHQgKiB0XG4gICAgcmV0dXJuIDAuNSAqICggKCB0IC09IDIgKSAqIHQgKiB0ICogdCAqIHQgKyAyIClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBxaW50aWNJbk91dCIsImZ1bmN0aW9uIHFpbnRpY0luKHQpIHtcbiAgcmV0dXJuIHQgKiB0ICogdCAqIHQgKiB0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcWludGljSW4iLCJmdW5jdGlvbiBxaW50aWNPdXQodCkge1xuICByZXR1cm4gLS10ICogdCAqIHQgKiB0ICogdCArIDFcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBxaW50aWNPdXQiLCJmdW5jdGlvbiBzaW5lSW5PdXQodCkge1xuICByZXR1cm4gLTAuNSAqIChNYXRoLmNvcyhNYXRoLlBJKnQpIC0gMSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaW5lSW5PdXQiLCJmdW5jdGlvbiBzaW5lSW4gKHQpIHtcbiAgdmFyIHYgPSBNYXRoLmNvcyh0ICogTWF0aC5QSSAqIDAuNSlcbiAgaWYgKE1hdGguYWJzKHYpIDwgMWUtMTQpIHJldHVybiAxXG4gIGVsc2UgcmV0dXJuIDEgLSB2XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2luZUluXG4iLCJmdW5jdGlvbiBzaW5lT3V0KHQpIHtcbiAgcmV0dXJuIE1hdGguc2luKHQgKiBNYXRoLlBJLzIpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2luZU91dCIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWtlYXJjaGliYWxkL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDIuMy4wXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdG9TdHJpbmcgPSB7fS50b1N0cmluZztcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbl0gPSBjYWxsYmFjaztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICsgMV0gPSBhcmc7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICs9IDI7XG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9PT0gMikge1xuICAgICAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldEFzYXAoYXNhcEZuKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcCA9IGFzYXBGbjtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gd2luZG93IDogdW5kZWZpbmVkO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93IHx8IHt9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4gICAgLy8gdGVzdCBmb3Igd2ViIHdvcmtlciBidXQgbm90IGluIElFMTBcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgLy8gbm9kZVxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpIHtcbiAgICAgIHZhciBuZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gICAgICAvLyBub2RlIHZlcnNpb24gMC4xMC54IGRpc3BsYXlzIGEgZGVwcmVjYXRpb24gd2FybmluZyB3aGVuIG5leHRUaWNrIGlzIHVzZWQgcmVjdXJzaXZlbHlcbiAgICAgIC8vIHNldEltbWVkaWF0ZSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIGluc3RlYWRcbiAgICAgIHZhciB2ZXJzaW9uID0gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLm1hdGNoKC9eKD86KFxcZCspXFwuKT8oPzooXFxkKylcXC4pPyhcXCp8XFxkKykkLyk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2ZXJzaW9uKSAmJiB2ZXJzaW9uWzFdID09PSAnMCcgJiYgdmVyc2lvblsyXSA9PT0gJzEwJykge1xuICAgICAgICBuZXh0VGljayA9IHNldEltbWVkaWF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbmV4dFRpY2sobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gdmVydHhcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2ViIHdvcmtlclxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuOyBpKz0yKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGFyZyA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdO1xuXG4gICAgICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0ZXgoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgICAgIHZhciB2ZXJ0eCA9IHIoJ3ZlcnR4Jyk7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2g7XG4gICAgLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbiAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnRleCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCgpIHt9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAgID0gdm9pZCAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgPSAxO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAgPSAyO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsbGZpbGxtZW50KCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihwcm9taXNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdGhlbmFibGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICAgICAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpIHtcbiAgICAgIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRoZW4gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKG1heWJlVGhlbmFibGUpO1xuXG4gICAgICAgIGlmICh0aGVuID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGxmaWxsbWVudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICAgICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cblxuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRDtcblxuICAgICAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwcm9taXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEO1xuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gcmVhc29uO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgbGVuZ3RoID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICBwYXJlbnQuX29uZXJyb3IgPSBudWxsO1xuXG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEXSAgPSBvblJlamVjdGlvbjtcblxuICAgICAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgICAgIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgICAgIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICAgIHZhciBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCkge1xuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZTtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgICAgIHZhbHVlLCBlcnJvciwgc3VjY2VlZGVkLCBmYWlsZWQ7XG5cbiAgICAgIGlmIChoYXNDYWxsYmFjaykge1xuICAgICAgICB2YWx1ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SKSB7XG4gICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICAvLyBub29wXG4gICAgICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZmFpbGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpe1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIGVudW1lcmF0b3IuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICAgIGVudW1lcmF0b3IucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKGVudW1lcmF0b3IuX3ZhbGlkYXRlSW5wdXQoaW5wdXQpKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX2lucHV0ICAgICA9IGlucHV0O1xuICAgICAgICBlbnVtZXJhdG9yLmxlbmd0aCAgICAgPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIGVudW1lcmF0b3IuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgICAgICBlbnVtZXJhdG9yLl9pbml0KCk7XG5cbiAgICAgICAgaWYgKGVudW1lcmF0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChlbnVtZXJhdG9yLnByb21pc2UsIGVudW1lcmF0b3IuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW51bWVyYXRvci5sZW5ndGggPSBlbnVtZXJhdG9yLmxlbmd0aCB8fCAwO1xuICAgICAgICAgIGVudW1lcmF0b3IuX2VudW1lcmF0ZSgpO1xuICAgICAgICAgIGlmIChlbnVtZXJhdG9yLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwoZW51bWVyYXRvci5wcm9taXNlLCBlbnVtZXJhdG9yLl9yZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KGVudW1lcmF0b3IucHJvbWlzZSwgZW51bWVyYXRvci5fdmFsaWRhdGlvbkVycm9yKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVJbnB1dCA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGlucHV0KTtcbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0FycmF5IE1ldGhvZHMgbXVzdCBiZSBwcm92aWRlZCBhbiBBcnJheScpO1xuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yO1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgdmFyIGxlbmd0aCAgPSBlbnVtZXJhdG9yLmxlbmd0aDtcbiAgICAgIHZhciBwcm9taXNlID0gZW51bWVyYXRvci5wcm9taXNlO1xuICAgICAgdmFyIGlucHV0ICAgPSBlbnVtZXJhdG9yLl9pbnB1dDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBlbnVtZXJhdG9yLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5LCBpKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG4gICAgICB2YXIgYyA9IGVudW1lcmF0b3IuX2luc3RhbmNlQ29uc3RydWN0b3I7XG5cbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZShlbnRyeSkpIHtcbiAgICAgICAgaWYgKGVudHJ5LmNvbnN0cnVjdG9yID09PSBjICYmIGVudHJ5Ll9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICAgIGVudHJ5Ll9vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnVtZXJhdG9yLl93aWxsU2V0dGxlQXQoYy5yZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3JlbWFpbmluZy0tO1xuICAgICAgICBlbnVtZXJhdG9yLl9yZXN1bHRbaV0gPSBlbnRyeTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbihzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gZW51bWVyYXRvci5wcm9taXNlO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgZW51bWVyYXRvci5fcmVtYWluaW5nLS07XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW51bWVyYXRvci5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVudW1lcmF0b3IuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIGVudW1lcmF0b3IuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24ocHJvbWlzZSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbChlbnRyaWVzKSB7XG4gICAgICByZXR1cm4gbmV3IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0KHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbDtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlKGVudHJpZXMpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoZW50cmllcykpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRnVsZmlsbG1lbnQodmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0aW9uKHJlYXNvbikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUoQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKSwgdW5kZWZpbmVkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2U7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZShvYmplY3QpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0KHJlYXNvbikge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdDtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkY291bnRlciA9IDA7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlO1xuICAgIC8qKlxuICAgICAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICAgICAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgICAgIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICAgICAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIFRlcm1pbm9sb2d5XG4gICAgICAtLS0tLS0tLS0tLVxuXG4gICAgICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAgICAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAgICAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gICAgICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gICAgICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICAgICAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gICAgICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICAgICAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICAgICAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgICAgIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICAgICAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICAgICAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gICAgICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gICAgICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gICAgICBCYXNpYyBVc2FnZTpcbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBgYGBqc1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gb24gc3VjY2Vzc1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgICAgICAvLyBvbiBmYWlsdXJlXG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBvbiBmdWxmaWxsbWVudFxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIC8vIG9uIHJlamVjdGlvblxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgVXNhZ2U6XG4gICAgICAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICAgICAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgLy8gb24gcmVqZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gICAgICBgYGBqc1xuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICAgICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgICAgIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICAgICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgICAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBjbGFzcyBQcm9taXNlXG4gICAgICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQGNvbnN0cnVjdG9yXG4gICAgKi9cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZShyZXNvbHZlcikge1xuICAgICAgdGhpcy5faWQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkY291bnRlcisrO1xuICAgICAgdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSkpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5hbGwgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmFjZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVzb2x2ZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVqZWN0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRTY2hlZHVsZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyO1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRBc2FwID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldEFzYXA7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX2FzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcDtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSxcblxuICAgIC8qKlxuICAgICAgVGhlIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsXG4gICAgICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICAgICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgICAvLyB1c2VyIGlzIGF2YWlsYWJsZVxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIENoYWluaW5nXG4gICAgICAtLS0tLS0tLVxuXG4gICAgICBUaGUgcmV0dXJuIHZhbHVlIG9mIGB0aGVuYCBpcyBpdHNlbGYgYSBwcm9taXNlLiAgVGhpcyBzZWNvbmQsICdkb3duc3RyZWFtJ1xuICAgICAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICAgICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHVzZXIubmFtZTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgICAgIH0pO1xuXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAgICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gICAgICB9KTtcbiAgICAgIGBgYFxuICAgICAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQXNzaW1pbGF0aW9uXG4gICAgICAtLS0tLS0tLS0tLS1cblxuICAgICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgICAgIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgICAgIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gICAgICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFNpbXBsZSBFeGFtcGxlXG4gICAgICAtLS0tLS0tLS0tLS0tLVxuXG4gICAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfVxuICAgICAgYGBgXG5cbiAgICAgIEVycmJhY2sgRXhhbXBsZVxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBQcm9taXNlIEV4YW1wbGU7XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIGF1dGhvciwgYm9va3M7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICAgICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfVxuICAgICAgYGBgXG5cbiAgICAgIEVycmJhY2sgRXhhbXBsZVxuXG4gICAgICBgYGBqc1xuXG4gICAgICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcblxuICAgICAgfVxuXG4gICAgICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBQcm9taXNlIEV4YW1wbGU7XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIGZpbmRBdXRob3IoKS5cbiAgICAgICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgICAgIC8vIGZvdW5kIGJvb2tzXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCB0aGVuXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgJiYgIW9uRnVsZmlsbG1lbnQgfHwgc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEICYmICFvblJlamVjdGlvbikge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBwYXJlbnQuX3Jlc3VsdDtcblxuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSxcblxuICAgIC8qKlxuICAgICAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICAgICAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cblxuICAgICAgYGBganNcbiAgICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHN5bmNocm9ub3VzXG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQXV0aG9yKCk7XG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfVxuXG4gICAgICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gICAgICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgY2F0Y2hcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGwoKSB7XG4gICAgICB2YXIgbG9jYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gZ2xvYmFsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IHNlbGY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgICAgIGlmIChQICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSkgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9jYWwuUHJvbWlzZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0O1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbDtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlID0ge1xuICAgICAgJ1Byb21pc2UnOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCxcbiAgICAgICdwb2x5ZmlsbCc6IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdFxuICAgIH07XG5cbiAgICAvKiBnbG9iYWwgZGVmaW5lOnRydWUgbW9kdWxlOnRydWUgd2luZG93OiB0cnVlICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTsgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkge1xuICAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzWydFUzZQcm9taXNlJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCgpO1xufSkuY2FsbCh0aGlzKTtcblxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwiaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHdpbmRvd1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7fVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBhc1N0cmluZ1xubW9kdWxlLmV4cG9ydHMuYWRkID0gYXBwZW5kXG5cbmZ1bmN0aW9uIGFzU3RyaW5nKGZvbnRzKSB7XG4gIHZhciBocmVmID0gZ2V0SHJlZihmb250cylcbiAgcmV0dXJuICc8bGluayBocmVmPVwiJyArIGhyZWYgKyAnXCIgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPidcbn1cblxuZnVuY3Rpb24gYXNFbGVtZW50KGZvbnRzKSB7XG4gIHZhciBocmVmID0gZ2V0SHJlZihmb250cylcbiAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJylcbiAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKVxuICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKVxuICBsaW5rLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpXG4gIHJldHVybiBsaW5rXG59XG5cbmZ1bmN0aW9uIGdldEhyZWYoZm9udHMpIHtcbiAgdmFyIGZhbWlseSA9IE9iamVjdC5rZXlzKGZvbnRzKS5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBkZXRhaWxzID0gZm9udHNbbmFtZV1cbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrLywgJysnKVxuICAgIHJldHVybiB0eXBlb2YgZGV0YWlscyA9PT0gJ2Jvb2xlYW4nXG4gICAgICA/IG5hbWVcbiAgICAgIDogbmFtZSArICc6JyArIG1ha2VBcnJheShkZXRhaWxzKS5qb2luKCcsJylcbiAgfSkuam9pbignfCcpXG5cbiAgcmV0dXJuICdodHRwOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT0nICsgZmFtaWx5XG59XG5cbmZ1bmN0aW9uIGFwcGVuZChmb250cykge1xuICB2YXIgbGluayA9IGFzRWxlbWVudChmb250cylcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKVxuICByZXR1cm4gbGlua1xufVxuXG5mdW5jdGlvbiBtYWtlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFycikgPyBhcnIgOiBbYXJyXVxufVxuIiwiLyohIVxuICogSGFzaGVyIDxodHRwOi8vZ2l0aHViLmNvbS9taWxsZXJtZWRlaXJvcy9oYXNoZXI+XG4gKiBAYXV0aG9yIE1pbGxlciBNZWRlaXJvc1xuICogQHZlcnNpb24gMS4yLjAgKDIwMTMvMTEvMTEgMDM6MTggUE0pXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqL1xuXG47KGZ1bmN0aW9uICgpIHtcbnZhciBmYWN0b3J5ID0gZnVuY3Rpb24oc2lnbmFscyl7XG5cbi8qanNoaW50IHdoaXRlOmZhbHNlKi9cbi8qZ2xvYmFsIHNpZ25hbHM6ZmFsc2UsIHdpbmRvdzpmYWxzZSovXG5cbi8qKlxuICogSGFzaGVyXG4gKiBAbmFtZXNwYWNlIEhpc3RvcnkgTWFuYWdlciBmb3IgcmljaC1tZWRpYSBhcHBsaWNhdGlvbnMuXG4gKiBAbmFtZSBoYXNoZXJcbiAqL1xudmFyIGhhc2hlciA9IChmdW5jdGlvbih3aW5kb3cpe1xuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFByaXZhdGUgVmFyc1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhclxuXG4gICAgICAgIC8vIGZyZXF1ZW5jeSB0aGF0IGl0IHdpbGwgY2hlY2sgaGFzaCB2YWx1ZSBvbiBJRSA2LTcgc2luY2UgaXQgZG9lc24ndFxuICAgICAgICAvLyBzdXBwb3J0IHRoZSBoYXNoY2hhbmdlIGV2ZW50XG4gICAgICAgIFBPT0xfSU5URVJWQUwgPSAyNSxcblxuICAgICAgICAvLyBsb2NhbCBzdG9yYWdlIGZvciBicmV2aXR5IGFuZCBiZXR0ZXIgY29tcHJlc3Npb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcbiAgICAgICAgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5LFxuICAgICAgICBTaWduYWwgPSBzaWduYWxzLlNpZ25hbCxcblxuICAgICAgICAvLyBsb2NhbCB2YXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBoYXNoZXIsXG4gICAgICAgIF9oYXNoLFxuICAgICAgICBfY2hlY2tJbnRlcnZhbCxcbiAgICAgICAgX2lzQWN0aXZlLFxuICAgICAgICBfZnJhbWUsIC8vaWZyYW1lIHVzZWQgZm9yIGxlZ2FjeSBJRSAoNi03KVxuICAgICAgICBfY2hlY2tIaXN0b3J5LFxuICAgICAgICBfaGFzaFZhbFJlZ2V4cCA9IC8jKC4qKSQvLFxuICAgICAgICBfYmFzZVVybFJlZ2V4cCA9IC8oXFw/LiopfChcXCMuKikvLFxuICAgICAgICBfaGFzaFJlZ2V4cCA9IC9eXFwjLyxcblxuICAgICAgICAvLyBzbmlmZmluZy9mZWF0dXJlIGRldGVjdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy9oYWNrIGJhc2VkIG9uIHRoaXM6IGh0dHA6Ly93ZWJyZWZsZWN0aW9uLmJsb2dzcG90LmNvbS8yMDA5LzAxLzMyLWJ5dGVzLXRvLWtub3ctaWYteW91ci1icm93c2VyLWlzLWllLmh0bWxcbiAgICAgICAgX2lzSUUgPSAoIStcIlxcdjFcIiksXG4gICAgICAgIC8vIGhhc2hjaGFuZ2UgaXMgc3VwcG9ydGVkIGJ5IEZGMy42KywgSUU4KywgQ2hyb21lIDUrLCBTYWZhcmkgNSsgYnV0XG4gICAgICAgIC8vIGZlYXR1cmUgZGV0ZWN0aW9uIGZhaWxzIG9uIElFIGNvbXBhdGliaWxpdHkgbW9kZSwgc28gd2UgbmVlZCB0b1xuICAgICAgICAvLyBjaGVjayBkb2N1bWVudE1vZGVcbiAgICAgICAgX2lzSGFzaENoYW5nZVN1cHBvcnRlZCA9ICgnb25oYXNoY2hhbmdlJyBpbiB3aW5kb3cpICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSAhPT0gNyxcbiAgICAgICAgLy9jaGVjayBpZiBpcyBJRTYtNyBzaW5jZSBoYXNoIGNoYW5nZSBpcyBvbmx5IHN1cHBvcnRlZCBvbiBJRTgrIGFuZFxuICAgICAgICAvL2NoYW5naW5nIGhhc2ggdmFsdWUgb24gSUU2LTcgZG9lc24ndCBnZW5lcmF0ZSBoaXN0b3J5IHJlY29yZC5cbiAgICAgICAgX2lzTGVnYWN5SUUgPSBfaXNJRSAmJiAhX2lzSGFzaENoYW5nZVN1cHBvcnRlZCxcbiAgICAgICAgX2lzTG9jYWwgPSAobG9jYXRpb24ucHJvdG9jb2wgPT09ICdmaWxlOicpO1xuXG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgZnVuY3Rpb24gX2VzY2FwZVJlZ0V4cChzdHIpe1xuICAgICAgICByZXR1cm4gU3RyaW5nKHN0ciB8fCAnJykucmVwbGFjZSgvXFxXL2csIFwiXFxcXCQmXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90cmltSGFzaChoYXNoKXtcbiAgICAgICAgaWYgKCFoYXNoKSByZXR1cm4gJyc7XG4gICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCdeJyArIF9lc2NhcGVSZWdFeHAoaGFzaGVyLnByZXBlbmRIYXNoKSArICd8JyArIF9lc2NhcGVSZWdFeHAoaGFzaGVyLmFwcGVuZEhhc2gpICsgJyQnLCAnZycpO1xuICAgICAgICByZXR1cm4gaGFzaC5yZXBsYWNlKHJlZ2V4cCwgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9nZXRXaW5kb3dIYXNoKCl7XG4gICAgICAgIC8vcGFyc2VkIGZ1bGwgVVJMIGluc3RlYWQgb2YgZ2V0dGluZyB3aW5kb3cubG9jYXRpb24uaGFzaCBiZWNhdXNlIEZpcmVmb3ggZGVjb2RlIGhhc2ggdmFsdWUgKGFuZCBhbGwgdGhlIG90aGVyIGJyb3dzZXJzIGRvbid0KVxuICAgICAgICAvL2Fsc28gYmVjYXVzZSBvZiBJRTggYnVnIHdpdGggaGFzaCBxdWVyeSBpbiBsb2NhbCBmaWxlIFtpc3N1ZSAjNl1cbiAgICAgICAgdmFyIHJlc3VsdCA9IF9oYXNoVmFsUmVnZXhwLmV4ZWMoIGhhc2hlci5nZXRVUkwoKSApO1xuICAgICAgICB2YXIgcGF0aCA9IChyZXN1bHQgJiYgcmVzdWx0WzFdKSB8fCAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gaGFzaGVyLnJhdz8gcGF0aCA6IGRlY29kZVVSSUNvbXBvbmVudChwYXRoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGluIGNhc2UgdXNlciBkaWQgbm90IHNldCBgaGFzaGVyLnJhd2AgYW5kIGRlY29kZVVSSUNvbXBvbmVudFxuICAgICAgICAgIC8vIHRocm93cyBhbiBlcnJvciAoc2VlICM1NylcbiAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9nZXRGcmFtZUhhc2goKXtcbiAgICAgICAgcmV0dXJuIChfZnJhbWUpPyBfZnJhbWUuY29udGVudFdpbmRvdy5mcmFtZUhhc2ggOiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jcmVhdGVGcmFtZSgpe1xuICAgICAgICBfZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgX2ZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIF9mcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF9mcmFtZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3VwZGF0ZUZyYW1lKCl7XG4gICAgICAgIGlmKF9mcmFtZSAmJiBfaGFzaCAhPT0gX2dldEZyYW1lSGFzaCgpKXtcbiAgICAgICAgICAgIHZhciBmcmFtZURvYyA9IF9mcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgICAgICAgZnJhbWVEb2Mub3BlbigpO1xuICAgICAgICAgICAgLy91cGRhdGUgaWZyYW1lIGNvbnRlbnQgdG8gZm9yY2UgbmV3IGhpc3RvcnkgcmVjb3JkLlxuICAgICAgICAgICAgLy9iYXNlZCBvbiBSZWFsbHkgU2ltcGxlIEhpc3RvcnksIFNXRkFkZHJlc3MgYW5kIFlVSS5oaXN0b3J5LlxuICAgICAgICAgICAgZnJhbWVEb2Mud3JpdGUoJzxodG1sPjxoZWFkPjx0aXRsZT4nICsgZG9jdW1lbnQudGl0bGUgKyAnPC90aXRsZT48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj52YXIgZnJhbWVIYXNoPVwiJyArIF9oYXNoICsgJ1wiOzwvc2NyaXB0PjwvaGVhZD48Ym9keT4mbmJzcDs8L2JvZHk+PC9odG1sPicpO1xuICAgICAgICAgICAgZnJhbWVEb2MuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9yZWdpc3RlckNoYW5nZShuZXdIYXNoLCBpc1JlcGxhY2Upe1xuICAgICAgICBpZihfaGFzaCAhPT0gbmV3SGFzaCl7XG4gICAgICAgICAgICB2YXIgb2xkSGFzaCA9IF9oYXNoO1xuICAgICAgICAgICAgX2hhc2ggPSBuZXdIYXNoOyAvL3Nob3VsZCBjb21lIGJlZm9yZSBldmVudCBkaXNwYXRjaCB0byBtYWtlIHN1cmUgdXNlciBjYW4gZ2V0IHByb3BlciB2YWx1ZSBpbnNpZGUgZXZlbnQgaGFuZGxlclxuICAgICAgICAgICAgaWYoX2lzTGVnYWN5SUUpe1xuICAgICAgICAgICAgICAgIGlmKCFpc1JlcGxhY2Upe1xuICAgICAgICAgICAgICAgICAgICBfdXBkYXRlRnJhbWUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfZnJhbWUuY29udGVudFdpbmRvdy5mcmFtZUhhc2ggPSBuZXdIYXNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc2hlci5jaGFuZ2VkLmRpc3BhdGNoKF90cmltSGFzaChuZXdIYXNoKSwgX3RyaW1IYXNoKG9sZEhhc2gpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChfaXNMZWdhY3lJRSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9jaGVja0hpc3RvcnkgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHdpbmRvd0hhc2ggPSBfZ2V0V2luZG93SGFzaCgpLFxuICAgICAgICAgICAgICAgIGZyYW1lSGFzaCA9IF9nZXRGcmFtZUhhc2goKTtcbiAgICAgICAgICAgIGlmKGZyYW1lSGFzaCAhPT0gX2hhc2ggJiYgZnJhbWVIYXNoICE9PSB3aW5kb3dIYXNoKXtcbiAgICAgICAgICAgICAgICAvL2RldGVjdCBjaGFuZ2VzIG1hZGUgcHJlc3NpbmcgYnJvd3NlciBoaXN0b3J5IGJ1dHRvbnMuXG4gICAgICAgICAgICAgICAgLy9Xb3JrYXJvdW5kIHNpbmNlIGhpc3RvcnkuYmFjaygpIGFuZCBoaXN0b3J5LmZvcndhcmQoKSBkb2Vzbid0XG4gICAgICAgICAgICAgICAgLy91cGRhdGUgaGFzaCB2YWx1ZSBvbiBJRTYvNyBidXQgdXBkYXRlcyBjb250ZW50IG9mIHRoZSBpZnJhbWUuXG4gICAgICAgICAgICAgICAgLy9uZWVkcyB0byB0cmltIGhhc2ggc2luY2UgdmFsdWUgc3RvcmVkIGFscmVhZHkgaGF2ZVxuICAgICAgICAgICAgICAgIC8vcHJlcGVuZEhhc2ggKyBhcHBlbmRIYXNoIGZvciBmYXN0IGNoZWNrLlxuICAgICAgICAgICAgICAgIGhhc2hlci5zZXRIYXNoKF90cmltSGFzaChmcmFtZUhhc2gpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93SGFzaCAhPT0gX2hhc2gpe1xuICAgICAgICAgICAgICAgIC8vZGV0ZWN0IGlmIGhhc2ggY2hhbmdlZCAobWFudWFsbHkgb3IgdXNpbmcgc2V0SGFzaClcbiAgICAgICAgICAgICAgICBfcmVnaXN0ZXJDaGFuZ2Uod2luZG93SGFzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfY2hlY2tIaXN0b3J5ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciB3aW5kb3dIYXNoID0gX2dldFdpbmRvd0hhc2goKTtcbiAgICAgICAgICAgIGlmKHdpbmRvd0hhc2ggIT09IF9oYXNoKXtcbiAgICAgICAgICAgICAgICBfcmVnaXN0ZXJDaGFuZ2Uod2luZG93SGFzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FkZExpc3RlbmVyKGVsbSwgZVR5cGUsIGZuKXtcbiAgICAgICAgaWYoZWxtLmFkZEV2ZW50TGlzdGVuZXIpe1xuICAgICAgICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoZVR5cGUsIGZuLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxtLmF0dGFjaEV2ZW50KXtcbiAgICAgICAgICAgIGVsbS5hdHRhY2hFdmVudCgnb24nICsgZVR5cGUsIGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9yZW1vdmVMaXN0ZW5lcihlbG0sIGVUeXBlLCBmbil7XG4gICAgICAgIGlmKGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKXtcbiAgICAgICAgICAgIGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKGVUeXBlLCBmbiwgZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsbS5kZXRhY2hFdmVudCl7XG4gICAgICAgICAgICBlbG0uZGV0YWNoRXZlbnQoJ29uJyArIGVUeXBlLCBmbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbWFrZVBhdGgocGF0aHMpe1xuICAgICAgICBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgdmFyIHBhdGggPSBwYXRocy5qb2luKGhhc2hlci5zZXBhcmF0b3IpO1xuICAgICAgICBwYXRoID0gcGF0aD8gaGFzaGVyLnByZXBlbmRIYXNoICsgcGF0aC5yZXBsYWNlKF9oYXNoUmVnZXhwLCAnJykgKyBoYXNoZXIuYXBwZW5kSGFzaCA6IHBhdGg7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9lbmNvZGVQYXRoKHBhdGgpe1xuICAgICAgICAvL3VzZWQgZW5jb2RlVVJJIGluc3RlYWQgb2YgZW5jb2RlVVJJQ29tcG9uZW50IHRvIHByZXNlcnZlICc/JywgJy8nLFxuICAgICAgICAvLycjJy4gRml4ZXMgU2FmYXJpIGJ1ZyBbaXNzdWUgIzhdXG4gICAgICAgIHBhdGggPSBlbmNvZGVVUkkocGF0aCk7XG4gICAgICAgIGlmKF9pc0lFICYmIF9pc0xvY2FsKXtcbiAgICAgICAgICAgIC8vZml4IElFOCBsb2NhbCBmaWxlIGJ1ZyBbaXNzdWUgIzZdXG4gICAgICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXD8vLCAnJTNGJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFB1YmxpYyAoQVBJKVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGhhc2hlciA9IC8qKiBAbGVuZHMgaGFzaGVyICovIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogaGFzaGVyIFZlcnNpb24gTnVtYmVyXG4gICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIFZFUlNJT04gOiAnMS4yLjAnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb29sZWFuIGRlY2lkaW5nIGlmIGhhc2hlciBlbmNvZGVzL2RlY29kZXMgdGhlIGhhc2ggb3Igbm90LlxuICAgICAgICAgKiA8dWw+XG4gICAgICAgICAqIDxsaT5kZWZhdWx0IHZhbHVlOiBmYWxzZTs8L2xpPlxuICAgICAgICAgKiA8L3VsPlxuICAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICAqL1xuICAgICAgICByYXcgOiBmYWxzZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RyaW5nIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBhZGRlZCB0byB0aGUgZW5kIG9mIEhhc2ggdmFsdWUuXG4gICAgICAgICAqIDx1bD5cbiAgICAgICAgICogPGxpPmRlZmF1bHQgdmFsdWU6ICcnOzwvbGk+XG4gICAgICAgICAqIDxsaT53aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIGBoYXNoZXIuZ2V0SGFzaCgpYDwvbGk+XG4gICAgICAgICAqIDxsaT5hdm9pZCBjb25mbGljdHMgd2l0aCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gSUQgZXF1YWwgdG8gaGFzaCB2YWx1ZTs8L2xpPlxuICAgICAgICAgKiA8L3VsPlxuICAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgICovXG4gICAgICAgIGFwcGVuZEhhc2ggOiAnJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RyaW5nIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIEhhc2ggdmFsdWUuXG4gICAgICAgICAqIDx1bD5cbiAgICAgICAgICogPGxpPmRlZmF1bHQgdmFsdWU6ICcvJzs8L2xpPlxuICAgICAgICAgKiA8bGk+d2lsbCBiZSBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSBgaGFzaGVyLmdldEhhc2goKWA8L2xpPlxuICAgICAgICAgKiA8bGk+YXZvaWQgY29uZmxpY3RzIHdpdGggZWxlbWVudHMgdGhhdCBjb250YWluIElEIGVxdWFsIHRvIGhhc2ggdmFsdWU7PC9saT5cbiAgICAgICAgICogPC91bD5cbiAgICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwcmVwZW5kSGFzaCA6ICcvJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RyaW5nIHVzZWQgdG8gc3BsaXQgaGFzaCBwYXRoczsgdXNlZCBieSBgaGFzaGVyLmdldEhhc2hBc0FycmF5KClgIHRvIHNwbGl0IHBhdGhzLlxuICAgICAgICAgKiA8dWw+XG4gICAgICAgICAqIDxsaT5kZWZhdWx0IHZhbHVlOiAnLyc7PC9saT5cbiAgICAgICAgICogPC91bD5cbiAgICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBzZXBhcmF0b3IgOiAnLycsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpZ25hbCBkaXNwYXRjaGVkIHdoZW4gaGFzaCB2YWx1ZSBjaGFuZ2VzLlxuICAgICAgICAgKiAtIHBhc3MgY3VycmVudCBoYXNoIGFzIDFzdCBwYXJhbWV0ZXIgdG8gbGlzdGVuZXJzIGFuZCBwcmV2aW91cyBoYXNoIHZhbHVlIGFzIDJuZCBwYXJhbWV0ZXIuXG4gICAgICAgICAqIEB0eXBlIHNpZ25hbHMuU2lnbmFsXG4gICAgICAgICAqL1xuICAgICAgICBjaGFuZ2VkIDogbmV3IFNpZ25hbCgpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaWduYWwgZGlzcGF0Y2hlZCB3aGVuIGhhc2hlciBpcyBzdG9wcGVkLlxuICAgICAgICAgKiAtICBwYXNzIGN1cnJlbnQgaGFzaCBhcyBmaXJzdCBwYXJhbWV0ZXIgdG8gbGlzdGVuZXJzXG4gICAgICAgICAqIEB0eXBlIHNpZ25hbHMuU2lnbmFsXG4gICAgICAgICAqL1xuICAgICAgICBzdG9wcGVkIDogbmV3IFNpZ25hbCgpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaWduYWwgZGlzcGF0Y2hlZCB3aGVuIGhhc2hlciBpcyBpbml0aWFsaXplZC5cbiAgICAgICAgICogLSBwYXNzIGN1cnJlbnQgaGFzaCBhcyBmaXJzdCBwYXJhbWV0ZXIgdG8gbGlzdGVuZXJzLlxuICAgICAgICAgKiBAdHlwZSBzaWduYWxzLlNpZ25hbFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdGlhbGl6ZWQgOiBuZXcgU2lnbmFsKCksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXJ0IGxpc3RlbmluZy9kaXNwYXRjaGluZyBjaGFuZ2VzIGluIHRoZSBoYXNoL2hpc3RvcnkuXG4gICAgICAgICAqIDx1bD5cbiAgICAgICAgICogICA8bGk+aGFzaGVyIHdvbid0IGRpc3BhdGNoIENIQU5HRSBldmVudHMgYnkgbWFudWFsbHkgdHlwaW5nIGEgbmV3IHZhbHVlIG9yIHByZXNzaW5nIHRoZSBiYWNrL2ZvcndhcmQgYnV0dG9ucyBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZC48L2xpPlxuICAgICAgICAgKiA8L3VsPlxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihfaXNBY3RpdmUpIHJldHVybjtcblxuICAgICAgICAgICAgX2hhc2ggPSBfZ2V0V2luZG93SGFzaCgpO1xuXG4gICAgICAgICAgICAvL3Rob3VnaHQgYWJvdXQgYnJhbmNoaW5nL292ZXJsb2FkaW5nIGhhc2hlci5pbml0KCkgdG8gYXZvaWQgY2hlY2tpbmcgbXVsdGlwbGUgdGltZXMgYnV0XG4gICAgICAgICAgICAvL2Rvbid0IHRoaW5rIHdvcnRoIGRvaW5nIGl0IHNpbmNlIGl0IHByb2JhYmx5IHdvbid0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgIGlmKF9pc0hhc2hDaGFuZ2VTdXBwb3J0ZWQpe1xuICAgICAgICAgICAgICAgIF9hZGRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgX2NoZWNrSGlzdG9yeSk7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYoX2lzTGVnYWN5SUUpe1xuICAgICAgICAgICAgICAgICAgICBpZighIF9mcmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY3JlYXRlRnJhbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdXBkYXRlRnJhbWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChfY2hlY2tIaXN0b3J5LCBQT09MX0lOVEVSVkFMKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGhhc2hlci5pbml0aWFsaXplZC5kaXNwYXRjaChfdHJpbUhhc2goX2hhc2gpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcCBsaXN0ZW5pbmcvZGlzcGF0Y2hpbmcgY2hhbmdlcyBpbiB0aGUgaGFzaC9oaXN0b3J5LlxuICAgICAgICAgKiA8dWw+XG4gICAgICAgICAqICAgPGxpPmhhc2hlciB3b24ndCBkaXNwYXRjaCBDSEFOR0UgZXZlbnRzIGJ5IG1hbnVhbGx5IHR5cGluZyBhIG5ldyB2YWx1ZSBvciBwcmVzc2luZyB0aGUgYmFjay9mb3J3YXJkIGJ1dHRvbnMgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCwgdW5sZXNzIHlvdSBjYWxsIGhhc2hlci5pbml0KCkgYWdhaW4uPC9saT5cbiAgICAgICAgICogICA8bGk+aGFzaGVyIHdpbGwgc3RpbGwgZGlzcGF0Y2ggY2hhbmdlcyBtYWRlIHByb2dyYW1hdGljYWxseSBieSBjYWxsaW5nIGhhc2hlci5zZXRIYXNoKCk7PC9saT5cbiAgICAgICAgICogPC91bD5cbiAgICAgICAgICovXG4gICAgICAgIHN0b3AgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoISBfaXNBY3RpdmUpIHJldHVybjtcblxuICAgICAgICAgICAgaWYoX2lzSGFzaENoYW5nZVN1cHBvcnRlZCl7XG4gICAgICAgICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBfY2hlY2tIaXN0b3J5KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIF9jaGVja0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBoYXNoZXIuc3RvcHBlZC5kaXNwYXRjaChfdHJpbUhhc2goX2hhc2gpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgSWYgaGFzaGVyIGlzIGxpc3RlbmluZyB0byBjaGFuZ2VzIG9uIHRoZSBicm93c2VyIGhpc3RvcnkgYW5kL29yIGhhc2ggdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBpc0FjdGl2ZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gX2lzQWN0aXZlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZ1bGwgVVJMLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VVJMIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBSZXRyaWV2ZSBVUkwgd2l0aG91dCBxdWVyeSBzdHJpbmcgYW5kIGhhc2guXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCYXNlVVJMIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBoYXNoZXIuZ2V0VVJMKCkucmVwbGFjZShfYmFzZVVybFJlZ2V4cCwgJycpOyAvL3JlbW92ZXMgZXZlcnl0aGluZyBhZnRlciAnPycgYW5kL29yICcjJ1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgSGFzaCB2YWx1ZSwgZ2VuZXJhdGluZyBhIG5ldyBoaXN0b3J5IHJlY29yZC5cbiAgICAgICAgICogQHBhcmFtIHsuLi5zdHJpbmd9IHBhdGggICAgSGFzaCB2YWx1ZSB3aXRob3V0ICcjJy4gSGFzaGVyIHdpbGwgam9pblxuICAgICAgICAgKiBwYXRoIHNlZ21lbnRzIHVzaW5nIGBoYXNoZXIuc2VwYXJhdG9yYCBhbmQgcHJlcGVuZC9hcHBlbmQgaGFzaCB2YWx1ZVxuICAgICAgICAgKiB3aXRoIGBoYXNoZXIuYXBwZW5kSGFzaGAgYW5kIGBoYXNoZXIucHJlcGVuZEhhc2hgXG4gICAgICAgICAqIEBleGFtcGxlIGhhc2hlci5zZXRIYXNoKCdsb3JlbScsICdpcHN1bScsICdkb2xvcicpIC0+ICcjL2xvcmVtL2lwc3VtL2RvbG9yJ1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0SGFzaCA6IGZ1bmN0aW9uKHBhdGgpe1xuICAgICAgICAgICAgcGF0aCA9IF9tYWtlUGF0aC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYocGF0aCAhPT0gX2hhc2gpe1xuICAgICAgICAgICAgICAgIC8vIHdlIHNob3VsZCBzdG9yZSByYXcgdmFsdWVcbiAgICAgICAgICAgICAgICBfcmVnaXN0ZXJDaGFuZ2UocGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGggPT09IF9oYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNoZWNrIGlmIHBhdGggaXMgc3RpbGwgPT09IF9oYXNoIHRvIGF2b2lkIGVycm9yIGluXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2Ugb2YgbXVsdGlwbGUgY29uc2VjdXRpdmUgcmVkaXJlY3RzIFtpc3N1ZSAjMzldXG4gICAgICAgICAgICAgICAgICAgIGlmICghIGhhc2hlci5yYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBfZW5jb2RlUGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjJyArIHBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgSGFzaCB2YWx1ZSB3aXRob3V0IGtlZXBpbmcgcHJldmlvdXMgaGFzaCBvbiB0aGUgaGlzdG9yeSByZWNvcmQuXG4gICAgICAgICAqIFNpbWlsYXIgdG8gY2FsbGluZyBgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIjL2hhc2hcIilgIGJ1dCB3aWxsIGFsc28gd29yayBvbiBJRTYtNy5cbiAgICAgICAgICogQHBhcmFtIHsuLi5zdHJpbmd9IHBhdGggICAgSGFzaCB2YWx1ZSB3aXRob3V0ICcjJy4gSGFzaGVyIHdpbGwgam9pblxuICAgICAgICAgKiBwYXRoIHNlZ21lbnRzIHVzaW5nIGBoYXNoZXIuc2VwYXJhdG9yYCBhbmQgcHJlcGVuZC9hcHBlbmQgaGFzaCB2YWx1ZVxuICAgICAgICAgKiB3aXRoIGBoYXNoZXIuYXBwZW5kSGFzaGAgYW5kIGBoYXNoZXIucHJlcGVuZEhhc2hgXG4gICAgICAgICAqIEBleGFtcGxlIGhhc2hlci5yZXBsYWNlSGFzaCgnbG9yZW0nLCAnaXBzdW0nLCAnZG9sb3InKSAtPiAnIy9sb3JlbS9pcHN1bS9kb2xvcidcbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VIYXNoIDogZnVuY3Rpb24ocGF0aCl7XG4gICAgICAgICAgICBwYXRoID0gX21ha2VQYXRoLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZihwYXRoICE9PSBfaGFzaCl7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIHN0b3JlIHJhdyB2YWx1ZVxuICAgICAgICAgICAgICAgIF9yZWdpc3RlckNoYW5nZShwYXRoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aCA9PT0gX2hhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2hlY2sgaWYgcGF0aCBpcyBzdGlsbCA9PT0gX2hhc2ggdG8gYXZvaWQgZXJyb3IgaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSBvZiBtdWx0aXBsZSBjb25zZWN1dGl2ZSByZWRpcmVjdHMgW2lzc3VlICMzOV1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgaGFzaGVyLnJhdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IF9lbmNvZGVQYXRoKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcjJyArIHBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBIYXNoIHZhbHVlIHdpdGhvdXQgJyMnLCBgaGFzaGVyLmFwcGVuZEhhc2hgIGFuZCBgaGFzaGVyLnByZXBlbmRIYXNoYC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEhhc2ggOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy9kaWRuJ3QgdXNlZCBhY3R1YWwgdmFsdWUgb2YgdGhlIGB3aW5kb3cubG9jYXRpb24uaGFzaGAgdG8gYXZvaWQgYnJlYWtpbmcgdGhlIGFwcGxpY2F0aW9uIGluIGNhc2UgYHdpbmRvdy5sb2NhdGlvbi5oYXNoYCBpc24ndCBhdmFpbGFibGUgYW5kIGFsc28gYmVjYXVzZSB2YWx1ZSBzaG91bGQgYWx3YXlzIGJlIHN5bmNoZWQuXG4gICAgICAgICAgICByZXR1cm4gX3RyaW1IYXNoKF9oYXNoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7QXJyYXkuPHN0cmluZz59IEhhc2ggdmFsdWUgc3BsaXQgaW50byBhbiBBcnJheS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEhhc2hBc0FycmF5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBoYXNoZXIuZ2V0SGFzaCgpLnNwbGl0KGhhc2hlci5zZXBhcmF0b3IpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGFsbCBldmVudCBsaXN0ZW5lcnMsIHN0b3BzIGhhc2hlciBhbmQgZGVzdHJveSBoYXNoZXIgb2JqZWN0LlxuICAgICAgICAgKiAtIElNUE9SVEFOVDogaGFzaGVyIHdvbid0IHdvcmsgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCwgaGFzaGVyIE9iamVjdCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBkaXNwb3NlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGhhc2hlci5zdG9wKCk7XG4gICAgICAgICAgICBoYXNoZXIuaW5pdGlhbGl6ZWQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgaGFzaGVyLnN0b3BwZWQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgaGFzaGVyLmNoYW5nZWQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgX2ZyYW1lID0gaGFzaGVyID0gd2luZG93Lmhhc2hlciA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRvU3RyaW5nIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAnW2hhc2hlciB2ZXJzaW9uPVwiJysgaGFzaGVyLlZFUlNJT04gKydcIiBoYXNoPVwiJysgaGFzaGVyLmdldEhhc2goKSArJ1wiXSc7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBoYXNoZXIuaW5pdGlhbGl6ZWQubWVtb3JpemUgPSB0cnVlOyAvL3NlZSAjMzNcblxuICAgIHJldHVybiBoYXNoZXI7XG5cbn0od2luZG93KSk7XG5cblxuICAgIHJldHVybiBoYXNoZXI7XG59O1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnc2lnbmFscyddLCBmYWN0b3J5KTtcbn0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ3NpZ25hbHMnKSk7XG59IGVsc2Uge1xuICAgIC8qanNoaW50IHN1Yjp0cnVlICovXG4gICAgd2luZG93WydoYXNoZXInXSA9IGZhY3Rvcnkod2luZG93WydzaWduYWxzJ10pO1xufVxuXG59KCkpO1xuIiwiXG52YXIgaW5kZXhPZiA9IFtdLmluZGV4T2Y7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXJyLCBvYmope1xuICBpZiAoaW5kZXhPZikgcmV0dXJuIGFyci5pbmRleE9mKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFycltpXSA9PT0gb2JqKSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59OyIsInZhciBpbnNlcnRlZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAoaW5zZXJ0ZWRbY3NzXSkgcmV0dXJuO1xuICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuICAgIFxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXG4gICAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWxlbSkge1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfVxuICAgIFxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbn07XG4iLCJmdW5jdGlvbiBsZXJwKHYwLCB2MSwgdCkge1xuICAgIHJldHVybiB2MCooMS10KSt2MSp0XG59XG5tb2R1bGUuZXhwb3J0cyA9IGxlcnAiLCIvKiFcbiAgICBsb2NhbEZvcmFnZSAtLSBPZmZsaW5lIFN0b3JhZ2UsIEltcHJvdmVkXG4gICAgVmVyc2lvbiAxLjEwLjBcbiAgICBodHRwczovL2xvY2FsZm9yYWdlLmdpdGh1Yi5pby9sb2NhbEZvcmFnZVxuICAgIChjKSAyMDEzLTIwMTcgTW96aWxsYSwgQXBhY2hlIExpY2Vuc2UgMi4wXG4qL1xuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcubG9jYWxmb3JhZ2UgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgKGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIiwgZil9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG52YXIgTXV0YXRpb24gPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcblxudmFyIHNjaGVkdWxlRHJhaW47XG5cbntcbiAgaWYgKE11dGF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IDA7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uKG5leHRUaWNrKTtcbiAgICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgfSk7XG4gICAgc2NoZWR1bGVEcmFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGVsZW1lbnQuZGF0YSA9IChjYWxsZWQgPSArK2NhbGxlZCAlIDIpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoIWdsb2JhbC5zZXRJbW1lZGlhdGUgJiYgdHlwZW9mIGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgY2hhbm5lbCA9IG5ldyBnbG9iYWwuTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IG5leHRUaWNrO1xuICAgIHNjaGVkdWxlRHJhaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoJ2RvY3VtZW50JyBpbiBnbG9iYWwgJiYgJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKSB7XG4gICAgc2NoZWR1bGVEcmFpbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgdmFyIHNjcmlwdEVsID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuZXh0VGljaygpO1xuXG4gICAgICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgICBzY3JpcHRFbCA9IG51bGw7XG4gICAgICB9O1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBzY2hlZHVsZURyYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0VGltZW91dChuZXh0VGljaywgMCk7XG4gICAgfTtcbiAgfVxufVxuXG52YXIgZHJhaW5pbmc7XG52YXIgcXVldWUgPSBbXTtcbi8vbmFtZWQgbmV4dFRpY2sgZm9yIGxlc3MgY29uZnVzaW5nIHN0YWNrIHRyYWNlc1xuZnVuY3Rpb24gbmV4dFRpY2soKSB7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGksIG9sZFF1ZXVlO1xuICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAobGVuKSB7XG4gICAgb2xkUXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuICAgIGkgPSAtMTtcbiAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICBvbGRRdWV1ZVtpXSgpO1xuICAgIH1cbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cbiAgZHJhaW5pbmcgPSBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbW1lZGlhdGU7XG5mdW5jdGlvbiBpbW1lZGlhdGUodGFzaykge1xuICBpZiAocXVldWUucHVzaCh0YXNrKSA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICBzY2hlZHVsZURyYWluKCk7XG4gIH1cbn1cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHt9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcbnZhciBpbW1lZGlhdGUgPSBfZGVyZXFfKDEpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gSU5URVJOQUwoKSB7fVxuXG52YXIgaGFuZGxlcnMgPSB7fTtcblxudmFyIFJFSkVDVEVEID0gWydSRUpFQ1RFRCddO1xudmFyIEZVTEZJTExFRCA9IFsnRlVMRklMTEVEJ107XG52YXIgUEVORElORyA9IFsnUEVORElORyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5cbmZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Jlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIHRoaXMuc3RhdGUgPSBQRU5ESU5HO1xuICB0aGlzLnF1ZXVlID0gW107XG4gIHRoaXMub3V0Y29tZSA9IHZvaWQgMDtcbiAgaWYgKHJlc29sdmVyICE9PSBJTlRFUk5BTCkge1xuICAgIHNhZmVseVJlc29sdmVUaGVuYWJsZSh0aGlzLCByZXNvbHZlcik7XG4gIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG59O1xuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICBpZiAodHlwZW9mIG9uRnVsZmlsbGVkICE9PSAnZnVuY3Rpb24nICYmIHRoaXMuc3RhdGUgPT09IEZVTEZJTExFRCB8fFxuICAgIHR5cGVvZiBvblJlamVjdGVkICE9PSAnZnVuY3Rpb24nICYmIHRoaXMuc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIHByb21pc2UgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihJTlRFUk5BTCk7XG4gIGlmICh0aGlzLnN0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgdmFyIHJlc29sdmVyID0gdGhpcy5zdGF0ZSA9PT0gRlVMRklMTEVEID8gb25GdWxmaWxsZWQgOiBvblJlamVjdGVkO1xuICAgIHVud3JhcChwcm9taXNlLCByZXNvbHZlciwgdGhpcy5vdXRjb21lKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnF1ZXVlLnB1c2gobmV3IFF1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuZnVuY3Rpb24gUXVldWVJdGVtKHByb21pc2UsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzLm9uRnVsZmlsbGVkID0gb25GdWxmaWxsZWQ7XG4gICAgdGhpcy5jYWxsRnVsZmlsbGVkID0gdGhpcy5vdGhlckNhbGxGdWxmaWxsZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5vblJlamVjdGVkID0gb25SZWplY3RlZDtcbiAgICB0aGlzLmNhbGxSZWplY3RlZCA9IHRoaXMub3RoZXJDYWxsUmVqZWN0ZWQ7XG4gIH1cbn1cblF1ZXVlSXRlbS5wcm90b3R5cGUuY2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICBoYW5kbGVycy5yZXNvbHZlKHRoaXMucHJvbWlzZSwgdmFsdWUpO1xufTtcblF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHVud3JhcCh0aGlzLnByb21pc2UsIHRoaXMub25GdWxmaWxsZWQsIHZhbHVlKTtcbn07XG5RdWV1ZUl0ZW0ucHJvdG90eXBlLmNhbGxSZWplY3RlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICBoYW5kbGVycy5yZWplY3QodGhpcy5wcm9taXNlLCB2YWx1ZSk7XG59O1xuUXVldWVJdGVtLnByb3RvdHlwZS5vdGhlckNhbGxSZWplY3RlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB1bndyYXAodGhpcy5wcm9taXNlLCB0aGlzLm9uUmVqZWN0ZWQsIHZhbHVlKTtcbn07XG5cbmZ1bmN0aW9uIHVud3JhcChwcm9taXNlLCBmdW5jLCB2YWx1ZSkge1xuICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXR1cm5WYWx1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuVmFsdWUgPSBmdW5jKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gaGFuZGxlcnMucmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IHByb21pc2UpIHtcbiAgICAgIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLCBuZXcgVHlwZUVycm9yKCdDYW5ub3QgcmVzb2x2ZSBwcm9taXNlIHdpdGggaXRzZWxmJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVycy5yZXNvbHZlKHByb21pc2UsIHJldHVyblZhbHVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5oYW5kbGVycy5yZXNvbHZlID0gZnVuY3Rpb24gKHNlbGYsIHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB0cnlDYXRjaChnZXRUaGVuLCB2YWx1ZSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgcmV0dXJuIGhhbmRsZXJzLnJlamVjdChzZWxmLCByZXN1bHQudmFsdWUpO1xuICB9XG4gIHZhciB0aGVuYWJsZSA9IHJlc3VsdC52YWx1ZTtcblxuICBpZiAodGhlbmFibGUpIHtcbiAgICBzYWZlbHlSZXNvbHZlVGhlbmFibGUoc2VsZiwgdGhlbmFibGUpO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuc3RhdGUgPSBGVUxGSUxMRUQ7XG4gICAgc2VsZi5vdXRjb21lID0gdmFsdWU7XG4gICAgdmFyIGkgPSAtMTtcbiAgICB2YXIgbGVuID0gc2VsZi5xdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgc2VsZi5xdWV1ZVtpXS5jYWxsRnVsZmlsbGVkKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59O1xuaGFuZGxlcnMucmVqZWN0ID0gZnVuY3Rpb24gKHNlbGYsIGVycm9yKSB7XG4gIHNlbGYuc3RhdGUgPSBSRUpFQ1RFRDtcbiAgc2VsZi5vdXRjb21lID0gZXJyb3I7XG4gIHZhciBpID0gLTE7XG4gIHZhciBsZW4gPSBzZWxmLnF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIHNlbGYucXVldWVbaV0uY2FsbFJlamVjdGVkKGVycm9yKTtcbiAgfVxuICByZXR1cm4gc2VsZjtcbn07XG5cbmZ1bmN0aW9uIGdldFRoZW4ob2JqKSB7XG4gIC8vIE1ha2Ugc3VyZSB3ZSBvbmx5IGFjY2VzcyB0aGUgYWNjZXNzb3Igb25jZSBhcyByZXF1aXJlZCBieSB0aGUgc3BlY1xuICB2YXIgdGhlbiA9IG9iaiAmJiBvYmoudGhlbjtcbiAgaWYgKG9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYXBweVRoZW4oKSB7XG4gICAgICB0aGVuLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSkge1xuICAvLyBFaXRoZXIgZnVsZmlsbCwgcmVqZWN0IG9yIHJlamVjdCB3aXRoIGVycm9yXG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25FcnJvcih2YWx1ZSkge1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBoYW5kbGVycy5yZWplY3Qoc2VsZiwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TdWNjZXNzKHZhbHVlKSB7XG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGhhbmRsZXJzLnJlc29sdmUoc2VsZiwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5VG9VbndyYXAoKSB7XG4gICAgdGhlbmFibGUob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0cnlUb1Vud3JhcCk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgb25FcnJvcihyZXN1bHQudmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGZ1bmMsIHZhbHVlKSB7XG4gIHZhciBvdXQgPSB7fTtcbiAgdHJ5IHtcbiAgICBvdXQudmFsdWUgPSBmdW5jKHZhbHVlKTtcbiAgICBvdXQuc3RhdHVzID0gJ3N1Y2Nlc3MnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgb3V0LnN0YXR1cyA9ICdlcnJvcic7XG4gICAgb3V0LnZhbHVlID0gZTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5Qcm9taXNlLnJlc29sdmUgPSByZXNvbHZlO1xuZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiB0aGlzKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBoYW5kbGVycy5yZXNvbHZlKG5ldyB0aGlzKElOVEVSTkFMKSwgdmFsdWUpO1xufVxuXG5Qcm9taXNlLnJlamVjdCA9IHJlamVjdDtcbmZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgdmFyIHByb21pc2UgPSBuZXcgdGhpcyhJTlRFUk5BTCk7XG4gIHJldHVybiBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbn1cblxuUHJvbWlzZS5hbGwgPSBhbGw7XG5mdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgIHJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCdtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG5cbiAgdmFyIGxlbiA9IGl0ZXJhYmxlLmxlbmd0aDtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmUoW10pO1xuICB9XG5cbiAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICB2YXIgcmVzb2x2ZWQgPSAwO1xuICB2YXIgaSA9IC0xO1xuICB2YXIgcHJvbWlzZSA9IG5ldyB0aGlzKElOVEVSTkFMKTtcblxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgYWxsUmVzb2x2ZXIoaXRlcmFibGVbaV0sIGkpO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xuICBmdW5jdGlvbiBhbGxSZXNvbHZlcih2YWx1ZSwgaSkge1xuICAgIHNlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlRnJvbUFsbCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHJlc29sdmVGcm9tQWxsKG91dFZhbHVlKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvdXRWYWx1ZTtcbiAgICAgIGlmICgrK3Jlc29sdmVkID09PSBsZW4gJiYgIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZXNvbHZlKHByb21pc2UsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblByb21pc2UucmFjZSA9IHJhY2U7XG5mdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyYWJsZSkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICByZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcignbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgfVxuXG4gIHZhciBsZW4gPSBpdGVyYWJsZS5sZW5ndGg7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgaWYgKCFsZW4pIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIHZhciBpID0gLTE7XG4gIHZhciBwcm9taXNlID0gbmV3IHRoaXMoSU5URVJOQUwpO1xuXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICByZXNvbHZlcihpdGVyYWJsZVtpXSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG4gIGZ1bmN0aW9uIHJlc29sdmVyKHZhbHVlKSB7XG4gICAgc2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLCByZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbn0se1wiMVwiOjF9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcbmlmICh0eXBlb2YgZ2xvYmFsLlByb21pc2UgIT09ICdmdW5jdGlvbicpIHtcbiAgZ2xvYmFsLlByb21pc2UgPSBfZGVyZXFfKDIpO1xufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se1wiMlwiOjJ9XSw0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBnZXRJREIoKSB7XG4gICAgLyogZ2xvYmFsIGluZGV4ZWREQix3ZWJraXRJbmRleGVkREIsbW96SW5kZXhlZERCLE9JbmRleGVkREIsbXNJbmRleGVkREIgKi9cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleGVkREI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB3ZWJraXRJbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gd2Via2l0SW5kZXhlZERCO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbW96SW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG1vekluZGV4ZWREQjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIE9JbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gT0luZGV4ZWREQjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG1zSW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG1zSW5kZXhlZERCO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG52YXIgaWRiID0gZ2V0SURCKCk7XG5cbmZ1bmN0aW9uIGlzSW5kZXhlZERCVmFsaWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBJbmRleGVkREI7IGZhbGwgYmFjayB0byB2ZW5kb3ItcHJlZml4ZWQgdmVyc2lvbnNcbiAgICAgICAgLy8gaWYgbmVlZGVkLlxuICAgICAgICBpZiAoIWlkYiB8fCAhaWRiLm9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtaW1pYyBQb3VjaERCIGhlcmU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIHRlc3QgZm9yIG9wZW5EYXRhYmFzZSBiZWNhdXNlIElFIE1vYmlsZSBpZGVudGlmaWVzIGl0c2VsZlxuICAgICAgICAvLyBhcyBTYWZhcmkuIE9oIHRoZSBsdWx6Li4uXG4gICAgICAgIHZhciBpc1NhZmFyaSA9IHR5cGVvZiBvcGVuRGF0YWJhc2UgIT09ICd1bmRlZmluZWQnICYmIC8oU2FmYXJpfGlQaG9uZXxpUGFkfGlQb2QpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvQmxhY2tCZXJyeS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG4gICAgICAgIHZhciBoYXNGZXRjaCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiBmZXRjaC50b1N0cmluZygpLmluZGV4T2YoJ1tuYXRpdmUgY29kZScpICE9PSAtMTtcblxuICAgICAgICAvLyBTYWZhcmkgPDEwLjEgZG9lcyBub3QgbWVldCBvdXIgcmVxdWlyZW1lbnRzIGZvciBJREIgc3VwcG9ydFxuICAgICAgICAvLyAoc2VlOiBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy81NTcyKS5cbiAgICAgICAgLy8gU2FmYXJpIDEwLjEgc2hpcHBlZCB3aXRoIGZldGNoLCB3ZSBjYW4gdXNlIHRoYXQgdG8gZGV0ZWN0IGl0LlxuICAgICAgICAvLyBOb3RlOiB0aGlzIGNyZWF0ZXMgaXNzdWVzIHdpdGggYHdpbmRvdy5mZXRjaGAgcG9seWZpbGxzIGFuZFxuICAgICAgICAvLyBvdmVycmlkZXM7IHNlZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xvY2FsRm9yYWdlL2xvY2FsRm9yYWdlL2lzc3Vlcy84NTZcbiAgICAgICAgcmV0dXJuICghaXNTYWZhcmkgfHwgaGFzRmV0Y2gpICYmIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC8vIHNvbWUgb3V0ZGF0ZWQgaW1wbGVtZW50YXRpb25zIG9mIElEQiB0aGF0IGFwcGVhciBvbiBTYW1zdW5nXG4gICAgICAgIC8vIGFuZCBIVEMgQW5kcm9pZCBkZXZpY2VzIDw0LjQgYXJlIG1pc3NpbmcgSURCS2V5UmFuZ2VcbiAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTI4XG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvaXNzdWVzLzI3MlxuICAgICAgICB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yLiAoaS5lLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBhdCBsZWFzdCkuXG4vLyBBYnN0cmFjdHMgY29uc3RydWN0aW5nIGEgQmxvYiBvYmplY3QsIHNvIGl0IGFsc28gd29ya3MgaW4gb2xkZXJcbi8vIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgbmF0aXZlIEJsb2IgY29uc3RydWN0b3IuIChpLmUuXG4vLyBvbGQgUXRXZWJLaXQgdmVyc2lvbnMsIGF0IGxlYXN0KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgICAvKiBnbG9iYWwgQmxvYkJ1aWxkZXIsTVNCbG9iQnVpbGRlcixNb3pCbG9iQnVpbGRlcixXZWJLaXRCbG9iQnVpbGRlciAqL1xuICAgIHBhcnRzID0gcGFydHMgfHwgW107XG4gICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgIT09ICdUeXBlRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDogdHlwZW9mIE1TQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTVNCbG9iQnVpbGRlciA6IHR5cGVvZiBNb3pCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNb3pCbG9iQnVpbGRlciA6IFdlYktpdEJsb2JCdWlsZGVyO1xuICAgICAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHByb3BlcnRpZXMudHlwZSk7XG4gICAgfVxufVxuXG4vLyBUaGlzIGlzIENvbW1vbkpTIGJlY2F1c2UgbGllIGlzIGFuIGV4dGVybmFsIGRlcGVuZGVuY3ksIHNvIFJvbGx1cFxuLy8gY2FuIGp1c3QgaWdub3JlIGl0LlxuaWYgKHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEluIHRoZSBcIm5vcHJvbWlzZXNcIiBidWlsZCB0aGlzIHdpbGwganVzdCB0aHJvdyBpZiB5b3UgZG9uJ3QgaGF2ZVxuICAgIC8vIGEgZ2xvYmFsIHByb21pc2Ugb2JqZWN0LCBidXQgaXQgd291bGQgdGhyb3cgYW55d2F5IGxhdGVyLlxuICAgIF9kZXJlcV8oMyk7XG59XG52YXIgUHJvbWlzZSQxID0gUHJvbWlzZTtcblxuZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9taXNlLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXJyb3JDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9taXNlW1wiY2F0Y2hcIl0oZXJyb3JDYWxsYmFjayk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGdldENhbGxiYWNrKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIHR5cGVvZiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbn1cblxuLy8gU29tZSBjb2RlIG9yaWdpbmFsbHkgZnJvbSBhc3luY19zdG9yYWdlLmpzIGluXG4vLyBbR2FpYV0oaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEtYjJnL2dhaWEpLlxuXG52YXIgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSA9ICdsb2NhbC1mb3JhZ2UtZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG52YXIgc3VwcG9ydHNCbG9icyA9IHZvaWQgMDtcbnZhciBkYkNvbnRleHRzID0ge307XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vLyBUcmFuc2FjdGlvbiBNb2Rlc1xudmFyIFJFQURfT05MWSA9ICdyZWFkb25seSc7XG52YXIgUkVBRF9XUklURSA9ICdyZWFkd3JpdGUnO1xuXG4vLyBUcmFuc2Zvcm0gYSBiaW5hcnkgc3RyaW5nIHRvIGFuIGFycmF5IGJ1ZmZlciwgYmVjYXVzZSBvdGhlcndpc2Vcbi8vIHdlaXJkIHN0dWZmIGhhcHBlbnMgd2hlbiB5b3UgdHJ5IHRvIHdvcmsgd2l0aCB0aGUgYmluYXJ5IHN0cmluZyBkaXJlY3RseS5cbi8vIEl0IGlzIGtub3duLlxuLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTY3NjQ3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vIGVuY29kZS1kZWNvZGUtaW1hZ2Utd2l0aC1iYXNlNjQtYnJlYWtzLWltYWdlICgyMDEzLTA0LTIxKVxuZnVuY3Rpb24gX2JpblN0cmluZ1RvQXJyYXlCdWZmZXIoYmluKSB7XG4gICAgdmFyIGxlbmd0aCA9IGJpbi5sZW5ndGg7XG4gICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG59XG5cbi8vXG4vLyBCbG9icyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhbGwgdmVyc2lvbnMgb2YgSW5kZXhlZERCLCBub3RhYmx5XG4vLyBDaHJvbWUgPDM3IGFuZCBBbmRyb2lkIDw1LiBJbiB0aG9zZSB2ZXJzaW9ucywgc3RvcmluZyBhIGJsb2Igd2lsbCB0aHJvdy5cbi8vXG4vLyBWYXJpb3VzIG90aGVyIGJsb2IgYnVncyBleGlzdCBpbiBDaHJvbWUgdjM3LTQyIChpbmNsdXNpdmUpLlxuLy8gRGV0ZWN0aW5nIHRoZW0gaXMgZXhwZW5zaXZlIGFuZCBjb25mdXNpbmcgdG8gdXNlcnMsIGFuZCBDaHJvbWUgMzctNDJcbi8vIGlzIGF0IHZlcnkgbG93IHVzYWdlIHdvcmxkd2lkZSwgc28gd2UgZG8gYSBoYWNreSB1c2VyQWdlbnQgY2hlY2sgaW5zdGVhZC5cbi8vXG4vLyBjb250ZW50LXR5cGUgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDA4MTIwXG4vLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG4vLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuLy9cbi8vIENvZGUgYm9ycm93ZWQgZnJvbSBQb3VjaERCLiBTZWU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL25vZGVfbW9kdWxlcy9wb3VjaGRiLWFkYXB0ZXItaWRiL3NyYy9ibG9iU3VwcG9ydC5qc1xuLy9cbmZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmcoaWRiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgdmFyIHR4biA9IGlkYi50cmFuc2FjdGlvbihERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFLCBSRUFEX1dSSVRFKTtcbiAgICAgICAgdmFyIGJsb2IgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgICAgICB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IsICdrZXknKTtcblxuICAgICAgICB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gYWJvcnRzIG5vdyBpdHMgZHVlIHRvIG5vdCBiZWluZyBhYmxlIHRvXG4gICAgICAgICAgICAvLyB3cml0ZSB0byB0aGUgZGF0YWJhc2UsIGxpa2VseSBkdWUgdG8gdGhlIGRpc2sgYmVpbmcgZnVsbFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZWRDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVkRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8vKTtcbiAgICAgICAgICAgIC8vIE1TIEVkZ2UgcHJldGVuZHMgdG8gYmUgQ2hyb21lIDQyOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg2OTMwMSUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgICAgICAgcmVzb2x2ZShtYXRjaGVkRWRnZSB8fCAhbWF0Y2hlZENocm9tZSB8fCBwYXJzZUludChtYXRjaGVkQ2hyb21lWzFdLCAxMCkgPj0gNDMpO1xuICAgICAgICB9O1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2NoZWNrQmxvYlN1cHBvcnQoaWRiKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0Jsb2JzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKHN1cHBvcnRzQmxvYnMpO1xuICAgIH1cbiAgICByZXR1cm4gX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyhpZGIpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHN1cHBvcnRzQmxvYnMgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzQmxvYnM7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIF9kZWZlclJlYWRpbmVzcyhkYkluZm8pIHtcbiAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG5cbiAgICAvLyBDcmVhdGUgYSBkZWZlcnJlZCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGFiYXNlIG9wZXJhdGlvbi5cbiAgICB2YXIgZGVmZXJyZWRPcGVyYXRpb24gPSB7fTtcblxuICAgIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZGVmZXJyZWRPcGVyYXRpb24ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIGRlZmVycmVkT3BlcmF0aW9uLnJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIC8vIEVucXVldWUgdGhlIGRlZmVycmVkIG9wZXJhdGlvbi5cbiAgICBkYkNvbnRleHQuZGVmZXJyZWRPcGVyYXRpb25zLnB1c2goZGVmZXJyZWRPcGVyYXRpb24pO1xuXG4gICAgLy8gQ2hhaW4gaXRzIHByb21pc2UgdG8gdGhlIGRhdGFiYXNlIHJlYWRpbmVzcy5cbiAgICBpZiAoIWRiQ29udGV4dC5kYlJlYWR5KSB7XG4gICAgICAgIGRiQ29udGV4dC5kYlJlYWR5ID0gZGVmZXJyZWRPcGVyYXRpb24ucHJvbWlzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkYkNvbnRleHQuZGJSZWFkeSA9IGRiQ29udGV4dC5kYlJlYWR5LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX2FkdmFuY2VSZWFkaW5lc3MoZGJJbmZvKSB7XG4gICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdO1xuXG4gICAgLy8gRGVxdWV1ZSBhIGRlZmVycmVkIG9wZXJhdGlvbi5cbiAgICB2YXIgZGVmZXJyZWRPcGVyYXRpb24gPSBkYkNvbnRleHQuZGVmZXJyZWRPcGVyYXRpb25zLnBvcCgpO1xuXG4gICAgLy8gUmVzb2x2ZSBpdHMgcHJvbWlzZSAod2hpY2ggaXMgcGFydCBvZiB0aGUgZGF0YWJhc2UgcmVhZGluZXNzXG4gICAgLy8gY2hhaW4gb2YgcHJvbWlzZXMpLlxuICAgIGlmIChkZWZlcnJlZE9wZXJhdGlvbikge1xuICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbi5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZE9wZXJhdGlvbi5wcm9taXNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX3JlamVjdFJlYWRpbmVzcyhkYkluZm8sIGVycikge1xuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcblxuICAgIC8vIERlcXVldWUgYSBkZWZlcnJlZCBvcGVyYXRpb24uXG4gICAgdmFyIGRlZmVycmVkT3BlcmF0aW9uID0gZGJDb250ZXh0LmRlZmVycmVkT3BlcmF0aW9ucy5wb3AoKTtcblxuICAgIC8vIFJlamVjdCBpdHMgcHJvbWlzZSAod2hpY2ggaXMgcGFydCBvZiB0aGUgZGF0YWJhc2UgcmVhZGluZXNzXG4gICAgLy8gY2hhaW4gb2YgcHJvbWlzZXMpLlxuICAgIGlmIChkZWZlcnJlZE9wZXJhdGlvbikge1xuICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbi5yZWplY3QoZXJyKTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIHVwZ3JhZGVOZWVkZWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV0gfHwgY3JlYXRlRGJDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGRiSW5mby5kYikge1xuICAgICAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICBfZGVmZXJSZWFkaW5lc3MoZGJJbmZvKTtcbiAgICAgICAgICAgICAgICBkYkluZm8uZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGJJbmZvLmRiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYkFyZ3MgPSBbZGJJbmZvLm5hbWVdO1xuXG4gICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG4gICAgICAgICAgICBkYkFyZ3MucHVzaChkYkluZm8udmVyc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3BlbnJlcSA9IGlkYi5vcGVuLmFwcGx5KGlkYiwgZGJBcmdzKTtcblxuICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuICAgICAgICAgICAgb3BlbnJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYiA9IG9wZW5yZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5vbGRWZXJzaW9uIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZGVkIHdoZW4gc3VwcG9ydCBmb3IgYmxvYiBzaGltcyB3YXMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09ICdDb25zdHJhaW50RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBcIicgKyBkYkluZm8ubmFtZSArICdcIicgKyAnIGhhcyBiZWVuIHVwZ3JhZGVkIGZyb20gdmVyc2lvbiAnICsgZS5vbGRWZXJzaW9uICsgJyB0byB2ZXJzaW9uICcgKyBlLm5ld1ZlcnNpb24gKyAnLCBidXQgdGhlIHN0b3JhZ2UgXCInICsgZGJJbmZvLnN0b3JlTmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wZW5yZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZWplY3Qob3BlbnJlcS5lcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgb3BlbnJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGIgPSBvcGVucmVxLnJlc3VsdDtcbiAgICAgICAgICAgIGRiLm9udmVyc2lvbmNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIGRhdGFiYXNlIGlzIG1vZGlmaWVkIChlLmcuIGFkZGluZyBhbiBvYmplY3RTdG9yZSkgb3JcbiAgICAgICAgICAgICAgICAvLyBkZWxldGVkIChldmVuIHdoZW4gaW5pdGlhdGVkIGJ5IG90aGVyIHNlc3Npb25zIGluIGRpZmZlcmVudCB0YWJzKS5cbiAgICAgICAgICAgICAgICAvLyBDbG9zaW5nIHRoZSBjb25uZWN0aW9uIGhlcmUgcHJldmVudHMgdGhvc2Ugb3BlcmF0aW9ucyBmcm9tIGJlaW5nIGJsb2NrZWQuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRhdGFiYXNlIGlzIGFjY2Vzc2VkIGFnYWluIGxhdGVyIGJ5IHRoaXMgaW5zdGFuY2UsIHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSByZW9wZW5lZCBvciB0aGUgZGF0YWJhc2UgcmVjcmVhdGVkIGFzIG5lZWRlZC5cbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbG9zZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmUoZGIpO1xuICAgICAgICAgICAgX2FkdmFuY2VSZWFkaW5lc3MoZGJJbmZvKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2dldE9yaWdpbmFsQ29ubmVjdGlvbihkYkluZm8pIHtcbiAgICByZXR1cm4gX2dldENvbm5lY3Rpb24oZGJJbmZvLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIF9nZXRVcGdyYWRlZENvbm5lY3Rpb24oZGJJbmZvKSB7XG4gICAgcmV0dXJuIF9nZXRDb25uZWN0aW9uKGRiSW5mbywgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIF9pc1VwZ3JhZGVOZWVkZWQoZGJJbmZvLCBkZWZhdWx0VmVyc2lvbikge1xuICAgIGlmICghZGJJbmZvLmRiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpc05ld1N0b3JlID0gIWRiSW5mby5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKGRiSW5mby5zdG9yZU5hbWUpO1xuICAgIHZhciBpc0Rvd25ncmFkZSA9IGRiSW5mby52ZXJzaW9uIDwgZGJJbmZvLmRiLnZlcnNpb247XG4gICAgdmFyIGlzVXBncmFkZSA9IGRiSW5mby52ZXJzaW9uID4gZGJJbmZvLmRiLnZlcnNpb247XG5cbiAgICBpZiAoaXNEb3duZ3JhZGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHZlcnNpb24gaXMgbm90IHRoZSBkZWZhdWx0IG9uZVxuICAgICAgICAvLyB0aGVuIHdhcm4gZm9yIGltcG9zc2libGUgZG93bmdyYWRlLlxuICAgICAgICBpZiAoZGJJbmZvLnZlcnNpb24gIT09IGRlZmF1bHRWZXJzaW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBcIicgKyBkYkluZm8ubmFtZSArICdcIicgKyBcIiBjYW4ndCBiZSBkb3duZ3JhZGVkIGZyb20gdmVyc2lvbiBcIiArIGRiSW5mby5kYi52ZXJzaW9uICsgJyB0byB2ZXJzaW9uICcgKyBkYkluZm8udmVyc2lvbiArICcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxpZ24gdGhlIHZlcnNpb25zIHRvIHByZXZlbnQgZXJyb3JzLlxuICAgICAgICBkYkluZm8udmVyc2lvbiA9IGRiSW5mby5kYi52ZXJzaW9uO1xuICAgIH1cblxuICAgIGlmIChpc1VwZ3JhZGUgfHwgaXNOZXdTdG9yZSkge1xuICAgICAgICAvLyBJZiB0aGUgc3RvcmUgaXMgbmV3IHRoZW4gaW5jcmVtZW50IHRoZSB2ZXJzaW9uIChpZiBuZWVkZWQpLlxuICAgICAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhbiBcInVwZ3JhZGVuZWVkZWRcIiBldmVudCB3aGljaCBpcyByZXF1aXJlZFxuICAgICAgICAvLyBmb3IgY3JlYXRpbmcgYSBzdG9yZS5cbiAgICAgICAgaWYgKGlzTmV3U3RvcmUpIHtcbiAgICAgICAgICAgIHZhciBpbmNWZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb24gKyAxO1xuICAgICAgICAgICAgaWYgKGluY1ZlcnNpb24gPiBkYkluZm8udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGRiSW5mby52ZXJzaW9uID0gaW5jVmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gZW5jb2RlIGEgYmxvYiBmb3IgaW5kZXhlZGRiIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0IGJsb2JzXG5mdW5jdGlvbiBfZW5jb2RlQmxvYihibG9iKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJ0b2EoZS50YXJnZXQucmVzdWx0IHx8ICcnKTtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgIF9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgICAgICAgICAgdHlwZTogYmxvYi50eXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbiAgICB9KTtcbn1cblxuLy8gZGVjb2RlIGFuIGVuY29kZWQgYmxvYlxuZnVuY3Rpb24gX2RlY29kZUJsb2IoZW5jb2RlZEJsb2IpIHtcbiAgICB2YXIgYXJyYXlCdWZmID0gX2JpblN0cmluZ1RvQXJyYXlCdWZmZXIoYXRvYihlbmNvZGVkQmxvYi5kYXRhKSk7XG4gICAgcmV0dXJuIGNyZWF0ZUJsb2IoW2FycmF5QnVmZl0sIHsgdHlwZTogZW5jb2RlZEJsb2IudHlwZSB9KTtcbn1cblxuLy8gaXMgdGhpcyBvbmUgb2Ygb3VyIGZhbmN5IGVuY29kZWQgYmxvYnM/XG5mdW5jdGlvbiBfaXNFbmNvZGVkQmxvYih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX2xvY2FsX2ZvcmFnZV9lbmNvZGVkX2Jsb2I7XG59XG5cbi8vIFNwZWNpYWxpemUgdGhlIGRlZmF1bHQgYHJlYWR5KClgIGZ1bmN0aW9uIGJ5IG1ha2luZyBpdCBkZXBlbmRlbnRcbi8vIG9uIHRoZSBjdXJyZW50IGRhdGFiYXNlIG9wZXJhdGlvbnMuIFRodXMsIHRoZSBkcml2ZXIgd2lsbCBiZSBhY3R1YWxseVxuLy8gcmVhZHkgd2hlbiBpdCdzIGJlZW4gaW5pdGlhbGl6ZWQgKGRlZmF1bHQpICphbmQqIHRoZXJlIGFyZSBubyBwZW5kaW5nXG4vLyBvcGVyYXRpb25zIG9uIHRoZSBkYXRhYmFzZSAoaW5pdGlhdGVkIGJ5IHNvbWUgb3RoZXIgaW5zdGFuY2VzKS5cbmZ1bmN0aW9uIF9mdWxseVJlYWR5KGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLl9pbml0UmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbc2VsZi5fZGJJbmZvLm5hbWVdO1xuXG4gICAgICAgIGlmIChkYkNvbnRleHQgJiYgZGJDb250ZXh0LmRiUmVhZHkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYkNvbnRleHQuZGJSZWFkeTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhwcm9taXNlLCBjYWxsYmFjaywgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBUcnkgdG8gZXN0YWJsaXNoIGEgbmV3IGRiIGNvbm5lY3Rpb24gdG8gcmVwbGFjZSB0aGVcbi8vIGN1cnJlbnQgb25lIHdoaWNoIGlzIGJyb2tlbiAoaS5lLiBleHBlcmllbmNpbmdcbi8vIEludmFsaWRTdGF0ZUVycm9yIHdoaWxlIGNyZWF0aW5nIGEgdHJhbnNhY3Rpb24pLlxuZnVuY3Rpb24gX3RyeVJlY29ubmVjdChkYkluZm8pIHtcbiAgICBfZGVmZXJSZWFkaW5lc3MoZGJJbmZvKTtcblxuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcbiAgICB2YXIgZm9yYWdlcyA9IGRiQ29udGV4dC5mb3JhZ2VzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmb3JhZ2UgPSBmb3JhZ2VzW2ldO1xuICAgICAgICBpZiAoZm9yYWdlLl9kYkluZm8uZGIpIHtcbiAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLmRiLmNsb3NlKCk7XG4gICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby5kYiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGJJbmZvLmRiID0gbnVsbDtcblxuICAgIHJldHVybiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbykudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgZGJJbmZvLmRiID0gZGI7XG4gICAgICAgIGlmIChfaXNVcGdyYWRlTmVlZGVkKGRiSW5mbykpIHtcbiAgICAgICAgICAgIC8vIFJlb3BlbiB0aGUgZGF0YWJhc2UgZm9yIHVwZ3JhZGluZy5cbiAgICAgICAgICAgIHJldHVybiBfZ2V0VXBncmFkZWRDb25uZWN0aW9uKGRiSW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRiO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIC8vIHN0b3JlIHRoZSBsYXRlc3QgZGIgcmVmZXJlbmNlXG4gICAgICAgIC8vIGluIGNhc2UgdGhlIGRiIHdhcyB1cGdyYWRlZFxuICAgICAgICBkYkluZm8uZGIgPSBkYkNvbnRleHQuZGIgPSBkYjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3JhZ2VzW2ldLl9kYkluZm8uZGIgPSBkYjtcbiAgICAgICAgfVxuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfcmVqZWN0UmVhZGluZXNzKGRiSW5mbywgZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xufVxuXG4vLyBGRiBkb2Vzbid0IGxpa2UgUHJvbWlzZXMgKG1pY3JvLXRhc2tzKSBhbmQgSUREQiBzdG9yZSBvcGVyYXRpb25zLFxuLy8gc28gd2UgaGF2ZSB0byBkbyBpdCB3aXRoIGNhbGxiYWNrc1xuZnVuY3Rpb24gY3JlYXRlVHJhbnNhY3Rpb24oZGJJbmZvLCBtb2RlLCBjYWxsYmFjaywgcmV0cmllcykge1xuICAgIGlmIChyZXRyaWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0cmllcyA9IDE7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHR4ID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsIG1vZGUpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCB0eCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChyZXRyaWVzID4gMCAmJiAoIWRiSW5mby5kYiB8fCBlcnIubmFtZSA9PT0gJ0ludmFsaWRTdGF0ZUVycm9yJyB8fCBlcnIubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYkluZm8uZGIgfHwgZXJyLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJyAmJiAhZGJJbmZvLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoZGJJbmZvLnN0b3JlTmFtZSkgJiYgZGJJbmZvLnZlcnNpb24gPD0gZGJJbmZvLmRiLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgdGhlIGRiIHZlcnNpb24sIHRvIGNyZWF0ZSB0aGUgbmV3IE9iamVjdFN0b3JlXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYkluZm8uZGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiSW5mby52ZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb24gKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlb3BlbiB0aGUgZGF0YWJhc2UgZm9yIHVwZ3JhZGluZy5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRVcGdyYWRlZENvbm5lY3Rpb24oZGJJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RyeVJlY29ubmVjdChkYkluZm8pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihkYkluZm8sIG1vZGUsIGNhbGxiYWNrLCByZXRyaWVzIC0gMSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVtcImNhdGNoXCJdKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEYkNvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gUnVubmluZyBsb2NhbEZvcmFnZXMgc2hhcmluZyBhIGRhdGFiYXNlLlxuICAgICAgICBmb3JhZ2VzOiBbXSxcbiAgICAgICAgLy8gU2hhcmVkIGRhdGFiYXNlLlxuICAgICAgICBkYjogbnVsbCxcbiAgICAgICAgLy8gRGF0YWJhc2UgcmVhZGluZXNzIChwcm9taXNlKS5cbiAgICAgICAgZGJSZWFkeTogbnVsbCxcbiAgICAgICAgLy8gRGVmZXJyZWQgb3BlcmF0aW9ucyBvbiB0aGUgZGF0YWJhc2UuXG4gICAgICAgIGRlZmVycmVkT3BlcmF0aW9uczogW11cbiAgICB9O1xufVxuXG4vLyBPcGVuIHRoZSBJbmRleGVkREIgZGF0YWJhc2UgKGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBvbmUgaWYgb25lIGRpZG4ndFxuLy8gcHJldmlvdXNseSBleGlzdCksIHVzaW5nIGFueSBvcHRpb25zIHNldCBpbiB0aGUgY29uZmlnLlxuZnVuY3Rpb24gX2luaXRTdG9yYWdlKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRiSW5mbyA9IHtcbiAgICAgICAgZGI6IG51bGxcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBkYkluZm9baV0gPSBvcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbnRleHQgb2YgdGhlIGRhdGFiYXNlO1xuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcblxuICAgIC8vIC4uLm9yIGNyZWF0ZSBhIG5ldyBjb250ZXh0LlxuICAgIGlmICghZGJDb250ZXh0KSB7XG4gICAgICAgIGRiQ29udGV4dCA9IGNyZWF0ZURiQ29udGV4dCgpO1xuICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbnRleHQgaW4gdGhlIGdsb2JhbCBjb250YWluZXIuXG4gICAgICAgIGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdID0gZGJDb250ZXh0O1xuICAgIH1cblxuICAgIC8vIFJlZ2lzdGVyIGl0c2VsZiBhcyBhIHJ1bm5pbmcgbG9jYWxGb3JhZ2UgaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICBkYkNvbnRleHQuZm9yYWdlcy5wdXNoKHNlbGYpO1xuXG4gICAgLy8gUmVwbGFjZSB0aGUgZGVmYXVsdCBgcmVhZHkoKWAgZnVuY3Rpb24gd2l0aCB0aGUgc3BlY2lhbGl6ZWQgb25lLlxuICAgIGlmICghc2VsZi5faW5pdFJlYWR5KSB7XG4gICAgICAgIHNlbGYuX2luaXRSZWFkeSA9IHNlbGYucmVhZHk7XG4gICAgICAgIHNlbGYucmVhZHkgPSBfZnVsbHlSZWFkeTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW4gYXJyYXkgb2YgaW5pdGlhbGl6YXRpb24gc3RhdGVzIG9mIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcy5cbiAgICB2YXIgaW5pdFByb21pc2VzID0gW107XG5cbiAgICBmdW5jdGlvbiBpZ25vcmVFcnJvcnMoKSB7XG4gICAgICAgIC8vIERvbid0IGhhbmRsZSBlcnJvcnMgaGVyZSxcbiAgICAgICAgLy8ganVzdCBtYWtlcyBzdXJlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzIGFyZW4ndCBwZW5kaW5nLlxuICAgICAgICByZXR1cm4gUHJvbWlzZSQxLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRiQ29udGV4dC5mb3JhZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBmb3JhZ2UgPSBkYkNvbnRleHQuZm9yYWdlc1tqXTtcbiAgICAgICAgaWYgKGZvcmFnZSAhPT0gc2VsZikge1xuICAgICAgICAgICAgLy8gRG9uJ3Qgd2FpdCBmb3IgaXRzZWxmLi4uXG4gICAgICAgICAgICBpbml0UHJvbWlzZXMucHVzaChmb3JhZ2UuX2luaXRSZWFkeSgpW1wiY2F0Y2hcIl0oaWdub3JlRXJyb3JzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUYWtlIGEgc25hcHNob3Qgb2YgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXMuc2xpY2UoMCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBjb25uZWN0aW9uIHByb2Nlc3Mgb25seSB3aGVuXG4gICAgLy8gYWxsIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcyBhcmVuJ3QgcGVuZGluZy5cbiAgICByZXR1cm4gUHJvbWlzZSQxLmFsbChpbml0UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBkYkluZm8uZGIgPSBkYkNvbnRleHQuZGI7XG4gICAgICAgIC8vIEdldCB0aGUgY29ubmVjdGlvbiBvciBvcGVuIGEgbmV3IG9uZSB3aXRob3V0IHVwZ3JhZGUuXG4gICAgICAgIHJldHVybiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgZGJJbmZvLmRiID0gZGI7XG4gICAgICAgIGlmIChfaXNVcGdyYWRlTmVlZGVkKGRiSW5mbywgc2VsZi5fZGVmYXVsdENvbmZpZy52ZXJzaW9uKSkge1xuICAgICAgICAgICAgLy8gUmVvcGVuIHRoZSBkYXRhYmFzZSBmb3IgdXBncmFkaW5nLlxuICAgICAgICAgICAgcmV0dXJuIF9nZXRVcGdyYWRlZENvbm5lY3Rpb24oZGJJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGI7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgZGJJbmZvLmRiID0gZGJDb250ZXh0LmRiID0gZGI7XG4gICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcbiAgICAgICAgLy8gU2hhcmUgdGhlIGZpbmFsIGNvbm5lY3Rpb24gYW1vbmdzdCByZWxhdGVkIGxvY2FsRm9yYWdlcy5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBmb3JhZ2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgZm9yYWdlID0gZm9yYWdlc1trXTtcbiAgICAgICAgICAgIGlmIChmb3JhZ2UgIT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxmIGlzIGFscmVhZHkgdXAtdG8tZGF0ZS5cbiAgICAgICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby5kYiA9IGRiSW5mby5kYjtcbiAgICAgICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby52ZXJzaW9uID0gZGJJbmZvLnZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0SXRlbShrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfT05MWSwgZnVuY3Rpb24gKGVyciwgdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzZWxmLl9kYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmdldChrZXkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lzRW5jb2RlZEJsb2IodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfZGVjb2RlQmxvYih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBJdGVyYXRlIG92ZXIgYWxsIGl0ZW1zIHN0b3JlZCBpbiBkYXRhYmFzZS5cbmZ1bmN0aW9uIGl0ZXJhdGUoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlVHJhbnNhY3Rpb24oc2VsZi5fZGJJbmZvLCBSRUFEX09OTFksIGZ1bmN0aW9uIChlcnIsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc2VsZi5fZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lzRW5jb2RlZEJsb2IodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2RlY29kZUJsb2IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IodmFsdWUsIGN1cnNvci5rZXksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGl0ZXJhdG9yIGNhbGxiYWNrIHJldHVybnMgYW55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKG5vbi1gdW5kZWZpbmVkYCkgdmFsdWUsIHRoZW4gd2Ugc3RvcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpdGVyYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcltcImNvbnRpbnVlXCJdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZGJJbmZvO1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBpZiAodG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJsb2JdJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydChkYkluZm8uZGIpLnRoZW4oZnVuY3Rpb24gKGJsb2JTdXBwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9iU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZW5jb2RlQmxvYih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfV1JJVEUsIGZ1bmN0aW9uIChlcnIsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc2VsZi5fZGJJbmZvLnN0b3JlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlYXNvbiB3ZSBkb24ndCBfc2F2ZV8gbnVsbCBpcyBiZWNhdXNlIElFIDEwIGRvZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IHN1cHBvcnQgc2F2aW5nIHRoZSBgbnVsbGAgdHlwZSBpbiBJbmRleGVkREIuIEhvd1xuICAgICAgICAgICAgICAgICAgICAvLyBpcm9uaWMsIGdpdmVuIHRoZSBidWcgYmVsb3chXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvaXNzdWVzLzE2MVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FzdCB0byB1bmRlZmluZWQgc28gdGhlIHZhbHVlIHBhc3NlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2svcHJvbWlzZSBpcyB0aGUgc2FtZSBhcyB3aGF0IG9uZSB3b3VsZCBnZXQgb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBgZ2V0SXRlbSgpYCBsYXRlci4gVGhpcyBsZWFkcyB0byBzb21lIHdlaXJkbmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKHNldEl0ZW0oJ2ZvbycsIHVuZGVmaW5lZCkgd2lsbCByZXR1cm4gYG51bGxgKSwgYnV0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBteSBmYXVsdCBsb2NhbFN0b3JhZ2UgaXMgb3VyIGJhc2VsaW5lIGFuZCB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHdlaXJkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmFib3J0ID0gdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfV1JJVEUsIGZ1bmN0aW9uIChlcnIsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc2VsZi5fZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSBhIEdydW50IHRhc2sgdG8gbWFrZSB0aGlzIHNhZmUgZm9yIElFIGFuZCBzb21lXG4gICAgICAgICAgICAgICAgICAgIC8vIHZlcnNpb25zIG9mIEFuZHJvaWQgKGluY2x1ZGluZyB0aG9zZSB1c2VkIGJ5IENvcmRvdmEpLlxuICAgICAgICAgICAgICAgICAgICAvLyBOb3JtYWxseSBJRSB3b24ndCBsaWtlIGAuZGVsZXRlKClgIGFuZCB3aWxsIGluc2lzdCBvblxuICAgICAgICAgICAgICAgICAgICAvLyB1c2luZyBgWydkZWxldGUnXSgpYCwgYnV0IHdlIGhhdmUgYSBidWlsZCBzdGVwIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZml4ZXMgdGhpcyBmb3IgdXMgbm93LlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmVbXCJkZWxldGVcIl0oa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2lsbCBiZSBhbHNvIGJlIGFib3J0ZWQgaWYgd2UndmUgZXhjZWVkZWQgb3VyIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVxLmVycm9yID8gcmVxLmVycm9yIDogcmVxLnRyYW5zYWN0aW9uLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlVHJhbnNhY3Rpb24oc2VsZi5fZGJJbmZvLCBSRUFEX1dSSVRFLCBmdW5jdGlvbiAoZXJyLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuX2RiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBsZW5ndGgoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfT05MWSwgZnVuY3Rpb24gKGVyciwgdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzZWxmLl9kYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmNvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5KG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKG4gPCAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfT05MWSwgZnVuY3Rpb24gKGVyciwgdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzZWxmLl9kYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkdmFuY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuS2V5Q3Vyc29yKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIHRoZXJlIHdlcmVuJ3QgZW5vdWdoIGtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIGZpcnN0IGtleSwgcmV0dXJuIGl0IGlmIHRoYXQncyB3aGF0IHRoZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YW50ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhZHZhbmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGFzayB0aGUgY3Vyc29yIHRvIHNraXAgYWhlYWQgblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IGhlcmUsIHdlJ3ZlIGdvdCB0aGUgbnRoIGtleS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNyZWF0ZVRyYW5zYWN0aW9uKHNlbGYuX2RiSW5mbywgUkVBRF9PTkxZLCBmdW5jdGlvbiAoZXJyLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuX2RiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbktleUN1cnNvcigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGN1cnNvci5rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yW1wiY29udGludWVcIl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBkcm9wSW5zdGFuY2Uob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayA9IGdldENhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgY3VycmVudENvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zICE9PSAnZnVuY3Rpb24nICYmIG9wdGlvbnMgfHwge307XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IGN1cnJlbnRDb25maWcubmFtZTtcbiAgICAgICAgb3B0aW9ucy5zdG9yZU5hbWUgPSBvcHRpb25zLnN0b3JlTmFtZSB8fCBjdXJyZW50Q29uZmlnLnN0b3JlTmFtZTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2U7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UkMS5yZWplY3QoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlzQ3VycmVudERiID0gb3B0aW9ucy5uYW1lID09PSBjdXJyZW50Q29uZmlnLm5hbWUgJiYgc2VsZi5fZGJJbmZvLmRiO1xuXG4gICAgICAgIHZhciBkYlByb21pc2UgPSBpc0N1cnJlbnREYiA/IFByb21pc2UkMS5yZXNvbHZlKHNlbGYuX2RiSW5mby5kYikgOiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tvcHRpb25zLm5hbWVdO1xuICAgICAgICAgICAgdmFyIGZvcmFnZXMgPSBkYkNvbnRleHQuZm9yYWdlcztcbiAgICAgICAgICAgIGRiQ29udGV4dC5kYiA9IGRiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yYWdlc1tpXS5fZGJJbmZvLmRiID0gZGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5zdG9yZU5hbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBkYlByb21pc2UudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgICAgICAgICBfZGVmZXJSZWFkaW5lc3Mob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tvcHRpb25zLm5hbWVdO1xuICAgICAgICAgICAgICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXM7XG5cbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9yYWdlID0gZm9yYWdlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8uZGIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBkcm9wREJQcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBpZGIuZGVsZXRlRGF0YWJhc2Uob3B0aW9ucy5uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uYmxvY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb3NpbmcgYWxsIG9wZW4gY29ubmVjdGlvbnMgaW4gb252ZXJzaW9uY2hhbmdlIGhhbmRsZXIgc2hvdWxkIHByZXZlbnQgdGhpcyBzaXR1YXRpb24sIGJ1dCBpZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG8gZ2V0IGhlcmUsIGl0IGp1c3QgbWVhbnMgdGhlIHJlcXVlc3QgcmVtYWlucyBwZW5kaW5nIC0gZXZlbnR1YWxseSBpdCB3aWxsIHN1Y2NlZWQgb3IgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZHJvcEluc3RhbmNlIGJsb2NrZWQgZm9yIGRhdGFiYXNlIFwiJyArIG9wdGlvbnMubmFtZSArICdcIiB1bnRpbCBhbGwgb3BlbiBjb25uZWN0aW9ucyBhcmUgY2xvc2VkJyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYik7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZHJvcERCUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICAgICAgICAgICAgICBkYkNvbnRleHQuZGIgPSBkYjtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2ZvcmFnZSA9IGZvcmFnZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWR2YW5jZVJlYWRpbmVzcyhfZm9yYWdlLl9kYkluZm8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIChfcmVqZWN0UmVhZGluZXNzKG9wdGlvbnMsIGVycikgfHwgUHJvbWlzZSQxLnJlc29sdmUoKSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRiUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICAgICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhvcHRpb25zLnN0b3JlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBuZXdWZXJzaW9uID0gZGIudmVyc2lvbiArIDE7XG5cbiAgICAgICAgICAgICAgICBfZGVmZXJSZWFkaW5lc3Mob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tvcHRpb25zLm5hbWVdO1xuICAgICAgICAgICAgICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXM7XG5cbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9yYWdlID0gZm9yYWdlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8uZGIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby52ZXJzaW9uID0gbmV3VmVyc2lvbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZHJvcE9iamVjdFByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IGlkYi5vcGVuKG9wdGlvbnMubmFtZSwgbmV3VmVyc2lvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIuZGVsZXRlT2JqZWN0U3RvcmUob3B0aW9ucy5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyb3BPYmplY3RQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiQ29udGV4dC5kYiA9IGRiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZvcmFnZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZm9yYWdlMiA9IGZvcmFnZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBfZm9yYWdlMi5fZGJJbmZvLmRiID0gZGI7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWR2YW5jZVJlYWRpbmVzcyhfZm9yYWdlMi5fZGJJbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAoX3JlamVjdFJlYWRpbmVzcyhvcHRpb25zLCBlcnIpIHx8IFByb21pc2UkMS5yZXNvbHZlKCkpW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBhc3luY1N0b3JhZ2UgPSB7XG4gICAgX2RyaXZlcjogJ2FzeW5jU3RvcmFnZScsXG4gICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UsXG4gICAgX3N1cHBvcnQ6IGlzSW5kZXhlZERCVmFsaWQoKSxcbiAgICBpdGVyYXRlOiBpdGVyYXRlLFxuICAgIGdldEl0ZW06IGdldEl0ZW0sXG4gICAgc2V0SXRlbTogc2V0SXRlbSxcbiAgICByZW1vdmVJdGVtOiByZW1vdmVJdGVtLFxuICAgIGNsZWFyOiBjbGVhcixcbiAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICBrZXk6IGtleSxcbiAgICBrZXlzOiBrZXlzLFxuICAgIGRyb3BJbnN0YW5jZTogZHJvcEluc3RhbmNlXG59O1xuXG5mdW5jdGlvbiBpc1dlYlNRTFZhbGlkKCkge1xuICAgIHJldHVybiB0eXBlb2Ygb3BlbkRhdGFiYXNlID09PSAnZnVuY3Rpb24nO1xufVxuXG4vLyBTYWRseSwgdGhlIGJlc3Qgd2F5IHRvIHNhdmUgYmluYXJ5IGRhdGEgaW4gV2ViU1FML2xvY2FsU3RvcmFnZSBpcyBzZXJpYWxpemluZ1xuLy8gaXQgdG8gQmFzZTY0LCBzbyB0aGlzIGlzIGhvdyB3ZSBzdG9yZSBpdCB0byBwcmV2ZW50IHZlcnkgc3RyYW5nZSBlcnJvcnMgd2l0aCBsZXNzXG4vLyB2ZXJib3NlIHdheXMgb2YgYmluYXJ5IDwtPiBzdHJpbmcgZGF0YSBzdG9yYWdlLlxudmFyIEJBU0VfQ0hBUlMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbnZhciBCTE9CX1RZUEVfUFJFRklYID0gJ35+bG9jYWxfZm9yYWdlX3R5cGV+JztcbnZhciBCTE9CX1RZUEVfUFJFRklYX1JFR0VYID0gL15+fmxvY2FsX2ZvcmFnZV90eXBlfihbXn5dKyl+LztcblxudmFyIFNFUklBTElaRURfTUFSS0VSID0gJ19fbGZzY19fOic7XG52YXIgU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIID0gU0VSSUFMSVpFRF9NQVJLRVIubGVuZ3RoO1xuXG4vLyBPTUcgdGhlIHNlcmlhbGl6YXRpb25zIVxudmFyIFRZUEVfQVJSQVlCVUZGRVIgPSAnYXJiZic7XG52YXIgVFlQRV9CTE9CID0gJ2Jsb2InO1xudmFyIFRZUEVfSU5UOEFSUkFZID0gJ3NpMDgnO1xudmFyIFRZUEVfVUlOVDhBUlJBWSA9ICd1aTA4JztcbnZhciBUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZID0gJ3VpYzgnO1xudmFyIFRZUEVfSU5UMTZBUlJBWSA9ICdzaTE2JztcbnZhciBUWVBFX0lOVDMyQVJSQVkgPSAnc2kzMic7XG52YXIgVFlQRV9VSU5UMTZBUlJBWSA9ICd1cjE2JztcbnZhciBUWVBFX1VJTlQzMkFSUkFZID0gJ3VpMzInO1xudmFyIFRZUEVfRkxPQVQzMkFSUkFZID0gJ2ZsMzInO1xudmFyIFRZUEVfRkxPQVQ2NEFSUkFZID0gJ2ZsNjQnO1xudmFyIFRZUEVfU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIID0gU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIICsgVFlQRV9BUlJBWUJVRkZFUi5sZW5ndGg7XG5cbnZhciB0b1N0cmluZyQxID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZykge1xuICAgIC8vIEZpbGwgdGhlIHN0cmluZyBpbnRvIGEgQXJyYXlCdWZmZXIuXG4gICAgdmFyIGJ1ZmZlckxlbmd0aCA9IHNlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoICogMC43NTtcbiAgICB2YXIgbGVuID0gc2VyaWFsaXplZFN0cmluZy5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgdmFyIHAgPSAwO1xuICAgIHZhciBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcblxuICAgIGlmIChzZXJpYWxpemVkU3RyaW5nW3NlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoIC0gMV0gPT09ICc9Jykge1xuICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZWRTdHJpbmdbc2VyaWFsaXplZFN0cmluZy5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKTtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGVuY29kZWQxID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaV0pO1xuICAgICAgICBlbmNvZGVkMiA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAxXSk7XG4gICAgICAgIGVuY29kZWQzID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDJdKTtcbiAgICAgICAgZW5jb2RlZDQgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgM10pO1xuXG4gICAgICAgIC8qanNsaW50IGJpdHdpc2U6IHRydWUgKi9cbiAgICAgICAgYnl0ZXNbcCsrXSA9IGVuY29kZWQxIDw8IDIgfCBlbmNvZGVkMiA+PiA0O1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQyICYgMTUpIDw8IDQgfCBlbmNvZGVkMyA+PiAyO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQzICYgMykgPDwgNiB8IGVuY29kZWQ0ICYgNjM7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG59XG5cbi8vIENvbnZlcnRzIGEgYnVmZmVyIHRvIGEgc3RyaW5nIHRvIHN0b3JlLCBzZXJpYWxpemVkLCBpbiB0aGUgYmFja2VuZFxuLy8gc3RvcmFnZSBsaWJyYXJ5LlxuZnVuY3Rpb24gYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSB7XG4gICAgLy8gYmFzZTY0LWFycmF5YnVmZmVyXG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICB2YXIgYmFzZTY0U3RyaW5nID0gJyc7XG4gICAgdmFyIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpXSA+PiAyXTtcbiAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2ldICYgMykgPDwgNCB8IGJ5dGVzW2kgKyAxXSA+PiA0XTtcbiAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyIHwgYnl0ZXNbaSArIDJdID4+IDZdO1xuICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuXG4gICAgaWYgKGJ5dGVzLmxlbmd0aCAlIDMgPT09IDIpIHtcbiAgICAgICAgYmFzZTY0U3RyaW5nID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZygwLCBiYXNlNjRTdHJpbmcubGVuZ3RoIC0gMSkgKyAnPSc7XG4gICAgfSBlbHNlIGlmIChieXRlcy5sZW5ndGggJSAzID09PSAxKSB7XG4gICAgICAgIGJhc2U2NFN0cmluZyA9IGJhc2U2NFN0cmluZy5zdWJzdHJpbmcoMCwgYmFzZTY0U3RyaW5nLmxlbmd0aCAtIDIpICsgJz09JztcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZTY0U3RyaW5nO1xufVxuXG4vLyBTZXJpYWxpemUgYSB2YWx1ZSwgYWZ0ZXJ3YXJkcyBleGVjdXRpbmcgYSBjYWxsYmFjayAod2hpY2ggdXN1YWxseVxuLy8gaW5zdHJ1Y3RzIHRoZSBgc2V0SXRlbSgpYCBjYWxsYmFjay9wcm9taXNlIHRvIGJlIGV4ZWN1dGVkKS4gVGhpcyBpcyBob3dcbi8vIHdlIHN0b3JlIGJpbmFyeSBkYXRhIHdpdGggbG9jYWxTdG9yYWdlLlxuZnVuY3Rpb24gc2VyaWFsaXplKHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciB2YWx1ZVR5cGUgPSAnJztcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWVUeXBlID0gdG9TdHJpbmckMS5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBDYW5ub3QgdXNlIGB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyYCBvciBzdWNoIGhlcmUsIGFzIHRoZXNlXG4gICAgLy8gY2hlY2tzIGZhaWwgd2hlbiBydW5uaW5nIHRoZSB0ZXN0cyB1c2luZyBjYXNwZXIuanMuLi5cbiAgICAvL1xuICAgIC8vIFRPRE86IFNlZSB3aHkgdGhvc2UgdGVzdHMgZmFpbCBhbmQgdXNlIGEgYmV0dGVyIHNvbHV0aW9uLlxuICAgIGlmICh2YWx1ZSAmJiAodmFsdWVUeXBlID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nIHx8IHZhbHVlLmJ1ZmZlciAmJiB0b1N0cmluZyQxLmNhbGwodmFsdWUuYnVmZmVyKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykpIHtcbiAgICAgICAgLy8gQ29udmVydCBiaW5hcnkgYXJyYXlzIHRvIGEgc3RyaW5nIGFuZCBwcmVmaXggdGhlIHN0cmluZyB3aXRoXG4gICAgICAgIC8vIGEgc3BlY2lhbCBtYXJrZXIuXG4gICAgICAgIHZhciBidWZmZXI7XG4gICAgICAgIHZhciBtYXJrZXIgPSBTRVJJQUxJWkVEX01BUktFUjtcblxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgYnVmZmVyID0gdmFsdWU7XG4gICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9BUlJBWUJVRkZFUjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IHZhbHVlLmJ1ZmZlcjtcblxuICAgICAgICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgSW50OEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQ4QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgVWludDhBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDhBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDhDTEFNUEVEQVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgSW50MTZBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UMTZBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBVaW50MTZBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDE2QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgSW50MzJBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UMzJBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBVaW50MzJBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDMyQVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9GTE9BVDMyQVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9GTE9BVDY0QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCB0eXBlIGZvciBCaW5hcnlBcnJheScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG1hcmtlciArIGJ1ZmZlclRvU3RyaW5nKGJ1ZmZlcikpO1xuICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBCbG9iXScpIHtcbiAgICAgICAgLy8gQ29udmVyIHRoZSBibG9iIHRvIGEgYmluYXJ5QXJyYXkgYW5kIHRoZW4gdG8gYSBzdHJpbmcuXG4gICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIHByZWZpeCBmb3IgdGhlIGJsb2IgdHlwZS5cbiAgICAgICAgICAgIHZhciBzdHIgPSBCTE9CX1RZUEVfUFJFRklYICsgdmFsdWUudHlwZSArICd+JyArIGJ1ZmZlclRvU3RyaW5nKHRoaXMucmVzdWx0KTtcblxuICAgICAgICAgICAgY2FsbGJhY2soU0VSSUFMSVpFRF9NQVJLRVIgKyBUWVBFX0JMT0IgKyBzdHIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFjayhKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGRuJ3QgY29udmVydCB2YWx1ZSBpbnRvIGEgSlNPTiBzdHJpbmc6IFwiLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBEZXNlcmlhbGl6ZSBkYXRhIHdlJ3ZlIGluc2VydGVkIGludG8gYSB2YWx1ZSBjb2x1bW4vZmllbGQuIFdlIHBsYWNlXG4vLyBzcGVjaWFsIG1hcmtlcnMgaW50byBvdXIgc3RyaW5ncyB0byBtYXJrIHRoZW0gYXMgZW5jb2RlZDsgdGhpcyBpc24ndFxuLy8gYXMgbmljZSBhcyBhIG1ldGEgZmllbGQsIGJ1dCBpdCdzIHRoZSBvbmx5IHNhbmUgdGhpbmcgd2UgY2FuIGRvIHdoaWxzdFxuLy8ga2VlcGluZyBsb2NhbFN0b3JhZ2Ugc3VwcG9ydCBpbnRhY3QuXG4vL1xuLy8gT2Z0ZW50aW1lcyB0aGlzIHdpbGwganVzdCBkZXNlcmlhbGl6ZSBKU09OIGNvbnRlbnQsIGJ1dCBpZiB3ZSBoYXZlIGFcbi8vIHNwZWNpYWwgbWFya2VyIChTRVJJQUxJWkVEX01BUktFUiwgZGVmaW5lZCBhYm92ZSksIHdlIHdpbGwgZXh0cmFjdFxuLy8gc29tZSBraW5kIG9mIGFycmF5YnVmZmVyL2JpbmFyeSBkYXRhL3R5cGVkIGFycmF5IG91dCBvZiB0aGUgc3RyaW5nLlxuZnVuY3Rpb24gZGVzZXJpYWxpemUodmFsdWUpIHtcbiAgICAvLyBJZiB3ZSBoYXZlbid0IG1hcmtlZCB0aGlzIHN0cmluZyBhcyBiZWluZyBzcGVjaWFsbHkgc2VyaWFsaXplZCAoaS5lLlxuICAgIC8vIHNvbWV0aGluZyBvdGhlciB0aGFuIHNlcmlhbGl6ZWQgSlNPTiksIHdlIGNhbiBqdXN0IHJldHVybiBpdCBhbmQgYmVcbiAgICAvLyBkb25lIHdpdGggaXQuXG4gICAgaWYgKHZhbHVlLnN1YnN0cmluZygwLCBTRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpICE9PSBTRVJJQUxJWkVEX01BUktFUikge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGRlYWxzIHdpdGggZGVzZXJpYWxpemluZyBzb21lIGtpbmQgb2YgQmxvYiBvclxuICAgIC8vIFR5cGVkQXJyYXkuIEZpcnN0IHdlIHNlcGFyYXRlIG91dCB0aGUgdHlwZSBvZiBkYXRhIHdlJ3JlIGRlYWxpbmdcbiAgICAvLyB3aXRoIGZyb20gdGhlIGRhdGEgaXRzZWxmLlxuICAgIHZhciBzZXJpYWxpemVkU3RyaW5nID0gdmFsdWUuc3Vic3RyaW5nKFRZUEVfU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIKTtcbiAgICB2YXIgdHlwZSA9IHZhbHVlLnN1YnN0cmluZyhTRVJJQUxJWkVEX01BUktFUl9MRU5HVEgsIFRZUEVfU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIKTtcblxuICAgIHZhciBibG9iVHlwZTtcbiAgICAvLyBCYWNrd2FyZHMtY29tcGF0aWJsZSBibG9iIHR5cGUgc2VyaWFsaXphdGlvbiBzdHJhdGVneS5cbiAgICAvLyBEQnMgY3JlYXRlZCB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIGxvY2FsRm9yYWdlIHdpbGwgc2ltcGx5IG5vdCBoYXZlIHRoZSBibG9iIHR5cGUuXG4gICAgaWYgKHR5cGUgPT09IFRZUEVfQkxPQiAmJiBCTE9CX1RZUEVfUFJFRklYX1JFR0VYLnRlc3Qoc2VyaWFsaXplZFN0cmluZykpIHtcbiAgICAgICAgdmFyIG1hdGNoZXIgPSBzZXJpYWxpemVkU3RyaW5nLm1hdGNoKEJMT0JfVFlQRV9QUkVGSVhfUkVHRVgpO1xuICAgICAgICBibG9iVHlwZSA9IG1hdGNoZXJbMV07XG4gICAgICAgIHNlcmlhbGl6ZWRTdHJpbmcgPSBzZXJpYWxpemVkU3RyaW5nLnN1YnN0cmluZyhtYXRjaGVyWzBdLmxlbmd0aCk7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBzdHJpbmdUb0J1ZmZlcihzZXJpYWxpemVkU3RyaW5nKTtcblxuICAgIC8vIFJldHVybiB0aGUgcmlnaHQgdHlwZSBiYXNlZCBvbiB0aGUgY29kZS90eXBlIHNldCBkdXJpbmdcbiAgICAvLyBzZXJpYWxpemF0aW9uLlxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFRZUEVfQVJSQVlCVUZGRVI6XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICBjYXNlIFRZUEVfQkxPQjpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVCbG9iKFtidWZmZXJdLCB7IHR5cGU6IGJsb2JUeXBlIH0pO1xuICAgICAgICBjYXNlIFRZUEVfSU5UOEFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX1VJTlQ4QVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OENsYW1wZWRBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfSU5UMTZBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfVUlOVDE2QVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9JTlQzMkFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9VSU5UMzJBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX0ZMT0FUMzJBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9GTE9BVDY0QVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0NjRBcnJheShidWZmZXIpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtvd24gdHlwZTogJyArIHR5cGUpO1xuICAgIH1cbn1cblxudmFyIGxvY2FsZm9yYWdlU2VyaWFsaXplciA9IHtcbiAgICBzZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgICBkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgc3RyaW5nVG9CdWZmZXI6IHN0cmluZ1RvQnVmZmVyLFxuICAgIGJ1ZmZlclRvU3RyaW5nOiBidWZmZXJUb1N0cmluZ1xufTtcblxuLypcbiAqIEluY2x1ZGVzIGNvZGUgZnJvbTpcbiAqXG4gKiBiYXNlNjQtYXJyYXlidWZmZXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXJcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgTmlrbGFzIHZvbiBIZXJ0emVuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGJUYWJsZSh0LCBkYkluZm8sIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgdC5leGVjdXRlU3FsKCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgJyArICcoaWQgSU5URUdFUiBQUklNQVJZIEtFWSwga2V5IHVuaXF1ZSwgdmFsdWUpJywgW10sIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbn1cblxuLy8gT3BlbiB0aGUgV2ViU1FMIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcbi8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZSQxKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRiSW5mbyA9IHtcbiAgICAgICAgZGI6IG51bGxcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBkYkluZm9baV0gPSB0eXBlb2Ygb3B0aW9uc1tpXSAhPT0gJ3N0cmluZycgPyBvcHRpb25zW2ldLnRvU3RyaW5nKCkgOiBvcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRiSW5mb1Byb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gT3BlbiB0aGUgZGF0YWJhc2U7IHRoZSBvcGVuRGF0YWJhc2UgQVBJIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAgICAvLyBjcmVhdGUgaXQgZm9yIHVzIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYkluZm8uZGIgPSBvcGVuRGF0YWJhc2UoZGJJbmZvLm5hbWUsIFN0cmluZyhkYkluZm8udmVyc2lvbiksIGRiSW5mby5kZXNjcmlwdGlvbiwgZGJJbmZvLnNpemUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIG91ciBrZXkvdmFsdWUgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICBjcmVhdGVEYlRhYmxlKHQsIGRiSW5mbywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBkYkluZm8uc2VyaWFsaXplciA9IGxvY2FsZm9yYWdlU2VyaWFsaXplcjtcbiAgICByZXR1cm4gZGJJbmZvUHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gdHJ5RXhlY3V0ZVNxbCh0LCBkYkluZm8sIHNxbFN0YXRlbWVudCwgYXJncywgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICB0LmV4ZWN1dGVTcWwoc3FsU3RhdGVtZW50LCBhcmdzLCBjYWxsYmFjaywgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBlcnJvci5TWU5UQVhfRVJSKSB7XG4gICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCBuYW1lIEZST00gc3FsaXRlX21hc3RlciAnICsgXCJXSEVSRSB0eXBlPSd0YWJsZScgQU5EIG5hbWUgPSA/XCIsIFtkYkluZm8uc3RvcmVOYW1lXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHMucm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHRhYmxlIGlzIG1pc3NpbmcgKHdhcyBkZWxldGVkKVxuICAgICAgICAgICAgICAgICAgICAvLyByZS1jcmVhdGUgaXQgdGFibGUgYW5kIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZURiVGFibGUodCwgZGJJbmZvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoc3FsU3RhdGVtZW50LCBhcmdzLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sodCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayh0LCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LCBlcnJvckNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gZ2V0SXRlbSQxKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ1NFTEVDVCAqIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGtleSA9ID8gTElNSVQgMScsIFtrZXldLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLmxlbmd0aCA/IHJlc3VsdHMucm93cy5pdGVtKDApLnZhbHVlIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBpcyBzZXJpYWxpemVkIGNvbnRlbnQgd2UgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyB1bnBhY2suXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gaXRlcmF0ZSQxKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHRyeUV4ZWN1dGVTcWwodCwgZGJJbmZvLCAnU0VMRUNUICogRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gcmVzdWx0cy5yb3dzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcm93cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByb3dzLml0ZW0oaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlbS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgc2VyaWFsaXplZCBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHVucGFjay5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvcihyZXN1bHQsIGl0ZW0ua2V5LCBpICsgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZvaWQoMCkgcHJldmVudHMgcHJvYmxlbXMgd2l0aCByZWRlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIGB1bmRlZmluZWRgLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaywgcmV0cmllc0xlZnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFRoZSBsb2NhbFN0b3JhZ2UgQVBJIGRvZXNuJ3QgcmV0dXJuIHVuZGVmaW5lZCB2YWx1ZXMgaW4gYW5cbiAgICAgICAgICAgIC8vIFwiZXhwZWN0ZWRcIiB3YXksIHNvIHVuZGVmaW5lZCBpcyBhbHdheXMgY2FzdCB0byBudWxsIGluIGFsbFxuICAgICAgICAgICAgLy8gZHJpdmVycy4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgb3JpZ2luYWwgdmFsdWUgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2suXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLCBmdW5jdGlvbiAodmFsdWUsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ0lOU0VSVCBPUiBSRVBMQUNFIElOVE8gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnICcgKyAnKGtleSwgdmFsdWUpIFZBTFVFUyAoPywgPyknLCBba2V5LCB2YWx1ZV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9yaWdpbmFsVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoc3FsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc2FjdGlvbiBmYWlsZWQ7IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBzZWUgaWYgaXQncyBhIHF1b3RhIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbEVycm9yLmNvZGUgPT09IHNxbEVycm9yLlFVT1RBX0VSUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHJlamVjdCB0aGUgY2FsbGJhY2sgb3V0cmlnaHQgZm9yIG5vdywgYnV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyB3b3J0aCB0cnlpbmcgdG8gcmUtcnVuIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFdmVuIGlmIHRoZSB1c2VyIGFjY2VwdHMgdGhlIHByb21wdCB0byB1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtb3JlIHN0b3JhZ2Ugb24gU2FmYXJpLCB0aGlzIGVycm9yIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZSBjYWxsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gcmUtcnVuIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmllc0xlZnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3NldEl0ZW0uYXBwbHkoc2VsZiwgW2tleSwgb3JpZ2luYWxWYWx1ZSwgY2FsbGJhY2ssIHJldHJpZXNMZWZ0IC0gMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoc3FsRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gc2V0SXRlbSQxKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIF9zZXRJdGVtLmFwcGx5KHRoaXMsIFtrZXksIHZhbHVlLCBjYWxsYmFjaywgMV0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVJdGVtJDEoa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHRyeUV4ZWN1dGVTcWwodCwgZGJJbmZvLCAnREVMRVRFIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGtleSA9ID8nLCBba2V5XSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gRGVsZXRlcyBldmVyeSBpdGVtIGluIHRoZSB0YWJsZS5cbi8vIFRPRE86IEZpbmQgb3V0IGlmIHRoaXMgcmVzZXRzIHRoZSBBVVRPX0lOQ1JFTUVOVCBudW1iZXIuXG5mdW5jdGlvbiBjbGVhciQxKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHRyeUV4ZWN1dGVTcWwodCwgZGJJbmZvLCAnREVMRVRFIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBEb2VzIGEgc2ltcGxlIGBDT1VOVChrZXkpYCB0byBnZXQgdGhlIG51bWJlciBvZiBpdGVtcyBzdG9yZWQgaW5cbi8vIGxvY2FsRm9yYWdlLlxuZnVuY3Rpb24gbGVuZ3RoJDEoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgLy8gQWhoaCwgU1FMIG1ha2VzIHRoaXMgb25lIHNvb29vb28gZWFzeS5cbiAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ1NFTEVDVCBDT1VOVChrZXkpIGFzIGMgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRzLnJvd3MuaXRlbSgwKS5jO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gUmV0dXJuIHRoZSBrZXkgbG9jYXRlZCBhdCBrZXkgaW5kZXggWDsgZXNzZW50aWFsbHkgZ2V0cyB0aGUga2V5IGZyb20gYVxuLy8gYFdIRVJFIGlkID0gP2AuIFRoaXMgaXMgdGhlIG1vc3QgZWZmaWNpZW50IHdheSBJIGNhbiB0aGluayB0byBpbXBsZW1lbnRcbi8vIHRoaXMgcmFyZWx5LXVzZWQgKGluIG15IGV4cGVyaWVuY2UpIHBhcnQgb2YgdGhlIEFQSSwgYnV0IGl0IGNhbiBzZWVtXG4vLyBpbmNvbnNpc3RlbnQsIGJlY2F1c2Ugd2UgZG8gYElOU0VSVCBPUiBSRVBMQUNFIElOVE9gIG9uIGBzZXRJdGVtKClgLCBzb1xuLy8gdGhlIElEIG9mIGVhY2gga2V5IHdpbGwgY2hhbmdlIGV2ZXJ5IHRpbWUgaXQncyB1cGRhdGVkLiBQZXJoYXBzIGEgc3RvcmVkXG4vLyBwcm9jZWR1cmUgZm9yIHRoZSBgc2V0SXRlbSgpYCBTUUwgd291bGQgc29sdmUgdGhpcyBwcm9ibGVtP1xuLy8gVE9ETzogRG9uJ3QgY2hhbmdlIElEIG9uIGBzZXRJdGVtKClgLlxuZnVuY3Rpb24ga2V5JDEobiwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdHJ5RXhlY3V0ZVNxbCh0LCBkYkluZm8sICdTRUxFQ1Qga2V5IEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGlkID0gPyBMSU1JVCAxJywgW24gKyAxXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5sZW5ndGggPyByZXN1bHRzLnJvd3MuaXRlbSgwKS5rZXkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5cyQxKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHRyeUV4ZWN1dGVTcWwodCwgZGJJbmZvLCAnU0VMRUNUIGtleSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKHJlc3VsdHMucm93cy5pdGVtKGkpLmtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGtleXMpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93ZWJkYXRhYmFzZS8jZGF0YWJhc2VzXG4vLyA+IFRoZXJlIGlzIG5vIHdheSB0byBlbnVtZXJhdGUgb3IgZGVsZXRlIHRoZSBkYXRhYmFzZXMgYXZhaWxhYmxlIGZvciBhbiBvcmlnaW4gZnJvbSB0aGlzIEFQSS5cbmZ1bmN0aW9uIGdldEFsbFN0b3JlTmFtZXMoZGIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCBuYW1lIEZST00gc3FsaXRlX21hc3RlciAnICsgXCJXSEVSRSB0eXBlPSd0YWJsZScgQU5EIG5hbWUgPD4gJ19fV2ViS2l0RGF0YWJhc2VJbmZvVGFibGVfXydcIiwgW10sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0b3JlTmFtZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZXMucHVzaChyZXN1bHRzLnJvd3MuaXRlbShpKS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgZGI6IGRiLFxuICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWVzOiBzdG9yZU5hbWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChzcWxFcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KHNxbEVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRyb3BJbnN0YW5jZSQxKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgPSBnZXRDYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGN1cnJlbnRDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyAhPT0gJ2Z1bmN0aW9uJyAmJiBvcHRpb25zIHx8IHt9O1xuICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIG9wdGlvbnMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCBjdXJyZW50Q29uZmlnLm5hbWU7XG4gICAgICAgIG9wdGlvbnMuc3RvcmVOYW1lID0gb3B0aW9ucy5zdG9yZU5hbWUgfHwgY3VycmVudENvbmZpZy5zdG9yZU5hbWU7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlO1xuICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlJDEucmVqZWN0KCdJbnZhbGlkIGFyZ3VtZW50cycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgZGI7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5uYW1lID09PSBjdXJyZW50Q29uZmlnLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIGRiIHJlZmVyZW5jZSBvZiB0aGUgY3VycmVudCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIGRiID0gc2VsZi5fZGJJbmZvLmRiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYiA9IG9wZW5EYXRhYmFzZShvcHRpb25zLm5hbWUsICcnLCAnJywgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5zdG9yZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBkcm9wIGFsbCBkYXRhYmFzZSB0YWJsZXNcbiAgICAgICAgICAgICAgICByZXNvbHZlKGdldEFsbFN0b3JlTmFtZXMoZGIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIGRiOiBkYixcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lczogW29wdGlvbnMuc3RvcmVOYW1lXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChvcGVyYXRpb25JbmZvKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkcm9wVGFibGUoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyAnICsgc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvcGVyYXRpb25JbmZvLnN0b3JlTmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnMucHVzaChkcm9wVGFibGUob3BlcmF0aW9uSW5mby5zdG9yZU5hbWVzW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBQcm9taXNlJDEuYWxsKG9wZXJhdGlvbnMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzcWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoc3FsRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciB3ZWJTUUxTdG9yYWdlID0ge1xuICAgIF9kcml2ZXI6ICd3ZWJTUUxTdG9yYWdlJyxcbiAgICBfaW5pdFN0b3JhZ2U6IF9pbml0U3RvcmFnZSQxLFxuICAgIF9zdXBwb3J0OiBpc1dlYlNRTFZhbGlkKCksXG4gICAgaXRlcmF0ZTogaXRlcmF0ZSQxLFxuICAgIGdldEl0ZW06IGdldEl0ZW0kMSxcbiAgICBzZXRJdGVtOiBzZXRJdGVtJDEsXG4gICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSQxLFxuICAgIGNsZWFyOiBjbGVhciQxLFxuICAgIGxlbmd0aDogbGVuZ3RoJDEsXG4gICAga2V5OiBrZXkkMSxcbiAgICBrZXlzOiBrZXlzJDEsXG4gICAgZHJvcEluc3RhbmNlOiBkcm9wSW5zdGFuY2UkMVxufTtcblxuZnVuY3Rpb24gaXNMb2NhbFN0b3JhZ2VWYWxpZCgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3NldEl0ZW0nIGluIGxvY2FsU3RvcmFnZSAmJlxuICAgICAgICAvLyBpbiBJRTggdHlwZW9mIGxvY2FsU3RvcmFnZS5zZXRJdGVtID09PSAnb2JqZWN0J1xuICAgICAgICAhIWxvY2FsU3RvcmFnZS5zZXRJdGVtO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX2dldEtleVByZWZpeChvcHRpb25zLCBkZWZhdWx0Q29uZmlnKSB7XG4gICAgdmFyIGtleVByZWZpeCA9IG9wdGlvbnMubmFtZSArICcvJztcblxuICAgIGlmIChvcHRpb25zLnN0b3JlTmFtZSAhPT0gZGVmYXVsdENvbmZpZy5zdG9yZU5hbWUpIHtcbiAgICAgICAga2V5UHJlZml4ICs9IG9wdGlvbnMuc3RvcmVOYW1lICsgJy8nO1xuICAgIH1cbiAgICByZXR1cm4ga2V5UHJlZml4O1xufVxuXG4vLyBDaGVjayBpZiBsb2NhbFN0b3JhZ2UgdGhyb3dzIHdoZW4gc2F2aW5nIGFuIGl0ZW1cbmZ1bmN0aW9uIGNoZWNrSWZMb2NhbFN0b3JhZ2VUaHJvd3MoKSB7XG4gICAgdmFyIGxvY2FsU3RvcmFnZVRlc3RLZXkgPSAnX2xvY2FsZm9yYWdlX3N1cHBvcnRfdGVzdCc7XG5cbiAgICB0cnkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VUZXN0S2V5LCB0cnVlKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9jYWxTdG9yYWdlVGVzdEtleSk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG4vLyBDaGVjayBpZiBsb2NhbFN0b3JhZ2UgaXMgdXNhYmxlIGFuZCBhbGxvd3MgdG8gc2F2ZSBhbiBpdGVtXG4vLyBUaGlzIG1ldGhvZCBjaGVja3MgaWYgbG9jYWxTdG9yYWdlIGlzIHVzYWJsZSBpbiBTYWZhcmkgUHJpdmF0ZSBCcm93c2luZ1xuLy8gbW9kZSwgb3IgaW4gYW55IG90aGVyIGNhc2Ugd2hlcmUgdGhlIGF2YWlsYWJsZSBxdW90YSBmb3IgbG9jYWxTdG9yYWdlXG4vLyBpcyAwIGFuZCB0aGVyZSB3YXNuJ3QgYW55IHNhdmVkIGl0ZW1zIHlldC5cbmZ1bmN0aW9uIF9pc0xvY2FsU3RvcmFnZVVzYWJsZSgpIHtcbiAgICByZXR1cm4gIWNoZWNrSWZMb2NhbFN0b3JhZ2VUaHJvd3MoKSB8fCBsb2NhbFN0b3JhZ2UubGVuZ3RoID4gMDtcbn1cblxuLy8gQ29uZmlnIHRoZSBsb2NhbFN0b3JhZ2UgYmFja2VuZCwgdXNpbmcgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZSQyKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRiSW5mbyA9IHt9O1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRiSW5mby5rZXlQcmVmaXggPSBfZ2V0S2V5UHJlZml4KG9wdGlvbnMsIHNlbGYuX2RlZmF1bHRDb25maWcpO1xuXG4gICAgaWYgKCFfaXNMb2NhbFN0b3JhZ2VVc2FibGUoKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZSQxLnJlamVjdCgpO1xuICAgIH1cblxuICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcbiAgICBkYkluZm8uc2VyaWFsaXplciA9IGxvY2FsZm9yYWdlU2VyaWFsaXplcjtcblxuICAgIHJldHVybiBQcm9taXNlJDEucmVzb2x2ZSgpO1xufVxuXG4vLyBSZW1vdmUgYWxsIGtleXMgZnJvbSB0aGUgZGF0YXN0b3JlLCBlZmZlY3RpdmVseSBkZXN0cm95aW5nIGFsbCBkYXRhIGluXG4vLyB0aGUgYXBwJ3Mga2V5L3ZhbHVlIHN0b3JlIVxuZnVuY3Rpb24gY2xlYXIkMihjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtleVByZWZpeCA9IHNlbGYuX2RiSW5mby5rZXlQcmVmaXg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGxvY2FsU3RvcmFnZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG5cbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihrZXlQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gUmV0cmlldmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZS4gVW5saWtlIHRoZSBvcmlnaW5hbCBhc3luY19zdG9yYWdlXG4vLyBsaWJyYXJ5IGluIEdhaWEsIHdlIGRvbid0IG1vZGlmeSByZXR1cm4gdmFsdWVzIGF0IGFsbC4gSWYgYSBrZXkncyB2YWx1ZVxuLy8gaXMgYHVuZGVmaW5lZGAsIHdlIHBhc3MgdGhhdCB2YWx1ZSB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5mdW5jdGlvbiBnZXRJdGVtJDIoa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIHZhciByZXN1bHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5KTtcblxuICAgICAgICAvLyBJZiBhIHJlc3VsdCB3YXMgZm91bmQsIHBhcnNlIGl0IGZyb20gdGhlIHNlcmlhbGl6ZWRcbiAgICAgICAgLy8gc3RyaW5nIGludG8gYSBKUyBvYmplY3QuIElmIHJlc3VsdCBpc24ndCB0cnV0aHksIHRoZSBrZXlcbiAgICAgICAgLy8gaXMgbGlrZWx5IHVuZGVmaW5lZCBhbmQgd2UnbGwgcGFzcyBpdCBzdHJhaWdodCB0byB0aGVcbiAgICAgICAgLy8gY2FsbGJhY2suXG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gSXRlcmF0ZSBvdmVyIGFsbCBpdGVtcyBpbiB0aGUgc3RvcmUuXG5mdW5jdGlvbiBpdGVyYXRlJDIoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIHZhciBrZXlQcmVmaXggPSBkYkluZm8ua2V5UHJlZml4O1xuICAgICAgICB2YXIga2V5UHJlZml4TGVuZ3RoID0ga2V5UHJlZml4Lmxlbmd0aDtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7XG5cbiAgICAgICAgLy8gV2UgdXNlIGEgZGVkaWNhdGVkIGl0ZXJhdG9yIGluc3RlYWQgb2YgdGhlIGBpYCB2YXJpYWJsZSBiZWxvd1xuICAgICAgICAvLyBzbyBvdGhlciBrZXlzIHdlIGZldGNoIGluIGxvY2FsU3RvcmFnZSBhcmVuJ3QgY291bnRlZCBpblxuICAgICAgICAvLyB0aGUgYGl0ZXJhdGlvbk51bWJlcmAgYXJndW1lbnQgcGFzc2VkIHRvIHRoZSBgaXRlcmF0ZSgpYFxuICAgICAgICAvLyBjYWxsYmFjay5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2VlOiBnaXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MzUjZGlzY3Vzc2lvbl9yMzgwNjE1MzBcbiAgICAgICAgdmFyIGl0ZXJhdGlvbk51bWJlciA9IDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2Yoa2V5UHJlZml4KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcblxuICAgICAgICAgICAgLy8gSWYgYSByZXN1bHQgd2FzIGZvdW5kLCBwYXJzZSBpdCBmcm9tIHRoZSBzZXJpYWxpemVkXG4gICAgICAgICAgICAvLyBzdHJpbmcgaW50byBhIEpTIG9iamVjdC4gSWYgcmVzdWx0IGlzbid0IHRydXRoeSwgdGhlXG4gICAgICAgICAgICAvLyBrZXkgaXMgbGlrZWx5IHVuZGVmaW5lZCBhbmQgd2UnbGwgcGFzcyBpdCBzdHJhaWdodFxuICAgICAgICAgICAgLy8gdG8gdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gaXRlcmF0b3IodmFsdWUsIGtleS5zdWJzdHJpbmcoa2V5UHJlZml4TGVuZ3RoKSwgaXRlcmF0aW9uTnVtYmVyKyspO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU2FtZSBhcyBsb2NhbFN0b3JhZ2UncyBrZXkoKSBtZXRob2QsIGV4Y2VwdCB0YWtlcyBhIGNhbGxiYWNrLlxuZnVuY3Rpb24ga2V5JDIobiwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSBsb2NhbFN0b3JhZ2Uua2V5KG4pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgcHJlZml4IGZyb20gdGhlIGtleSwgaWYgYSBrZXkgaXMgZm91bmQuXG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGtleXMkMihjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgdmFyIGxlbmd0aCA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7XG4gICAgICAgIHZhciBrZXlzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW1LZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAgICAgICAgaWYgKGl0ZW1LZXkuaW5kZXhPZihkYkluZm8ua2V5UHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChpdGVtS2V5LnN1YnN0cmluZyhkYkluZm8ua2V5UHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBTdXBwbHkgdGhlIG51bWJlciBvZiBrZXlzIGluIHRoZSBkYXRhc3RvcmUgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuZnVuY3Rpb24gbGVuZ3RoJDIoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2UgPSBzZWxmLmtleXMoKS50aGVuKGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIHJldHVybiBrZXlzLmxlbmd0aDtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFJlbW92ZSBhbiBpdGVtIGZyb20gdGhlIHN0b3JlLCBuaWNlIGFuZCBzaW1wbGUuXG5mdW5jdGlvbiByZW1vdmVJdGVtJDIoa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXkpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU2V0IGEga2V5J3MgdmFsdWUgYW5kIHJ1biBhbiBvcHRpb25hbCBjYWxsYmFjayBvbmNlIHRoZSB2YWx1ZSBpcyBzZXQuXG4vLyBVbmxpa2UgR2FpYSdzIGltcGxlbWVudGF0aW9uLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSB2YWx1ZSxcbi8vIGluIGNhc2UgeW91IHdhbnQgdG8gb3BlcmF0ZSBvbiB0aGF0IHZhbHVlIG9ubHkgYWZ0ZXIgeW91J3JlIHN1cmUgaXRcbi8vIHNhdmVkLCBvciBzb21ldGhpbmcgbGlrZSB0aGF0LlxuZnVuY3Rpb24gc2V0SXRlbSQyKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ29udmVydCB1bmRlZmluZWQgdmFsdWVzIHRvIG51bGwuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDJcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uc2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUsIGZ1bmN0aW9uICh2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvcmlnaW5hbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlIGNhcGFjaXR5IGV4Y2VlZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGEgc3BlY2lmaWMgZXJyb3IvZXZlbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fCBlLm5hbWUgPT09ICdOU19FUlJPUl9ET01fUVVPVEFfUkVBQ0hFRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBkcm9wSW5zdGFuY2UkMihvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gZ2V0Q2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyAhPT0gJ2Z1bmN0aW9uJyAmJiBvcHRpb25zIHx8IHt9O1xuICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIHZhciBjdXJyZW50Q29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICAgICAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IGN1cnJlbnRDb25maWcubmFtZTtcbiAgICAgICAgb3B0aW9ucy5zdG9yZU5hbWUgPSBvcHRpb25zLnN0b3JlTmFtZSB8fCBjdXJyZW50Q29uZmlnLnN0b3JlTmFtZTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2U7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UkMS5yZWplY3QoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5zdG9yZU5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG9wdGlvbnMubmFtZSArICcvJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX2dldEtleVByZWZpeChvcHRpb25zLCBzZWxmLl9kZWZhdWx0Q29uZmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGtleVByZWZpeCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxvY2FsU3RvcmFnZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBsb2NhbFN0b3JhZ2VXcmFwcGVyID0ge1xuICAgIF9kcml2ZXI6ICdsb2NhbFN0b3JhZ2VXcmFwcGVyJyxcbiAgICBfaW5pdFN0b3JhZ2U6IF9pbml0U3RvcmFnZSQyLFxuICAgIF9zdXBwb3J0OiBpc0xvY2FsU3RvcmFnZVZhbGlkKCksXG4gICAgaXRlcmF0ZTogaXRlcmF0ZSQyLFxuICAgIGdldEl0ZW06IGdldEl0ZW0kMixcbiAgICBzZXRJdGVtOiBzZXRJdGVtJDIsXG4gICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSQyLFxuICAgIGNsZWFyOiBjbGVhciQyLFxuICAgIGxlbmd0aDogbGVuZ3RoJDIsXG4gICAga2V5OiBrZXkkMixcbiAgICBrZXlzOiBrZXlzJDIsXG4gICAgZHJvcEluc3RhbmNlOiBkcm9wSW5zdGFuY2UkMlxufTtcblxudmFyIHNhbWVWYWx1ZSA9IGZ1bmN0aW9uIHNhbWVWYWx1ZSh4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IHkgfHwgdHlwZW9mIHggPT09ICdudW1iZXInICYmIHR5cGVvZiB5ID09PSAnbnVtYmVyJyAmJiBpc05hTih4KSAmJiBpc05hTih5KTtcbn07XG5cbnZhciBpbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBzZWFyY2hFbGVtZW50KSB7XG4gICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgaWYgKHNhbWVWYWx1ZShhcnJheVtpXSwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbi8vIERyaXZlcnMgYXJlIHN0b3JlZCBoZXJlIHdoZW4gYGRlZmluZURyaXZlcigpYCBpcyBjYWxsZWQuXG4vLyBUaGV5IGFyZSBzaGFyZWQgYWNyb3NzIGFsbCBpbnN0YW5jZXMgb2YgbG9jYWxGb3JhZ2UuXG52YXIgRGVmaW5lZERyaXZlcnMgPSB7fTtcblxudmFyIERyaXZlclN1cHBvcnQgPSB7fTtcblxudmFyIERlZmF1bHREcml2ZXJzID0ge1xuICAgIElOREVYRUREQjogYXN5bmNTdG9yYWdlLFxuICAgIFdFQlNRTDogd2ViU1FMU3RvcmFnZSxcbiAgICBMT0NBTFNUT1JBR0U6IGxvY2FsU3RvcmFnZVdyYXBwZXJcbn07XG5cbnZhciBEZWZhdWx0RHJpdmVyT3JkZXIgPSBbRGVmYXVsdERyaXZlcnMuSU5ERVhFRERCLl9kcml2ZXIsIERlZmF1bHREcml2ZXJzLldFQlNRTC5fZHJpdmVyLCBEZWZhdWx0RHJpdmVycy5MT0NBTFNUT1JBR0UuX2RyaXZlcl07XG5cbnZhciBPcHRpb25hbERyaXZlck1ldGhvZHMgPSBbJ2Ryb3BJbnN0YW5jZSddO1xuXG52YXIgTGlicmFyeU1ldGhvZHMgPSBbJ2NsZWFyJywgJ2dldEl0ZW0nLCAnaXRlcmF0ZScsICdrZXknLCAna2V5cycsICdsZW5ndGgnLCAncmVtb3ZlSXRlbScsICdzZXRJdGVtJ10uY29uY2F0KE9wdGlvbmFsRHJpdmVyTWV0aG9kcyk7XG5cbnZhciBEZWZhdWx0Q29uZmlnID0ge1xuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICBkcml2ZXI6IERlZmF1bHREcml2ZXJPcmRlci5zbGljZSgpLFxuICAgIG5hbWU6ICdsb2NhbGZvcmFnZScsXG4gICAgLy8gRGVmYXVsdCBEQiBzaXplIGlzIF9KVVNUIFVOREVSXyA1TUIsIGFzIGl0J3MgdGhlIGhpZ2hlc3Qgc2l6ZVxuICAgIC8vIHdlIGNhbiB1c2Ugd2l0aG91dCBhIHByb21wdC5cbiAgICBzaXplOiA0OTgwNzM2LFxuICAgIHN0b3JlTmFtZTogJ2tleXZhbHVlcGFpcnMnLFxuICAgIHZlcnNpb246IDEuMFxufTtcblxuZnVuY3Rpb24gY2FsbFdoZW5SZWFkeShsb2NhbEZvcmFnZUluc3RhbmNlLCBsaWJyYXJ5TWV0aG9kKSB7XG4gICAgbG9jYWxGb3JhZ2VJbnN0YW5jZVtsaWJyYXJ5TWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hcmdzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gbG9jYWxGb3JhZ2VJbnN0YW5jZS5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0uYXBwbHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgX2FyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfa2V5IGluIGFyZykge1xuICAgICAgICAgICAgICAgIGlmIChhcmcuaGFzT3duUHJvcGVydHkoX2tleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJnW19rZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW19rZXldID0gYXJnW19rZXldLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF1bX2tleV0gPSBhcmdbX2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xufVxuXG52YXIgTG9jYWxGb3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9jYWxGb3JhZ2Uob3B0aW9ucykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxGb3JhZ2UpO1xuXG4gICAgICAgIGZvciAodmFyIGRyaXZlclR5cGVLZXkgaW4gRGVmYXVsdERyaXZlcnMpIHtcbiAgICAgICAgICAgIGlmIChEZWZhdWx0RHJpdmVycy5oYXNPd25Qcm9wZXJ0eShkcml2ZXJUeXBlS2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBkcml2ZXIgPSBEZWZhdWx0RHJpdmVyc1tkcml2ZXJUeXBlS2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlci5fZHJpdmVyO1xuICAgICAgICAgICAgICAgIHRoaXNbZHJpdmVyVHlwZUtleV0gPSBkcml2ZXJOYW1lO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFEZWZpbmVkRHJpdmVyc1tkcml2ZXJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHdhaXQgZm9yIHRoZSBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgZGVmYXVsdCBkcml2ZXJzIGNhbiBiZSBkZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIGEgYmxvY2tpbmcgbWFubmVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lRHJpdmVyKGRyaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVmYXVsdENvbmZpZyA9IGV4dGVuZCh7fSwgRGVmYXVsdENvbmZpZyk7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGV4dGVuZCh7fSwgdGhpcy5fZGVmYXVsdENvbmZpZywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2RyaXZlclNldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luaXREcml2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kYkluZm8gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSgpO1xuICAgICAgICB0aGlzLnNldERyaXZlcih0aGlzLl9jb25maWcuZHJpdmVyKVtcImNhdGNoXCJdKGZ1bmN0aW9uICgpIHt9KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgYW55IGNvbmZpZyB2YWx1ZXMgZm9yIGxvY2FsRm9yYWdlOyBjYW4gYmUgY2FsbGVkIGFueXRpbWUgYmVmb3JlXG4gICAgLy8gdGhlIGZpcnN0IEFQSSBjYWxsIChlLmcuIGBnZXRJdGVtYCwgYHNldEl0ZW1gKS5cbiAgICAvLyBXZSBsb29wIHRocm91Z2ggb3B0aW9ucyBzbyB3ZSBkb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgY29uZmlnXG4gICAgLy8gdmFsdWVzLlxuXG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuY29uZmlnID0gZnVuY3Rpb24gY29uZmlnKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gSWYgdGhlIG9wdGlvbnMgYXJndW1lbnQgaXMgYW4gb2JqZWN0LCB3ZSB1c2UgaXQgdG8gc2V0IHZhbHVlcy5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSByZXR1cm4gZWl0aGVyIGEgc3BlY2lmaWVkIGNvbmZpZyB2YWx1ZSBvciBhbGxcbiAgICAgICAgLy8gY29uZmlnIHZhbHVlcy5cbiAgICAgICAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gSWYgbG9jYWxmb3JhZ2UgaXMgcmVhZHkgYW5kIGZ1bGx5IGluaXRpYWxpemVkLCB3ZSBjYW4ndCBzZXRcbiAgICAgICAgICAgIC8vIGFueSBuZXcgY29uZmlndXJhdGlvbiB2YWx1ZXMuIEluc3RlYWQsIHdlIHJldHVybiBhbiBlcnJvci5cbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJDYW4ndCBjYWxsIGNvbmZpZygpIGFmdGVyIGxvY2FsZm9yYWdlIFwiICsgJ2hhcyBiZWVuIHVzZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAnc3RvcmVOYW1lJykge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2ldID0gb3B0aW9uc1tpXS5yZXBsYWNlKC9cXFcvZywgJ18nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ3ZlcnNpb24nICYmIHR5cGVvZiBvcHRpb25zW2ldICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdEYXRhYmFzZSB2ZXJzaW9uIG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWZ0ZXIgYWxsIGNvbmZpZyBvcHRpb25zIGFyZSBzZXQgYW5kXG4gICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG9wdGlvbiBpcyB1c2VkLCB0cnkgc2V0dGluZyBpdFxuICAgICAgICAgICAgaWYgKCdkcml2ZXInIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5kcml2ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXREcml2ZXIodGhpcy5fY29uZmlnLmRyaXZlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZ1tvcHRpb25zXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gVXNlZCB0byBkZWZpbmUgYSBjdXN0b20gZHJpdmVyLCBzaGFyZWQgYWNyb3NzIGFsbCBpbnN0YW5jZXMgb2ZcbiAgICAvLyBsb2NhbEZvcmFnZS5cblxuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmRlZmluZURyaXZlciA9IGZ1bmN0aW9uIGRlZmluZURyaXZlcihkcml2ZXJPYmplY3QsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkcml2ZXJOYW1lID0gZHJpdmVyT2JqZWN0Ll9kcml2ZXI7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsaWFuY2VFcnJvciA9IG5ldyBFcnJvcignQ3VzdG9tIGRyaXZlciBub3QgY29tcGxpYW50OyBzZWUgJyArICdodHRwczovL21vemlsbGEuZ2l0aHViLmlvL2xvY2FsRm9yYWdlLyNkZWZpbmVkcml2ZXInKTtcblxuICAgICAgICAgICAgICAgIC8vIEEgZHJpdmVyIG5hbWUgc2hvdWxkIGJlIGRlZmluZWQgYW5kIG5vdCBvdmVybGFwIHdpdGggdGhlXG4gICAgICAgICAgICAgICAgLy8gbGlicmFyeS1kZWZpbmVkLCBkZWZhdWx0IGRyaXZlcnMuXG4gICAgICAgICAgICAgICAgaWYgKCFkcml2ZXJPYmplY3QuX2RyaXZlcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoY29tcGxpYW5jZUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBkcml2ZXJNZXRob2RzID0gTGlicmFyeU1ldGhvZHMuY29uY2F0KCdfaW5pdFN0b3JhZ2UnKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZHJpdmVyTWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTWV0aG9kTmFtZSA9IGRyaXZlck1ldGhvZHNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgcHJvcGVydHkgaXMgdGhlcmUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBiZSBhIG1ldGhvZCBldmVuIHdoZW4gb3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzUmVxdWlyZWQgPSAhaW5jbHVkZXMoT3B0aW9uYWxEcml2ZXJNZXRob2RzLCBkcml2ZXJNZXRob2ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChpc1JlcXVpcmVkIHx8IGRyaXZlck9iamVjdFtkcml2ZXJNZXRob2ROYW1lXSkgJiYgdHlwZW9mIGRyaXZlck9iamVjdFtkcml2ZXJNZXRob2ROYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNvbXBsaWFuY2VFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgY29uZmlndXJlTWlzc2luZ01ldGhvZHMgPSBmdW5jdGlvbiBjb25maWd1cmVNaXNzaW5nTWV0aG9kcygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ldGhvZE5vdEltcGxlbWVudGVkRmFjdG9yeSA9IGZ1bmN0aW9uIG1ldGhvZE5vdEltcGxlbWVudGVkRmFjdG9yeShtZXRob2ROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcignTWV0aG9kICcgKyBtZXRob2ROYW1lICsgJyBpcyBub3QgaW1wbGVtZW50ZWQgYnkgdGhlIGN1cnJlbnQgZHJpdmVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlJDEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2xlbiA9IE9wdGlvbmFsRHJpdmVyTWV0aG9kcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsRHJpdmVyTWV0aG9kID0gT3B0aW9uYWxEcml2ZXJNZXRob2RzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZHJpdmVyT2JqZWN0W29wdGlvbmFsRHJpdmVyTWV0aG9kXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyaXZlck9iamVjdFtvcHRpb25hbERyaXZlck1ldGhvZF0gPSBtZXRob2ROb3RJbXBsZW1lbnRlZEZhY3Rvcnkob3B0aW9uYWxEcml2ZXJNZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyZU1pc3NpbmdNZXRob2RzKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2V0RHJpdmVyU3VwcG9ydCA9IGZ1bmN0aW9uIHNldERyaXZlclN1cHBvcnQoc3VwcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRGVmaW5lZERyaXZlcnNbZHJpdmVyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnUmVkZWZpbmluZyBMb2NhbEZvcmFnZSBkcml2ZXI6ICcgKyBkcml2ZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBEZWZpbmVkRHJpdmVyc1tkcml2ZXJOYW1lXSA9IGRyaXZlck9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgRHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXSA9IHN1cHBvcnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHVzZSBhIHRoZW4sIHNvIHRoYXQgd2UgY2FuIGRlZmluZVxuICAgICAgICAgICAgICAgICAgICAvLyBkcml2ZXJzIHRoYXQgaGF2ZSBzaW1wbGUgX3N1cHBvcnQgbWV0aG9kc1xuICAgICAgICAgICAgICAgICAgICAvLyBpbiBhIGJsb2NraW5nIG1hbm5lclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICgnX3N1cHBvcnQnIGluIGRyaXZlck9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHJpdmVyT2JqZWN0Ll9zdXBwb3J0ICYmIHR5cGVvZiBkcml2ZXJPYmplY3QuX3N1cHBvcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyaXZlck9iamVjdC5fc3VwcG9ydCgpLnRoZW4oc2V0RHJpdmVyU3VwcG9ydCwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERyaXZlclN1cHBvcnQoISFkcml2ZXJPYmplY3QuX3N1cHBvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RHJpdmVyU3VwcG9ydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5kcml2ZXIgPSBmdW5jdGlvbiBkcml2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXIgfHwgbnVsbDtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmdldERyaXZlciA9IGZ1bmN0aW9uIGdldERyaXZlcihkcml2ZXJOYW1lLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgZ2V0RHJpdmVyUHJvbWlzZSA9IERlZmluZWREcml2ZXJzW2RyaXZlck5hbWVdID8gUHJvbWlzZSQxLnJlc29sdmUoRGVmaW5lZERyaXZlcnNbZHJpdmVyTmFtZV0pIDogUHJvbWlzZSQxLnJlamVjdChuZXcgRXJyb3IoJ0RyaXZlciBub3QgZm91bmQuJykpO1xuXG4gICAgICAgIGV4ZWN1dGVUd29DYWxsYmFja3MoZ2V0RHJpdmVyUHJvbWlzZSwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gZ2V0RHJpdmVyUHJvbWlzZTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmdldFNlcmlhbGl6ZXIgPSBmdW5jdGlvbiBnZXRTZXJpYWxpemVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzZXJpYWxpemVyUHJvbWlzZSA9IFByb21pc2UkMS5yZXNvbHZlKGxvY2FsZm9yYWdlU2VyaWFsaXplcik7XG4gICAgICAgIGV4ZWN1dGVUd29DYWxsYmFja3Moc2VyaWFsaXplclByb21pc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZXJQcm9taXNlO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiByZWFkeShjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLl9kcml2ZXJTZXQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fcmVhZHkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IHNlbGYuX2luaXREcml2ZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3JlYWR5O1xuICAgICAgICB9KTtcblxuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuc2V0RHJpdmVyID0gZnVuY3Rpb24gc2V0RHJpdmVyKGRyaXZlcnMsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAoIWlzQXJyYXkoZHJpdmVycykpIHtcbiAgICAgICAgICAgIGRyaXZlcnMgPSBbZHJpdmVyc107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IHRoaXMuX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycyk7XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0RHJpdmVyVG9Db25maWcoKSB7XG4gICAgICAgICAgICBzZWxmLl9jb25maWcuZHJpdmVyID0gc2VsZi5kcml2ZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZFNlbGZXaXRoRHJpdmVyKGRyaXZlcikge1xuICAgICAgICAgICAgc2VsZi5fZXh0ZW5kKGRyaXZlcik7XG4gICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuXG4gICAgICAgICAgICBzZWxmLl9yZWFkeSA9IHNlbGYuX2luaXRTdG9yYWdlKHNlbGYuX2NvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fcmVhZHk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbml0RHJpdmVyKHN1cHBvcnRlZERyaXZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREcml2ZXJJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkcml2ZXJQcm9taXNlTG9vcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnREcml2ZXJJbmRleCA8IHN1cHBvcnRlZERyaXZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IHN1cHBvcnRlZERyaXZlcnNbY3VycmVudERyaXZlckluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREcml2ZXJJbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREcml2ZXIoZHJpdmVyTmFtZSkudGhlbihleHRlbmRTZWxmV2l0aERyaXZlcilbXCJjYXRjaFwiXShkcml2ZXJQcm9taXNlTG9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ05vIGF2YWlsYWJsZSBzdG9yYWdlIG1ldGhvZCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZHJpdmVyU2V0ID0gUHJvbWlzZSQxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyaXZlclByb21pc2VMb29wKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgYSBkcml2ZXIgaW5pdGlhbGl6YXRpb24gaW4gcHJvZ3Jlc3NcbiAgICAgICAgLy8gc28gd2FpdCBmb3IgaXQgdG8gZmluaXNoIGluIG9yZGVyIHRvIGF2b2lkIGEgcG9zc2libGVcbiAgICAgICAgLy8gcmFjZSBjb25kaXRpb24gdG8gc2V0IF9kYkluZm9cbiAgICAgICAgdmFyIG9sZERyaXZlclNldERvbmUgPSB0aGlzLl9kcml2ZXJTZXQgIT09IG51bGwgPyB0aGlzLl9kcml2ZXJTZXRbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZSQxLnJlc29sdmUoKTtcbiAgICAgICAgfSkgOiBQcm9taXNlJDEucmVzb2x2ZSgpO1xuXG4gICAgICAgIHRoaXMuX2RyaXZlclNldCA9IG9sZERyaXZlclNldERvbmUudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IHN1cHBvcnRlZERyaXZlcnNbMF07XG4gICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBudWxsO1xuICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBudWxsO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREcml2ZXIoZHJpdmVyTmFtZSkudGhlbihmdW5jdGlvbiAoZHJpdmVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZHJpdmVyID0gZHJpdmVyLl9kcml2ZXI7XG4gICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9pbml0RHJpdmVyID0gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ05vIGF2YWlsYWJsZSBzdG9yYWdlIG1ldGhvZCBmb3VuZC4nKTtcbiAgICAgICAgICAgIHNlbGYuX2RyaXZlclNldCA9IFByb21pc2UkMS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2RyaXZlclNldDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyh0aGlzLl9kcml2ZXJTZXQsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RyaXZlclNldDtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gc3VwcG9ydHMoZHJpdmVyTmFtZSkge1xuICAgICAgICByZXR1cm4gISFEcml2ZXJTdXBwb3J0W2RyaXZlck5hbWVdO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuX2V4dGVuZCA9IGZ1bmN0aW9uIF9leHRlbmQobGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGV4dGVuZCh0aGlzLCBsaWJyYXJ5TWV0aG9kc0FuZFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuX2dldFN1cHBvcnRlZERyaXZlcnMgPSBmdW5jdGlvbiBfZ2V0U3VwcG9ydGVkRHJpdmVycyhkcml2ZXJzKSB7XG4gICAgICAgIHZhciBzdXBwb3J0ZWREcml2ZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkcml2ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlcnNbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0cyhkcml2ZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgIHN1cHBvcnRlZERyaXZlcnMucHVzaChkcml2ZXJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwcG9ydGVkRHJpdmVycztcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkgPSBmdW5jdGlvbiBfd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCkge1xuICAgICAgICAvLyBBZGQgYSBzdHViIGZvciBlYWNoIGRyaXZlciBBUEkgbWV0aG9kIHRoYXQgZGVsYXlzIHRoZSBjYWxsIHRvIHRoZVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRyaXZlciBtZXRob2QgdW50aWwgbG9jYWxGb3JhZ2UgaXMgcmVhZHkuIFRoZXNlIHN0dWJzXG4gICAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGRyaXZlciBtZXRob2RzIGFzIHNvb24gYXMgdGhlIGRyaXZlciBpc1xuICAgICAgICAvLyBsb2FkZWQsIHNvIHRoZXJlIGlzIG5vIHBlcmZvcm1hbmNlIGltcGFjdC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IExpYnJhcnlNZXRob2RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjYWxsV2hlblJlYWR5KHRoaXMsIExpYnJhcnlNZXRob2RzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9jYWxGb3JhZ2Uob3B0aW9ucyk7XG4gICAgfTtcblxuICAgIHJldHVybiBMb2NhbEZvcmFnZTtcbn0oKTtcblxuLy8gVGhlIGFjdHVhbCBsb2NhbEZvcmFnZSBvYmplY3QgdGhhdCB3ZSBleHBvc2UgYXMgYSBtb2R1bGUgb3IgdmlhIGFcbi8vIGdsb2JhbC4gSXQncyBleHRlbmRlZCBieSBwdWxsaW5nIGluIG9uZSBvZiBvdXIgb3RoZXIgbGlicmFyaWVzLlxuXG5cbnZhciBsb2NhbGZvcmFnZV9qcyA9IG5ldyBMb2NhbEZvcmFnZSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGxvY2FsZm9yYWdlX2pzO1xuXG59LHtcIjNcIjozfV19LHt9LFs0XSkoNClcbn0pO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjAgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjcuMCA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrXG4gKiBzaG9ydGhhbmRzIG9yIGB0aGlzYCBiaW5kaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlFYWNoO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjAgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjcuMCA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgY2FsbGJhY2tcbiAqIHNob3J0aGFuZHMgb3IgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFsrK3Jlc0luZGV4XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5RmlsdGVyO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjAgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjcuMCA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgY2FsbGJhY2tcbiAqIHNob3J0aGFuZHMgb3IgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4yLjAgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBiYXNlQ29weSA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWNvcHknKSxcbiAgICBrZXlzID0gcmVxdWlyZSgnbG9kYXNoLmtleXMnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXJndW1lbnQganVnZ2xpbmcsXG4gKiBtdWx0aXBsZSBzb3VyY2VzLCBhbmQgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgcmV0dXJuIHNvdXJjZSA9PSBudWxsXG4gICAgPyBvYmplY3RcbiAgICA6IGJhc2VDb3B5KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VBc3NpZ247XG4iLCIvKipcbiAqIGxvZGFzaCAzLjMuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGJhc2VJc0VxdWFsID0gcmVxdWlyZSgnbG9kYXNoLl9iYXNlaXNlcXVhbCcpLFxuICAgIGJpbmRDYWxsYmFjayA9IHJlcXVpcmUoJ2xvZGFzaC5fYmluZGNhbGxiYWNrJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJ2xvZGFzaC5pc2FycmF5JyksXG4gICAgcGFpcnMgPSByZXF1aXJlKCdsb2Rhc2gucGFpcnMnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcblxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxuXFxcXF18XFxcXC4pKj8pXFwyKVxcXS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGlmIGl0J3Mgbm90IG9uZS4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkXG4gKiBmb3IgYG51bGxgIG9yIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiAodmFsdWUgKyAnJyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2FsbGJhY2tgIHdoaWNoIHN1cHBvcnRzIHNwZWNpZnlpbmcgdGhlXG4gKiBudW1iZXIgb2YgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IFtmdW5jPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtudW1iZXJ9IFthcmdDb3VudF0gVGhlIG51bWJlciBvZiBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICovXG5mdW5jdGlvbiBiYXNlQ2FsbGJhY2soZnVuYywgdGhpc0FyZywgYXJnQ291bnQpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgZnVuYztcbiAgaWYgKHR5cGUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzQXJnID09PSB1bmRlZmluZWRcbiAgICAgID8gZnVuY1xuICAgICAgOiBiaW5kQ2FsbGJhY2soZnVuYywgdGhpc0FyZywgYXJnQ291bnQpO1xuICB9XG4gIGlmIChmdW5jID09IG51bGwpIHtcbiAgICByZXR1cm4gaWRlbnRpdHk7XG4gIH1cbiAgaWYgKHR5cGUgPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gYmFzZU1hdGNoZXMoZnVuYyk7XG4gIH1cbiAgcmV0dXJuIHRoaXNBcmcgPT09IHVuZGVmaW5lZFxuICAgID8gcHJvcGVydHkoZnVuYylcbiAgICA6IGJhc2VNYXRjaGVzUHJvcGVydHkoZnVuYywgdGhpc0FyZyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBzdHJpbmcgcGF0aHNcbiAqIGFuZCBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IFtwYXRoS2V5XSBUaGUga2V5IHJlcHJlc2VudGF0aW9uIG9mIHBhdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoLCBwYXRoS2V5KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGF0aEtleSAhPT0gdW5kZWZpbmVkICYmIHBhdGhLZXkgaW4gdG9PYmplY3Qob2JqZWN0KSkge1xuICAgIHBhdGggPSBbcGF0aEtleV07XG4gIH1cbiAgdmFyIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgIG9iamVjdCA9IG9iamVjdFtwYXRoW2luZGV4KytdXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICogc2hvcnRoYW5kcyBhbmQgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gIWxlbmd0aDtcbiAgfVxuICBvYmplY3QgPSB0b09iamVjdChvYmplY3QpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5KSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBjdXN0b21pemVyLCB0cnVlKSA6IHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2VzIG5vdCBjbG9uZSBgc291cmNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgIHZhciBrZXkgPSBtYXRjaERhdGFbMF1bMF0sXG4gICAgICAgIHZhbHVlID0gbWF0Y2hEYXRhWzBdWzFdO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gdmFsdWUgJiYgKHZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiB0b09iamVjdChvYmplY3QpKSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgbWF0Y2hEYXRhKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXMgbm90IGNsb25lIGBzcmNWYWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheShwYXRoKSxcbiAgICAgIGlzQ29tbW9uID0gaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSxcbiAgICAgIHBhdGhLZXkgPSAocGF0aCArICcnKTtcblxuICBwYXRoID0gdG9QYXRoKHBhdGgpO1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBrZXkgPSBwYXRoS2V5O1xuICAgIG9iamVjdCA9IHRvT2JqZWN0KG9iamVjdCk7XG4gICAgaWYgKChpc0FyciB8fCAhaXNDb21tb24pICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9IHBhdGgubGVuZ3RoID09IDEgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAga2V5ID0gbGFzdChwYXRoKTtcbiAgICAgIG9iamVjdCA9IHRvT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWVcbiAgICAgID8gKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBvYmplY3QpKVxuICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqZWN0W2tleV0sIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gIHZhciBwYXRoS2V5ID0gKHBhdGggKyAnJyk7XG4gIHBhdGggPSB0b1BhdGgocGF0aCk7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgsIHBhdGhLZXkpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNsaWNlYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6ICgrc3RhcnQgfHwgMCk7XG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICB9XG4gIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogKCtlbmQgfHwgMCk7XG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlbmd0aDtcbiAgfVxuICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gIHN0YXJ0ID4+Pj0gMDtcblxuICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBwcm9wZXJ5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IHBhaXJzKG9iamVjdCksXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIHJlc3VsdFtsZW5ndGhdWzJdID0gaXNTdHJpY3RDb21wYXJhYmxlKHJlc3VsdFtsZW5ndGhdWzFdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICgodHlwZSA9PSAnc3RyaW5nJyAmJiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpKSB8fCB0eXBlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciByZXN1bHQgPSAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpO1xuICByZXR1cm4gcmVzdWx0IHx8IChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiB0b09iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gb2JqZWN0IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gdG9PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogT2JqZWN0KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIHByb3BlcnR5IHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgYmFzZVRvU3RyaW5nKHZhbHVlKS5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG4gKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cbiAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvIGl0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbGl0eVxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICpcbiAqIF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0O1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgYXQgYHBhdGhgIG9uIGFcbiAqIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxpdHlcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBbXG4gKiAgIHsgJ2EnOiB7ICdiJzogeyAnYyc6IDIgfSB9IH0sXG4gKiAgIHsgJ2EnOiB7ICdiJzogeyAnYyc6IDEgfSB9IH1cbiAqIF07XG4gKlxuICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iLmMnKSk7XG4gKiAvLyA9PiBbMiwgMV1cbiAqXG4gKiBfLnBsdWNrKF8uc29ydEJ5KG9iamVjdHMsIF8ucHJvcGVydHkoWydhJywgJ2InLCAnYyddKSksICdhLmIuYycpO1xuICogLy8gPT4gWzEsIDJdXG4gKi9cbmZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgcmV0dXJuIGlzS2V5KHBhdGgpID8gYmFzZVByb3BlcnR5KHBhdGgpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQ2FsbGJhY2s7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMiAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBjb21wYXJlQXNjZW5kaW5nYCB3aGljaCBjb21wYXJlcyB2YWx1ZXMgYW5kXG4gKiBzb3J0cyB0aGVtIGluIGFzY2VuZGluZyBvcmRlciB3aXRob3V0IGd1YXJhbnRlZWluZyBhIHN0YWJsZSBzb3J0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICovXG5mdW5jdGlvbiBiYXNlQ29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgIHZhciB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgdmFsSXNVbmRlZiA9IHZhbHVlID09PSB1bmRlZmluZWQsXG4gICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlO1xuXG4gICAgdmFyIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICBvdGhJc1VuZGVmID0gb3RoZXIgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXI7XG5cbiAgICBpZiAoKHZhbHVlID4gb3RoZXIgJiYgIW90aElzTnVsbCkgfHwgIXZhbElzUmVmbGV4aXZlIHx8XG4gICAgICAgICh2YWxJc051bGwgJiYgIW90aElzVW5kZWYgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICh2YWxJc1VuZGVmICYmIG90aElzUmVmbGV4aXZlKSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmICgodmFsdWUgPCBvdGhlciAmJiAhdmFsSXNOdWxsKSB8fCAhb3RoSXNSZWZsZXhpdmUgfHxcbiAgICAgICAgKG90aElzTnVsbCAmJiAhdmFsSXNVbmRlZiAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgKG90aElzVW5kZWYgJiYgdmFsSXNSZWZsZXhpdmUpKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VDb21wYXJlQXNjZW5kaW5nO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjEgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlQ29weShzb3VyY2UsIHByb3BzLCBvYmplY3QpIHtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQ29weTtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC40IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIga2V5cyA9IHJlcXVpcmUoJ2xvZGFzaC5rZXlzJyk7XG5cbi8qKlxuICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtbnVtYmVyLm1heF9zYWZlX2ludGVnZXIpXG4gKiBvZiBhbiBhcnJheS1saWtlIHZhbHVlLlxuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICogc2hvcnRoYW5kcyBhbmQgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fE9iamVjdHxzdHJpbmd9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICovXG52YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvckluYCBhbmQgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzXG4gKiBvdmVyIGBvYmplY3RgIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBpbnZva2luZyBgaXRlcmF0ZWVgIGZvclxuICogZWFjaCBwcm9wZXJ0eS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5XG4gKiByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrXG4gKiBzaG9ydGhhbmRzIGFuZCBgdGhpc2AgYmluZGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgcmV0dXJuIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGdldExlbmd0aChjb2xsZWN0aW9uKSA6IDA7XG4gICAgaWYgKCFpc0xlbmd0aChsZW5ndGgpKSB7XG4gICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgIH1cbiAgICB2YXIgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgaXRlcmFibGUgPSB0b09iamVjdChjb2xsZWN0aW9uKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIGBfLmZvckluYCBvciBgXy5mb3JJblJpZ2h0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaXRlcmFibGUgPSB0b09iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IHZhbHVlIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXZvaWQgYSBbSklUIGJ1Z10oaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE0Mjc5MilcbiAqIHRoYXQgYWZmZWN0cyBTYWZhcmkgb24gYXQgbGVhc3QgaU9TIDguMS04LjMgQVJNNjQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBcImxlbmd0aFwiIHZhbHVlLlxuICovXG52YXIgZ2V0TGVuZ3RoID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gb2JqZWN0IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gdG9PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogT2JqZWN0KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdCgxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG4gIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlRWFjaDtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgYmFzZUVhY2ggPSByZXF1aXJlKCdsb2Rhc2guX2Jhc2VlYWNoJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrXG4gKiBzaG9ydGhhbmRzIG9yIGB0aGlzYCBiaW5kaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VGaWx0ZXI7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMyAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNiBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JJbmAgYW5kIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlc1xuICogb3ZlciBgb2JqZWN0YCBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgaW52b2tpbmcgYGl0ZXJhdGVlYCBmb3JcbiAqIGVhY2ggcHJvcGVydHkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseVxuICogcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlRm9yO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjcgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnbG9kYXNoLmlzYXJyYXknKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXN0eXBlZGFycmF5JyksXG4gICAga2V5cyA9IHJlcXVpcmUoJ2xvZGFzaC5rZXlzJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZSBbYHRvU3RyaW5nVGFnYF0oaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmpUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgY2FsbGJhY2tcbiAqIHNob3J0aGFuZHMgYW5kIGB0aGlzYCBiaW5kaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYHRoaXNgIGJpbmRpbmdcbiAqIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIHZhbHVlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTG9vc2VdIFNwZWNpZnkgcGVyZm9ybWluZyBwYXJ0aWFsIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQV0gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIG9iamVjdHMuXG4gKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCXSBUcmFja3MgdHJhdmVyc2VkIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgY3VzdG9taXplciwgaXNMb29zZSwgc3RhY2tBLCBzdGFja0IpIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdCh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJhc2VJc0VxdWFsLCBjdXN0b21pemVyLCBpc0xvb3NlLCBzdGFja0EsIHN0YWNrQik7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIG9iamVjdHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0xvb3NlXSBTcGVjaWZ5IHBlcmZvcm1pbmcgcGFydGlhbCBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBvYmplY3RzLlxuICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQj1bXV0gVHJhY2tzIHRyYXZlcnNlZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgaXNMb29zZSwgc3RhY2tBLCBzdGFja0IpIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IGFycmF5VGFnLFxuICAgICAgb3RoVGFnID0gYXJyYXlUYWc7XG5cbiAgaWYgKCFvYmpJc0Fycikge1xuICAgIG9ialRhZyA9IG9ialRvU3RyaW5nLmNhbGwob2JqZWN0KTtcbiAgICBpZiAob2JqVGFnID09IGFyZ3NUYWcpIHtcbiAgICAgIG9ialRhZyA9IG9iamVjdFRhZztcbiAgICB9IGVsc2UgaWYgKG9ialRhZyAhPSBvYmplY3RUYWcpIHtcbiAgICAgIG9iaklzQXJyID0gaXNUeXBlZEFycmF5KG9iamVjdCk7XG4gICAgfVxuICB9XG4gIGlmICghb3RoSXNBcnIpIHtcbiAgICBvdGhUYWcgPSBvYmpUb1N0cmluZy5jYWxsKG90aGVyKTtcbiAgICBpZiAob3RoVGFnID09IGFyZ3NUYWcpIHtcbiAgICAgIG90aFRhZyA9IG9iamVjdFRhZztcbiAgICB9IGVsc2UgaWYgKG90aFRhZyAhPSBvYmplY3RUYWcpIHtcbiAgICAgIG90aElzQXJyID0gaXNUeXBlZEFycmF5KG90aGVyKTtcbiAgICB9XG4gIH1cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiAhKG9iaklzQXJyIHx8IG9iaklzT2JqKSkge1xuICAgIHJldHVybiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZyk7XG4gIH1cbiAgaWYgKCFpc0xvb3NlKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCwgb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyLCBjdXN0b21pemVyLCBpc0xvb3NlLCBzdGFja0EsIHN0YWNrQik7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgLy8gRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gZGV0ZWN0aW5nIGNpcmN1bGFyIHJlZmVyZW5jZXMgc2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jSk8uXG4gIHN0YWNrQSB8fCAoc3RhY2tBID0gW10pO1xuICBzdGFja0IgfHwgKHN0YWNrQiA9IFtdKTtcblxuICB2YXIgbGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKHN0YWNrQVtsZW5ndGhdID09IG9iamVjdCkge1xuICAgICAgcmV0dXJuIHN0YWNrQltsZW5ndGhdID09IG90aGVyO1xuICAgIH1cbiAgfVxuICAvLyBBZGQgYG9iamVjdGAgYW5kIGBvdGhlcmAgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICBzdGFja0EucHVzaChvYmplY3QpO1xuICBzdGFja0IucHVzaChvdGhlcik7XG5cbiAgdmFyIHJlc3VsdCA9IChvYmpJc0FyciA/IGVxdWFsQXJyYXlzIDogZXF1YWxPYmplY3RzKShvYmplY3QsIG90aGVyLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGlzTG9vc2UsIHN0YWNrQSwgc3RhY2tCKTtcblxuICBzdGFja0EucG9wKCk7XG4gIHN0YWNrQi5wb3AoKTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmluZyBhcnJheXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0xvb3NlXSBTcGVjaWZ5IHBlcmZvcm1pbmcgcGFydGlhbCBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0FdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBvYmplY3RzLlxuICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQl0gVHJhY2tzIHRyYXZlcnNlZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgaXNMb29zZSwgc3RhY2tBLCBzdGFja0IpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc0xvb3NlICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF0sXG4gICAgICAgIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKGlzTG9vc2UgPyBvdGhWYWx1ZSA6IGFyclZhbHVlLCBpc0xvb3NlID8gYXJyVmFsdWUgOiBvdGhWYWx1ZSwgaW5kZXgpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChpc0xvb3NlKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgY3VzdG9taXplciwgaXNMb29zZSwgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGN1c3RvbWl6ZXIsIGlzTG9vc2UsIHN0YWNrQSwgc3RhY2tCKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcpIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1iZXJzLCBkYXRlcyB0byBtaWxsaXNlY29uZHMgYW5kIGJvb2xlYW5zXG4gICAgICAvLyB0byBgMWAgb3IgYDBgIHRyZWF0aW5nIGludmFsaWQgZGF0ZXMgY29lcmNlZCB0byBgTmFOYCBhcyBub3QgZXF1YWwuXG4gICAgICByZXR1cm4gK29iamVjdCA9PSArb3RoZXI7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gVHJlYXQgYE5hTmAgdnMuIGBOYU5gIGFzIGVxdWFsLlxuICAgICAgcmV0dXJuIChvYmplY3QgIT0gK29iamVjdClcbiAgICAgICAgPyBvdGhlciAhPSArb3RoZXJcbiAgICAgICAgOiBvYmplY3QgPT0gK290aGVyO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzIHByaW1pdGl2ZXMgYW5kIHN0cmluZ1xuICAgICAgLy8gb2JqZWN0cyBhcyBlcXVhbC4gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEwLjYuNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmluZyB2YWx1ZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0xvb3NlXSBTcGVjaWZ5IHBlcmZvcm1pbmcgcGFydGlhbCBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0FdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBvYmplY3RzLlxuICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQl0gVHJhY2tzIHRyYXZlcnNlZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgaXNMb29zZSwgc3RhY2tBLCBzdGFja0IpIHtcbiAgdmFyIG9ialByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBrZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNMb29zZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc0xvb3NlID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgdmFyIHNraXBDdG9yID0gaXNMb29zZTtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XSxcbiAgICAgICAgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIoaXNMb29zZSA/IG90aFZhbHVlIDogb2JqVmFsdWUsIGlzTG9vc2U/IG9ialZhbHVlIDogb3RoVmFsdWUsIGtleSkgOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZCA/IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGN1c3RvbWl6ZXIsIGlzTG9vc2UsIHN0YWNrQSwgc3RhY2tCKSA6IHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmICghc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzRXF1YWw7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMiAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNiBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gIH0pO1xuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlZHVjZTtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCBhbmQgYF8uc29ydEJ5QWxsYCB3aGljaCB1c2VzIGBjb21wYXJlcmBcbiAqIHRvIGRlZmluZSB0aGUgc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVNvcnRCeTtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4xIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBpZiBpdCdzIG5vdCBvbmUuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZFxuICogZm9yIGBudWxsYCBvciBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogKHZhbHVlICsgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICogcmV0dXJuZWQgYnkgYGtleXNGdW5jYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IG9iamVjdFtwcm9wc1tpbmRleF1dO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVZhbHVlcztcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4xIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQ2FsbGJhY2tgIHdoaWNoIG9ubHkgc3VwcG9ydHMgYHRoaXNgIGJpbmRpbmdcbiAqIGFuZCBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge251bWJlcn0gW2FyZ0NvdW50XSBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGJpbmRDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCkge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBpZGVudGl0eTtcbiAgfVxuICBpZiAodGhpc0FyZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH1cbiAgc3dpdGNoIChhcmdDb3VudCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIHZhbHVlKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH07XG4gICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9O1xuICAgIGNhc2UgNTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlciwga2V5LCBvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgb3RoZXIsIGtleSwgb2JqZWN0LCBzb3VyY2UpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgcHJvdmlkZWQgdG8gaXQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsaXR5XG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gKlxuICogXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3Q7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiaW5kQ2FsbGJhY2s7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjEuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGJpbmRDYWxsYmFjayA9IHJlcXVpcmUoJ2xvZGFzaC5fYmluZGNhbGxiYWNrJyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCdsb2Rhc2guX2lzaXRlcmF0ZWVjYWxsJyksXG4gICAgcmVzdFBhcmFtID0gcmVxdWlyZSgnbG9kYXNoLnJlc3RwYXJhbScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFzc2lnbnMgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0KHMpIHRvIGEgZ2l2ZW5cbiAqIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSBgXy5hc3NpZ25gLCBgXy5kZWZhdWx0c2AsIGFuZCBgXy5tZXJnZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiByZXN0UGFyYW0oZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbbGVuZ3RoIC0gMl0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQsXG4gICAgICAgIHRoaXNBcmcgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgIGlmICh0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjdXN0b21pemVyID0gYmluZENhbGxiYWNrKGN1c3RvbWl6ZXIsIHRoaXNBcmcsIDUpO1xuICAgICAgbGVuZ3RoIC09IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgdGhpc0FyZyA9PSAnZnVuY3Rpb24nID8gdGhpc0FyZyA6IHVuZGVmaW5lZDtcbiAgICAgIGxlbmd0aCAtPSAoY3VzdG9taXplciA/IDEgOiAwKTtcbiAgICB9XG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBc3NpZ25lcjtcbiIsIi8qKlxuICogbG9kYXNoIDMuOS4xIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkgPiA1KS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKiBVc2VkIGZvciBuYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZm5Ub1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqVG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZuVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICByZXR1cm4gaXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZSBhbmQgU2FmYXJpIHdoaWNoIHJldHVybiAnZnVuY3Rpb24nIGZvciByZWdleGVzXG4gIC8vIGFuZCBTYWZhcmkgOCBlcXVpdmFsZW50cyB3aGljaCByZXR1cm4gJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9ycy5cbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBmdW5jVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG4gKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cbiAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTmF0aXZlKF8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIHJlSXNOYXRpdmUudGVzdChmblRvU3RyaW5nLmNhbGwodmFsdWUpKTtcbiAgfVxuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiByZUlzSG9zdEN0b3IudGVzdCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjkgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL15cXGQrJC87XG5cbi8qKlxuICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtbnVtYmVyLm1heF9zYWZlX2ludGVnZXIpXG4gKiBvZiBhbiBhcnJheS1saWtlIHZhbHVlLlxuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSB2YWx1ZSBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGF2b2lkIGEgW0pJVCBidWddKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDI3OTIpXG4gKiB0aGF0IGFmZmVjdHMgU2FmYXJpIG9uIGF0IGxlYXN0IGlPUyA4LjEtOC4zIEFSTTY0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgXCJsZW5ndGhcIiB2YWx1ZS5cbiAqL1xudmFyIGdldExlbmd0aCA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKGdldExlbmd0aCh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YWx1ZSA9ICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpID8gK3ZhbHVlIDogLTE7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGg7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpKSB7XG4gICAgdmFyIG90aGVyID0gb2JqZWN0W2luZGV4XTtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gKHZhbHVlID09PSBvdGhlcikgOiAob3RoZXIgIT09IG90aGVyKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyBiYXNlZCBvbiBbYFRvTGVuZ3RoYF0oaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdCgxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG4gIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0l0ZXJhdGVlQ2FsbDtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG52YXIgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlSW50ZXJwb2xhdGU7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNiBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBVc2VkIHRvIGRldGVybWluZSBpZiB2YWx1ZXMgYXJlIG9mIHRoZSBsYW5ndWFnZSB0eXBlIGBPYmplY3RgLiAqL1xudmFyIG9iamVjdFR5cGVzID0ge1xuICAnZnVuY3Rpb24nOiB0cnVlLFxuICAnb2JqZWN0JzogdHJ1ZVxufTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IChvYmplY3RUeXBlc1t0eXBlb2YgZXhwb3J0c10gJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSlcbiAgPyBleHBvcnRzXG4gIDogdW5kZWZpbmVkO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IChvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSlcbiAgPyBtb2R1bGVcbiAgOiB1bmRlZmluZWQ7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IGNoZWNrR2xvYmFsKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUgJiYgdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gY2hlY2tHbG9iYWwob2JqZWN0VHlwZXNbdHlwZW9mIHNlbGZdICYmIHNlbGYpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHdpbmRvd2AuICovXG52YXIgZnJlZVdpbmRvdyA9IGNoZWNrR2xvYmFsKG9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddICYmIHdpbmRvdyk7XG5cbi8qKiBEZXRlY3QgYHRoaXNgIGFzIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHRoaXNHbG9iYWwgPSBjaGVja0dsb2JhbChvYmplY3RUeXBlc1t0eXBlb2YgdGhpc10gJiYgdGhpcyk7XG5cbi8qKlxuICogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAqXG4gKiBUaGUgYHRoaXNgIHZhbHVlIGlzIHVzZWQgaWYgaXQncyB0aGUgZ2xvYmFsIG9iamVjdCB0byBhdm9pZCBHcmVhc2Vtb25rZXknc1xuICogcmVzdHJpY3RlZCBgd2luZG93YCBvYmplY3QsIG90aGVyd2lzZSB0aGUgYHdpbmRvd2Agb2JqZWN0IGlzIHVzZWQuXG4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fFxuICAoKGZyZWVXaW5kb3cgIT09ICh0aGlzR2xvYmFsICYmIHRoaXNHbG9iYWwud2luZG93KSkgJiYgZnJlZVdpbmRvdykgfHxcbiAgICBmcmVlU2VsZiB8fCB0aGlzR2xvYmFsIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBnbG9iYWwgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyBgdmFsdWVgIGlmIGl0J3MgYSBnbG9iYWwgb2JqZWN0LCBlbHNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tHbG9iYWwodmFsdWUpIHtcbiAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZS5PYmplY3QgPT09IE9iamVjdCkgPyB2YWx1ZSA6IG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcm9vdDtcbiIsIi8qKlxuICogbG9kYXNoIDMuMi4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgYmFzZUFzc2lnbiA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWFzc2lnbicpLFxuICAgIGNyZWF0ZUFzc2lnbmVyID0gcmVxdWlyZSgnbG9kYXNoLl9jcmVhdGVhc3NpZ25lcicpLFxuICAgIGtleXMgPSByZXF1aXJlKCdsb2Rhc2gua2V5cycpO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5hc3NpZ25gIGZvciBjdXN0b21pemluZyBhc3NpZ25lZCB2YWx1ZXMgd2l0aG91dFxuICogc3VwcG9ydCBmb3IgYXJndW1lbnQganVnZ2xpbmcsIG11bHRpcGxlIHNvdXJjZXMsIGFuZCBgdGhpc2AgYmluZGluZyBgY3VzdG9taXplcmBcbiAqIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBhc3NpZ25XaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdLFxuICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICByZXN1bHQgPSBjdXN0b21pemVyKHZhbHVlLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSk7XG5cbiAgICBpZiAoKHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlc3VsdCAhPT0gdmFsdWUpIDogKHZhbHVlID09PSB2YWx1ZSkpIHx8XG4gICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICBvYmplY3Rba2V5XSA9IHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdChzKSB0byB0aGUgZGVzdGluYXRpb25cbiAqIG9iamVjdC4gU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICogSWYgYGN1c3RvbWl6ZXJgIGlzIHByb3ZpZGVkIGl0IGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLlxuICogVGhlIGBjdXN0b21pemVyYCBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czpcbiAqIChvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBiYXNlZCBvblxuICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW9iamVjdC5hc3NpZ24pLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAYWxpYXMgZXh0ZW5kXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY3VzdG9taXplcmAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmFzc2lnbih7ICd1c2VyJzogJ2Jhcm5leScgfSwgeyAnYWdlJzogNDAgfSwgeyAndXNlcic6ICdmcmVkJyB9KTtcbiAqIC8vID0+IHsgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XG4gKlxuICogLy8gdXNpbmcgYSBjdXN0b21pemVyIGNhbGxiYWNrXG4gKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbiwgZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKHZhbHVlKSA/IG90aGVyIDogdmFsdWU7XG4gKiB9KTtcbiAqXG4gKiBkZWZhdWx0cyh7ICd1c2VyJzogJ2Jhcm5leScgfSwgeyAnYWdlJzogMzYgfSwgeyAndXNlcic6ICdmcmVkJyB9KTtcbiAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAqL1xudmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gIHJldHVybiBjdXN0b21pemVyXG4gICAgPyBhc3NpZ25XaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKVxuICAgIDogYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG4iLCIvKipcbiAqIGxvZGFzaCAzLjIuMCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNiBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgcm9vdCA9IHJlcXVpcmUoJ2xvZGFzaC5fcm9vdCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbnZhciByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ2BdL2csXG4gICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4vKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xudmFyIGh0bWxFc2NhcGVzID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnLFxuICAnYCc6ICcmIzk2Oydcbn07XG5cbi8qKlxuICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlSHRtbENoYXIoY2hyKSB7XG4gIHJldHVybiBodG1sRXNjYXBlc1tjaHJdO1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gU3ltYm9sID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgY29ycmVjdGx5IGNsYXNzaWZpZWQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBpZiBpdCdzIG5vdCBvbmUuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZFxuICogZm9yIGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN5bWJvbCA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIFwiJ1wiLCBhbmQgXCJcXGBcIiBpbiBgc3RyaW5nYCB0b1xuICogdGhlaXIgY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICpcbiAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gKlxuICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICogU2VlIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEJhY2t0aWNrcyBhcmUgZXNjYXBlZCBiZWNhdXNlIGluIElFIDwgOSwgdGhleSBjYW4gYnJlYWsgb3V0IG9mXG4gKiBhdHRyaWJ1dGUgdmFsdWVzIG9yIEhUTUwgY29tbWVudHMuIFNlZSBbIzU5XShodHRwczovL2h0bWw1c2VjLm9yZy8jNTkpLFxuICogWyMxMDJdKGh0dHBzOi8vaHRtbDVzZWMub3JnLyMxMDIpLCBbIzEwOF0oaHR0cHM6Ly9odG1sNXNlYy5vcmcvIzEwOCksIGFuZFxuICogWyMxMzNdKGh0dHBzOi8vaHRtbDVzZWMub3JnLyMxMzMpIG9mIHRoZSBbSFRNTDUgU2VjdXJpdHkgQ2hlYXRzaGVldF0oaHR0cHM6Ly9odG1sNXNlYy5vcmcvKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZylcbiAqIHRvIHJlZHVjZSBYU1MgdmVjdG9ycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAqL1xuZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICA6IHN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGU7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjEuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGFycmF5RmlsdGVyID0gcmVxdWlyZSgnbG9kYXNoLl9hcnJheWZpbHRlcicpLFxuICAgIGJhc2VDYWxsYmFjayA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWNhbGxiYWNrJyksXG4gICAgYmFzZUZpbHRlciA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWZpbHRlcicpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICpcbiAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYHByZWRpY2F0ZWAgdGhlIGNyZWF0ZWQgYF8ucHJvcGVydHlgXG4gKiBzdHlsZSBjYWxsYmFjayByZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBJZiBhIHZhbHVlIGlzIGFsc28gcHJvdmlkZWQgZm9yIGB0aGlzQXJnYCB0aGUgY3JlYXRlZCBgXy5tYXRjaGVzUHJvcGVydHlgXG4gKiBzdHlsZSBjYWxsYmFjayByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIGEgbWF0Y2hpbmcgcHJvcGVydHlcbiAqIHZhbHVlLCBlbHNlIGBmYWxzZWAuXG4gKlxuICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgcHJlZGljYXRlYCB0aGUgY3JlYXRlZCBgXy5tYXRjaGVzYCBzdHlsZVxuICogY2FsbGJhY2sgcmV0dXJucyBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW5cbiAqIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAYWxpYXMgc2VsZWN0XG4gKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZFxuICogIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYHByZWRpY2F0ZWAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5maWx0ZXIoWzQsIDUsIDZdLCBmdW5jdGlvbihuKSB7XG4gKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICogfSk7XG4gKiAvLyA9PiBbNCwgNl1cbiAqXG4gKiB2YXIgdXNlcnMgPSBbXG4gKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAqIF07XG4gKlxuICogLy8gdXNpbmcgdGhlIGBfLm1hdGNoZXNgIGNhbGxiYWNrIHNob3J0aGFuZFxuICogXy5wbHVjayhfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pLCAndXNlcicpO1xuICogLy8gPT4gWydiYXJuZXknXVxuICpcbiAqIC8vIHVzaW5nIHRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGNhbGxiYWNrIHNob3J0aGFuZFxuICogXy5wbHVjayhfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScsIGZhbHNlKSwgJ3VzZXInKTtcbiAqIC8vID0+IFsnZnJlZCddXG4gKlxuICogLy8gdXNpbmcgdGhlIGBfLnByb3BlcnR5YCBjYWxsYmFjayBzaG9ydGhhbmRcbiAqIF8ucGx1Y2soXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKSwgJ3VzZXInKTtcbiAqIC8vID0+IFsnYmFybmV5J11cbiAqL1xuZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gIHByZWRpY2F0ZSA9IGJhc2VDYWxsYmFjayhwcmVkaWNhdGUsIHRoaXNBcmcsIDMpO1xuICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbHRlcjtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC4zIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgYXJyYXlFYWNoID0gcmVxdWlyZSgnbG9kYXNoLl9hcnJheWVhY2gnKSxcbiAgICBiYXNlRWFjaCA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWVhY2gnKSxcbiAgICBiaW5kQ2FsbGJhY2sgPSByZXF1aXJlKCdsb2Rhc2guX2JpbmRjYWxsYmFjaycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBmb3IgYF8uZm9yRWFjaGAgb3IgYF8uZm9yRWFjaFJpZ2h0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYW4gYXJyYXkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGVhY2ggZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goYXJyYXlGdW5jLCBlYWNoRnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgPT09IHVuZGVmaW5lZCAmJiBpc0FycmF5KGNvbGxlY3Rpb24pKVxuICAgICAgPyBhcnJheUZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpXG4gICAgICA6IGVhY2hGdW5jKGNvbGxlY3Rpb24sIGJpbmRDYWxsYmFjayhpdGVyYXRlZSwgdGhpc0FyZywgMykpO1xuICB9O1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGludm9raW5nIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAqIFRoZSBgaXRlcmF0ZWVgIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseVxuICogYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIiBwcm9wZXJ0eVxuICogYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIGBfLmZvckluYCBvciBgXy5mb3JPd25gXG4gKiBtYXkgYmUgdXNlZCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGFsaWFzIGVhY2hcbiAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGl0ZXJhdGVlYC5cbiAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R8c3RyaW5nfSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXyhbMSwgMl0pLmZvckVhY2goZnVuY3Rpb24obikge1xuICogICBjb25zb2xlLmxvZyhuKTtcbiAqIH0pLnZhbHVlKCk7XG4gKiAvLyA9PiBsb2dzIGVhY2ggdmFsdWUgZnJvbSBsZWZ0IHRvIHJpZ2h0IGFuZCByZXR1cm5zIHRoZSBhcnJheVxuICpcbiAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKG4sIGtleSkge1xuICogICBjb25zb2xlLmxvZyhuLCBrZXkpO1xuICogfSk7XG4gKiAvLyA9PiBsb2dzIGVhY2ggdmFsdWUta2V5IHBhaXIgYW5kIHJldHVybnMgdGhlIG9iamVjdCAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG52YXIgZm9yRWFjaCA9IGNyZWF0ZUZvckVhY2goYXJyYXlFYWNoLCBiYXNlRWFjaCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZm9yRWFjaDtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJndW1lbnRzO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjQgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkgPiA1KS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKiBVc2VkIGZvciBuYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZm5Ub1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqVG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZuVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qIE5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNBcnJheSA9IGdldE5hdGl2ZShBcnJheSwgJ2lzQXJyYXknKTtcblxuLyoqXG4gKiBVc2VkIGFzIHRoZSBbbWF4aW11bSBsZW5ndGhdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW51bWJlci5tYXhfc2FmZV9pbnRlZ2VyKVxuICogb2YgYW4gYXJyYXktbGlrZSB2YWx1ZS5cbiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgcmV0dXJuIGlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcnJheVRhZztcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZSBhbmQgU2FmYXJpIHdoaWNoIHJldHVybiAnZnVuY3Rpb24nIGZvciByZWdleGVzXG4gIC8vIGFuZCBTYWZhcmkgOCBlcXVpdmFsZW50cyB3aGljaCByZXR1cm4gJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9ycy5cbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBmdW5jVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG4gKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cbiAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTmF0aXZlKF8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIHJlSXNOYXRpdmUudGVzdChmblRvU3RyaW5nLmNhbGwodmFsdWUpKTtcbiAgfVxuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiByZUlzSG9zdEN0b3IudGVzdCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcbiIsIi8qKlxuICogbG9kYXNoIDMuMC44IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC5pc3BsYWlub2JqZWN0Jyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VsZW1lbnQ7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMiAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG4gKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cbiAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4yLjAgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBiYXNlRm9yID0gcmVxdWlyZSgnbG9kYXNoLl9iYXNlZm9yJyksXG4gICAgaXNBcmd1bWVudHMgPSByZXF1aXJlKCdsb2Rhc2guaXNhcmd1bWVudHMnKSxcbiAgICBrZXlzSW4gPSByZXF1aXJlKCdsb2Rhc2gua2V5c2luJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqVG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICogc2hvcnRoYW5kcyBhbmQgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZUZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgcmV0dXJuIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5c0luKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFzc3VtZXMgb2JqZWN0cyBjcmVhdGVkIGJ5IHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3RvclxuICogaGF2ZSBubyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHZhciBDdG9yO1xuXG4gIC8vIEV4aXQgZWFybHkgZm9yIG5vbiBgT2JqZWN0YCBvYmplY3RzLlxuICBpZiAoIShpc09iamVjdExpa2UodmFsdWUpICYmIG9ialRvU3RyaW5nLmNhbGwodmFsdWUpID09IG9iamVjdFRhZyAmJiAhaXNBcmd1bWVudHModmFsdWUpKSB8fFxuICAgICAgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY29uc3RydWN0b3InKSAmJiAoQ3RvciA9IHZhbHVlLmNvbnN0cnVjdG9yLCB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmICEoQ3RvciBpbnN0YW5jZW9mIEN0b3IpKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gSUUgPCA5IGl0ZXJhdGVzIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlZm9yZSBvd24gcHJvcGVydGllcy4gSWYgdGhlIGZpcnN0XG4gIC8vIGl0ZXJhdGVkIHByb3BlcnR5IGlzIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0eSB0aGVuIHRoZXJlIGFyZSBubyBpbmhlcml0ZWRcbiAgLy8gZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICB2YXIgcmVzdWx0O1xuICAvLyBJbiBtb3N0IGVudmlyb25tZW50cyBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcyBhcmUgaXRlcmF0ZWQgYmVmb3JlXG4gIC8vIGl0cyBpbmhlcml0ZWQgcHJvcGVydGllcy4gSWYgdGhlIGxhc3QgaXRlcmF0ZWQgcHJvcGVydHkgaXMgYW4gb2JqZWN0J3NcbiAgLy8gb3duIHByb3BlcnR5IHRoZW4gdGhlcmUgYXJlIG5vIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gIGJhc2VGb3JJbih2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgIHJlc3VsdCA9IGtleTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCByZXN1bHQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuNiAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVHlwZWRBcnJheTtcbiIsIi8qKlxuICogbG9kYXNoIDMuMS4yIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnbG9kYXNoLl9nZXRuYXRpdmUnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJ2xvZGFzaC5pc2FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXlxcZCskLztcblxuLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qIE5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlS2V5cyA9IGdldE5hdGl2ZShPYmplY3QsICdrZXlzJyk7XG5cbi8qKlxuICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcbiAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IHZhbHVlIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXZvaWQgYSBbSklUIGJ1Z10oaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE0Mjc5MilcbiAqIHRoYXQgYWZmZWN0cyBTYWZhcmkgb24gYXQgbGVhc3QgaU9TIDguMS04LjMgQVJNNjQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBcImxlbmd0aFwiIHZhbHVlLlxuICovXG52YXIgZ2V0TGVuZ3RoID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgoZ2V0TGVuZ3RoKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhbHVlID0gKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgPyArdmFsdWUgOiAtMTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQSBmYWxsYmFjayBpbXBsZW1lbnRhdGlvbiBvZiBgT2JqZWN0LmtleXNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlXG4gKiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gc2hpbUtleXMob2JqZWN0KSB7XG4gIHZhciBwcm9wcyA9IGtleXNJbihvYmplY3QpLFxuICAgICAgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBwcm9wc0xlbmd0aCAmJiBvYmplY3QubGVuZ3RoO1xuXG4gIHZhciBhbGxvd0luZGV4ZXMgPSAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmXG4gICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgIGlmICgoYWxsb3dJbmRleGVzICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpKSB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdCgxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG4gIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xudmFyIGtleXMgPSAhbmF0aXZlS2V5cyA/IHNoaW1LZXlzIDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHZhciBDdG9yID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3QuY29uc3RydWN0b3I7XG4gIGlmICgodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSA9PT0gb2JqZWN0KSB8fFxuICAgICAgKHR5cGVvZiBvYmplY3QgIT0gJ2Z1bmN0aW9uJyAmJiBpc0FycmF5TGlrZShvYmplY3QpKSkge1xuICAgIHJldHVybiBzaGltS2V5cyhvYmplY3QpO1xuICB9XG4gIHJldHVybiBpc09iamVjdChvYmplY3QpID8gbmF0aXZlS2V5cyhvYmplY3QpIDogW107XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB9XG4gIHZhciBsZW5ndGggPSBvYmplY3QubGVuZ3RoO1xuICBsZW5ndGggPSAobGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiZcbiAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpICYmIGxlbmd0aCkgfHwgMDtcblxuICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBpc1Byb3RvID0gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSA9PT0gb2JqZWN0LFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgIHNraXBJbmRleGVzID0gbGVuZ3RoID4gMDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSAoaW5kZXggKyAnJyk7XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKHNraXBJbmRleGVzICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpKSAmJlxuICAgICAgICAhKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXM7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuOCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnbG9kYXNoLmlzYXJndW1lbnRzJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJ2xvZGFzaC5pc2FycmF5Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eXFxkKyQvO1xuXG4vKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIGFzIHRoZSBbbWF4aW11bSBsZW5ndGhdKGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcbiAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFsdWUgPSAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSA/ICt2YWx1ZSA6IC0xO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gW2BUb0xlbmd0aGBdKGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7XG4gIGxlbmd0aCA9IChsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSkgJiYgbGVuZ3RoKSB8fCAwO1xuXG4gIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgaW5kZXggPSAtMSxcbiAgICAgIGlzUHJvdG8gPSB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlID09PSBvYmplY3QsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBsZW5ndGggPiAwO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IChpbmRleCArICcnKTtcbiAgfVxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoc2tpcEluZGV4ZXMgJiYgaXNJbmRleChrZXksIGxlbmd0aCkpICYmXG4gICAgICAgICEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5c0luO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4xLjQgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBhcnJheU1hcCA9IHJlcXVpcmUoJ2xvZGFzaC5fYXJyYXltYXAnKSxcbiAgICBiYXNlQ2FsbGJhY2sgPSByZXF1aXJlKCdsb2Rhc2guX2Jhc2VjYWxsYmFjaycpLFxuICAgIGJhc2VFYWNoID0gcmVxdWlyZSgnbG9kYXNoLl9iYXNlZWFjaCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKipcbiAqIFVzZWQgYXMgdGhlIFttYXhpbXVtIGxlbmd0aF0oaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW51bWJlci5tYXhfc2FmZV9pbnRlZ2VyKVxuICogb2YgYW4gYXJyYXktbGlrZSB2YWx1ZS5cbiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFjayBzaG9ydGhhbmRzXG4gKiBhbmQgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgdmFsdWUgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhdm9pZCBhIFtKSVQgYnVnXShodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyNzkyKVxuICogdGhhdCBhZmZlY3RzIFNhZmFyaSBvbiBhdCBsZWFzdCBpT1MgOC4xLTguMyBBUk02NC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIFwibGVuZ3RoXCIgdmFsdWUuXG4gKi9cbnZhciBnZXRMZW5ndGggPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aChnZXRMZW5ndGgodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJvdWdoXG4gKiBgaXRlcmF0ZWVgLiBUaGUgYGl0ZXJhdGVlYCBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gKlxuICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgaXRlcmF0ZWVgIHRoZSBjcmVhdGVkIGBfLnByb3BlcnR5YFxuICogc3R5bGUgY2FsbGJhY2sgcmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogSWYgYSB2YWx1ZSBpcyBhbHNvIHByb3ZpZGVkIGZvciBgdGhpc0FyZ2AgdGhlIGNyZWF0ZWQgYF8ubWF0Y2hlc1Byb3BlcnR5YFxuICogc3R5bGUgY2FsbGJhY2sgcmV0dXJucyBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSBhIG1hdGNoaW5nIHByb3BlcnR5XG4gKiB2YWx1ZSwgZWxzZSBgZmFsc2VgLlxuICpcbiAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGl0ZXJhdGVlYCB0aGUgY3JlYXRlZCBgXy5tYXRjaGVzYCBzdHlsZVxuICogY2FsbGJhY2sgcmV0dXJucyBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW5cbiAqIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICpcbiAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gKlxuICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gKiBgYXJ5YCwgYGNhbGxiYWNrYCwgYGNodW5rYCwgYGNsb25lYCwgYGNyZWF0ZWAsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCxcbiAqIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsIGBmaWxsYCwgYGZsYXR0ZW5gLCBgaW52ZXJ0YCwgYG1heGAsIGBtaW5gLFxuICogYHBhcnNlSW50YCwgYHNsaWNlYCwgYHNvcnRCeWAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0ZW1wbGF0ZWAsIGB0cmltYCxcbiAqIGB0cmltTGVmdGAsIGB0cmltUmlnaHRgLCBgdHJ1bmNgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHNhbXBsZWAsIGBzb21lYCxcbiAqIGBzdW1gLCBgdW5pcWAsIGFuZCBgd29yZHNgXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBhbGlhcyBjb2xsZWN0XG4gKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkXG4gKiAgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgaXRlcmF0ZWVgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiB0aW1lc1RocmVlKG4pIHtcbiAqICAgcmV0dXJuIG4gKiAzO1xuICogfVxuICpcbiAqIF8ubWFwKFsxLCAyXSwgdGltZXNUaHJlZSk7XG4gKiAvLyA9PiBbMywgNl1cbiAqXG4gKiBfLm1hcCh7ICdhJzogMSwgJ2InOiAyIH0sIHRpbWVzVGhyZWUpO1xuICogLy8gPT4gWzMsIDZdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogdmFyIHVzZXJzID0gW1xuICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gKiBdO1xuICpcbiAqIC8vIHVzaW5nIHRoZSBgXy5wcm9wZXJ0eWAgY2FsbGJhY2sgc2hvcnRoYW5kXG4gKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICovXG5mdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIHRoaXNBcmcpIHtcbiAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICBpdGVyYXRlZSA9IGJhc2VDYWxsYmFjayhpdGVyYXRlZSwgdGhpc0FyZywgMyk7XG4gIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXA7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjAuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGJhc2VDYWxsYmFjayA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWNhbGxiYWNrJyksXG4gICAgYmFzZUZvciA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWZvcicpLFxuICAgIGtleXMgPSByZXF1aXJlKCdsb2Rhc2gua2V5cycpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICogc2hvcnRoYW5kcyBhbmQgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gIHJldHVybiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBmb3IgYF8ubWFwS2V5c2Agb3IgYF8ubWFwVmFsdWVzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbaXNNYXBLZXlzXSBTcGVjaWZ5IG1hcHBpbmcga2V5cyBpbnN0ZWFkIG9mIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hcCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT2JqZWN0TWFwcGVyKGlzTWFwS2V5cykge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwgdGhpc0FyZykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpdGVyYXRlZSA9IGJhc2VDYWxsYmFjayhpdGVyYXRlZSwgdGhpc0FyZywgMyk7XG5cbiAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICB2YXIgbWFwcGVkID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KTtcbiAgICAgIGtleSA9IGlzTWFwS2V5cyA/IG1hcHBlZCA6IGtleTtcbiAgICAgIHZhbHVlID0gaXNNYXBLZXlzID8gdmFsdWUgOiBtYXBwZWQ7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkIGJ5XG4gKiBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhyb3VnaCBgaXRlcmF0ZWVgLiBUaGVcbiAqIGl0ZXJhdGVlIGZ1bmN0aW9uIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICpcbiAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGl0ZXJhdGVlYCB0aGUgY3JlYXRlZCBgXy5wcm9wZXJ0eWBcbiAqIHN0eWxlIGNhbGxiYWNrIHJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIElmIGEgdmFsdWUgaXMgYWxzbyBwcm92aWRlZCBmb3IgYHRoaXNBcmdgIHRoZSBjcmVhdGVkIGBfLm1hdGNoZXNQcm9wZXJ0eWBcbiAqIHN0eWxlIGNhbGxiYWNrIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgYSBtYXRjaGluZyBwcm9wZXJ0eVxuICogdmFsdWUsIGVsc2UgYGZhbHNlYC5cbiAqXG4gKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBpdGVyYXRlZWAgdGhlIGNyZWF0ZWQgYF8ubWF0Y2hlc2Agc3R5bGVcbiAqIGNhbGxiYWNrIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuXG4gKiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkXG4gKiAgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgaXRlcmF0ZWVgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8ubWFwVmFsdWVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24obikge1xuICogICByZXR1cm4gbiAqIDM7XG4gKiB9KTtcbiAqIC8vID0+IHsgJ2EnOiAzLCAnYic6IDYgfVxuICpcbiAqIHZhciB1c2VycyA9IHtcbiAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gKiB9O1xuICpcbiAqIC8vIHVzaW5nIHRoZSBgXy5wcm9wZXJ0eWAgY2FsbGJhY2sgc2hvcnRoYW5kXG4gKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG52YXIgbWFwVmFsdWVzID0gY3JlYXRlT2JqZWN0TWFwcGVyKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwVmFsdWVzO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4wLjEgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBrZXlzID0gcmVxdWlyZSgnbG9kYXNoLmtleXMnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIG9iamVjdCBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IE9iamVjdCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHR3byBkaW1lbnNpb25hbCBhcnJheSBvZiB0aGUga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCxcbiAqIGUuZy4gYFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl1dYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnBhaXJzKHsgJ2Jhcm5leSc6IDM2LCAnZnJlZCc6IDQwIH0pO1xuICogLy8gPT4gW1snYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIHBhaXJzKG9iamVjdCkge1xuICBvYmplY3QgPSB0b09iamVjdChvYmplY3QpO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICByZXN1bHRbaW5kZXhdID0gW2tleSwgb2JqZWN0W2tleV1dO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFpcnM7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjEuMiAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGJhc2VDYWxsYmFjayA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWNhbGxiYWNrJyksXG4gICAgYmFzZUVhY2ggPSByZXF1aXJlKCdsb2Rhc2guX2Jhc2VlYWNoJyksXG4gICAgYmFzZVJlZHVjZSA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZXJlZHVjZScpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICogc2hvcnRoYW5kcyBhbmQgYHRoaXNgIGJpbmRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICogQHBhcmFtIHtib29sZWFufSBbaW5pdEZyb21BcnJheV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgXG4gKiAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRGcm9tQXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgaWYgKGluaXRGcm9tQXJyYXkgJiYgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGZvciBgXy5yZWR1Y2VgIG9yIGBfLnJlZHVjZVJpZ2h0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYW4gYXJyYXkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGVhY2ggZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShhcnJheUZ1bmMsIGVhY2hGdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIHRoaXNBcmcpIHtcbiAgICB2YXIgaW5pdEZyb21BcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuICAgIHJldHVybiAodHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgdGhpc0FyZyA9PT0gdW5kZWZpbmVkICYmIGlzQXJyYXkoY29sbGVjdGlvbikpXG4gICAgICA/IGFycmF5RnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRGcm9tQXJyYXkpXG4gICAgICA6IGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgYmFzZUNhbGxiYWNrKGl0ZXJhdGVlLCB0aGlzQXJnLCA0KSwgYWNjdW11bGF0b3IsIGluaXRGcm9tQXJyYXksIGVhY2hGdW5jKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJvdWdoIGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICogaXMgbm90IHByb3ZpZGVkIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gKiB2YWx1ZS4gVGhlIGBpdGVyYXRlZWAgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICpcbiAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAqXG4gKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgc29ydEJ5QWxsYCwgYW5kIGBzb3J0QnlPcmRlcmBcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGFsaWFzIGZvbGRsLCBpbmplY3RcbiAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGl0ZXJhdGVlYC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbih0b3RhbCwgbikge1xuICogICByZXR1cm4gdG90YWwgKyBuO1xuICogfSk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbihyZXN1bHQsIG4sIGtleSkge1xuICogICByZXN1bHRba2V5XSA9IG4gKiAzO1xuICogICByZXR1cm4gcmVzdWx0O1xuICogfSwge30pO1xuICogLy8gPT4geyAnYSc6IDMsICdiJzogNiB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbnZhciByZWR1Y2UgPSBjcmVhdGVSZWR1Y2UoYXJyYXlSZWR1Y2UsIGJhc2VFYWNoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZWR1Y2U7XG4iLCIvKipcbiAqIGxvZGFzaCAzLjYuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogTmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhcyBhbiBhcnJheS5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRnVuY3Rpb25zL3Jlc3RfcGFyYW1ldGVycykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgc2F5ID0gXy5yZXN0UGFyYW0oZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gKiB9KTtcbiAqXG4gKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAqL1xuZnVuY3Rpb24gcmVzdFBhcmFtKGZ1bmMsIHN0YXJ0KSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6ICgrc3RhcnQgfHwgMCksIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgcmVzdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdFtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0YXJ0KSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpcywgcmVzdCk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpcywgYXJnc1swXSwgcmVzdCk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgcmVzdCk7XG4gICAgfVxuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIGluZGV4ID0gLTE7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gcmVzdDtcbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc3RQYXJhbTtcbiIsIi8qKlxuICogbG9kYXNoIDMuMS41IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgYmFzZUNhbGxiYWNrID0gcmVxdWlyZSgnbG9kYXNoLl9iYXNlY2FsbGJhY2snKSxcbiAgICBiYXNlQ29tcGFyZUFzY2VuZGluZyA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWNvbXBhcmVhc2NlbmRpbmcnKSxcbiAgICBiYXNlRWFjaCA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWVhY2gnKSxcbiAgICBiYXNlU29ydEJ5ID0gcmVxdWlyZSgnbG9kYXNoLl9iYXNlc29ydGJ5JyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCdsb2Rhc2guX2lzaXRlcmF0ZWVjYWxsJyk7XG5cbi8qKlxuICogVXNlZCBieSBgXy5zb3J0QnlgIHRvIGNvbXBhcmUgdHJhbnNmb3JtZWQgZWxlbWVudHMgb2YgYSBjb2xsZWN0aW9uIGFuZCBzdGFibGVcbiAqIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyhvYmplY3QsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlQ29tcGFyZUFzY2VuZGluZyhvYmplY3QuY3JpdGVyaWEsIG90aGVyLmNyaXRlcmlhKSB8fCAob2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXgpO1xufVxuXG4vKipcbiAqIFVzZWQgYXMgdGhlIFttYXhpbXVtIGxlbmd0aF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtbnVtYmVyLm1heF9zYWZlX2ludGVnZXIpXG4gKiBvZiBhbiBhcnJheS1saWtlIHZhbHVlLlxuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAqIGFuZCBgdGhpc2AgYmluZGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSB2YWx1ZSBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGF2b2lkIGEgW0pJVCBidWddKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDI3OTIpXG4gKiB0aGF0IGFmZmVjdHMgU2FmYXJpIG9uIGF0IGxlYXN0IGlPUyA4LjEtOC4zIEFSTTY0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgXCJsZW5ndGhcIiB2YWx1ZS5cbiAqL1xudmFyIGdldExlbmd0aCA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKGdldExlbmd0aCh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhyb3VnaCBgaXRlcmF0ZWVgLiBUaGlzIG1ldGhvZCBwZXJmb3Jtc1xuICogYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mIGVxdWFsIGVsZW1lbnRzLlxuICogVGhlIGBpdGVyYXRlZWAgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICpcbiAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGl0ZXJhdGVlYCB0aGUgY3JlYXRlZCBgXy5wcm9wZXJ0eWBcbiAqIHN0eWxlIGNhbGxiYWNrIHJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIElmIGEgdmFsdWUgaXMgYWxzbyBwcm92aWRlZCBmb3IgYHRoaXNBcmdgIHRoZSBjcmVhdGVkIGBfLm1hdGNoZXNQcm9wZXJ0eWBcbiAqIHN0eWxlIGNhbGxiYWNrIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgYSBtYXRjaGluZyBwcm9wZXJ0eVxuICogdmFsdWUsIGVsc2UgYGZhbHNlYC5cbiAqXG4gKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBpdGVyYXRlZWAgdGhlIGNyZWF0ZWQgYF8ubWF0Y2hlc2Agc3R5bGVcbiAqIGNhbGxiYWNrIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuXG4gKiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZFxuICogIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGl0ZXJhdGVlYC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihuKSB7XG4gKiAgIHJldHVybiBNYXRoLnNpbihuKTtcbiAqIH0pO1xuICogLy8gPT4gWzMsIDEsIDJdXG4gKlxuICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihuKSB7XG4gKiAgIHJldHVybiB0aGlzLnNpbihuKTtcbiAqIH0sIE1hdGgpO1xuICogLy8gPT4gWzMsIDEsIDJdXG4gKlxuICogdmFyIHVzZXJzID0gW1xuICogICB7ICd1c2VyJzogJ2ZyZWQnIH0sXG4gKiAgIHsgJ3VzZXInOiAncGViYmxlcycgfSxcbiAqICAgeyAndXNlcic6ICdiYXJuZXknIH1cbiAqIF07XG4gKlxuICogLy8gdXNpbmcgdGhlIGBfLnByb3BlcnR5YCBjYWxsYmFjayBzaG9ydGhhbmRcbiAqIF8ucGx1Y2soXy5zb3J0QnkodXNlcnMsICd1c2VyJyksICd1c2VyJyk7XG4gKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICovXG5mdW5jdGlvbiBzb3J0QnkoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIHRoaXNBcmcpIHtcbiAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAodGhpc0FyZyAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgdGhpc0FyZykpIHtcbiAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgaW5kZXggPSAtMTtcbiAgaXRlcmF0ZWUgPSBiYXNlQ2FsbGJhY2soaXRlcmF0ZWUsIHRoaXNBcmcsIDMpO1xuXG4gIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgfSk7XG4gIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgY29tcGFyZUFzY2VuZGluZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc29ydEJ5O1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy42LjIgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBiYXNlQ29weSA9IHJlcXVpcmUoJ2xvZGFzaC5fYmFzZWNvcHknKSxcbiAgICBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCdsb2Rhc2guX2Jhc2V0b3N0cmluZycpLFxuICAgIGJhc2VWYWx1ZXMgPSByZXF1aXJlKCdsb2Rhc2guX2Jhc2V2YWx1ZXMnKSxcbiAgICBpc0l0ZXJhdGVlQ2FsbCA9IHJlcXVpcmUoJ2xvZGFzaC5faXNpdGVyYXRlZWNhbGwnKSxcbiAgICByZUludGVycG9sYXRlID0gcmVxdWlyZSgnbG9kYXNoLl9yZWludGVycG9sYXRlJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJ2xvZGFzaC5rZXlzJyksXG4gICAgcmVzdFBhcmFtID0gcmVxdWlyZSgnbG9kYXNoLnJlc3RwYXJhbScpLFxuICAgIHRlbXBsYXRlU2V0dGluZ3MgPSByZXF1aXJlKCdsb2Rhc2gudGVtcGxhdGVzZXR0aW5ncycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xudmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLiAqL1xudmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xudmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xudmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4vKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbnZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAnXFxcXCc6ICdcXFxcJyxcbiAgXCInXCI6IFwiJ1wiLFxuICAnXFxuJzogJ24nLFxuICAnXFxyJzogJ3InLFxuICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICdcXHUyMDI5JzogJ3UyMDI5J1xufTtcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZSBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9ialRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25gIHVzZS5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25EZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgaWdub3Jlc1xuICogaW5oZXJpdGVkIHByb3BlcnR5IHZhbHVlcyB3aGVuIGNoZWNraW5nIGlmIGEgcHJvcGVydHkgaXMgYHVuZGVmaW5lZGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0VmFsdWUgVGhlIGRlc3RpbmF0aW9uIG9iamVjdCBwcm9wZXJ0eSB2YWx1ZS5cbiAqIEBwYXJhbSB7Kn0gc291cmNlVmFsdWUgVGhlIHNvdXJjZSBvYmplY3QgcHJvcGVydHkgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgYXNzb2NpYXRlZCB3aXRoIHRoZSBvYmplY3QgYW5kIHNvdXJjZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbk93bkRlZmF1bHRzKG9iamVjdFZhbHVlLCBzb3VyY2VWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgcmV0dXJuIChvYmplY3RWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSlcbiAgICA/IHNvdXJjZVZhbHVlXG4gICAgOiBvYmplY3RWYWx1ZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uYXNzaWduYCBmb3IgY3VzdG9taXppbmcgYXNzaWduZWQgdmFsdWVzIHdpdGhvdXRcbiAqIHN1cHBvcnQgZm9yIGFyZ3VtZW50IGp1Z2dsaW5nLCBtdWx0aXBsZSBzb3VyY2VzLCBhbmQgYHRoaXNgIGJpbmRpbmcgYGN1c3RvbWl6ZXJgXG4gKiBmdW5jdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYXNzaWduV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XSxcbiAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgcmVzdWx0ID0gY3VzdG9taXplcih2YWx1ZSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpO1xuXG4gICAgaWYgKChyZXN1bHQgPT09IHJlc3VsdCA/IChyZXN1bHQgIT09IHZhbHVlKSA6ICh2YWx1ZSA9PT0gdmFsdWUpKSB8fFxuICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgb2JqZWN0W2tleV0gPSByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFyZ3VtZW50IGp1Z2dsaW5nLFxuICogbXVsdGlwbGUgc291cmNlcywgYW5kIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gIHJldHVybiBzb3VyY2UgPT0gbnVsbFxuICAgID8gb2JqZWN0XG4gICAgOiBiYXNlQ29weShzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Vycm9yKEVycm9yKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZXJyb3JUYWc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAqIG9iamVjdCBpcyBwcm92aWRlZCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICpcbiAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZV0gVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGVdIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHNdIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGVdIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTF0gVGhlIHNvdXJjZVVSTCBvZiB0aGUgdGVtcGxhdGUncyBjb21waWxlZCBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGVdIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICogQHBhcmFtLSB7T2JqZWN0fSBbb3RoZXJPcHRpb25zXSBFbmFibGVzIHRoZSBsZWdhY3kgYG9wdGlvbnNgIHBhcmFtIHNpZ25hdHVyZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIHVzaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gKlxuICogLy8gdXNpbmcgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICpcbiAqIC8vIHVzaW5nIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTFxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gKlxuICogLy8gdXNpbmcgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnNcbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAqXG4gKiAvLyB1c2luZyB0aGUgRVMgZGVsaW1pdGVyIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBkZWZhdWx0IFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJcbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gKlxuICogLy8gdXNpbmcgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnNcbiAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICpcbiAqIC8vIHVzaW5nIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dFxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICpcbiAqIC8vIHVzaW5nIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgXG4gKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gKlxuICogLy8gdXNpbmcgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gKiBjb21waWxlZChkYXRhKTtcbiAqIC8vID0+IGZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3JcbiAqXG4gKiAvLyB1c2luZyB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGVcbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gKiBjb21waWxlZC5zb3VyY2U7XG4gKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gKiAvLyAgIHJldHVybiBfX3A7XG4gKiAvLyB9XG4gKlxuICogLy8gdXNpbmcgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgYSBzdGFjayB0cmFjZVxuICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4oY3dkLCAnanN0LmpzJyksICdcXFxuICogICB2YXIgSlNUID0ge1xcXG4gKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAqICAgfTtcXFxuICogJyk7XG4gKi9cbmZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgb3RoZXJPcHRpb25zKSB7XG4gIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb24gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgdmFyIHNldHRpbmdzID0gdGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzLl8udGVtcGxhdGVTZXR0aW5ncyB8fCB0ZW1wbGF0ZVNldHRpbmdzO1xuXG4gIGlmIChvdGhlck9wdGlvbnMgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBvdGhlck9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucyA9IG90aGVyT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgfVxuICBzdHJpbmcgPSBiYXNlVG9TdHJpbmcoc3RyaW5nKTtcbiAgb3B0aW9ucyA9IGFzc2lnbldpdGgoYmFzZUFzc2lnbih7fSwgb3RoZXJPcHRpb25zIHx8IG9wdGlvbnMpLCBzZXR0aW5ncywgYXNzaWduT3duRGVmYXVsdHMpO1xuXG4gIHZhciBpbXBvcnRzID0gYXNzaWduV2l0aChiYXNlQXNzaWduKHt9LCBvcHRpb25zLmltcG9ydHMpLCBzZXR0aW5ncy5pbXBvcnRzLCBhc3NpZ25Pd25EZWZhdWx0cyksXG4gICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAsICdnJyk7XG5cbiAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICB2YXIgc291cmNlVVJMID0gJ3NvdXJjZVVSTCcgaW4gb3B0aW9ucyA/ICcvLyMgc291cmNlVVJMPScgKyBvcHRpb25zLnNvdXJjZVVSTCArICdcXG4nIDogJyc7XG5cbiAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgfVxuICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgIH1cbiAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgfVxuICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyByZXF1aXJlcyByZXR1cm5pbmcgdGhlIGBtYXRjaGBcbiAgICAvLyBzdHJpbmcgaW4gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH0pO1xuXG4gIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gIHZhciB2YXJpYWJsZSA9IG9wdGlvbnMudmFyaWFibGU7XG4gIGlmICghdmFyaWFibGUpIHtcbiAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgfVxuICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICh2YXJpYWJsZVxuICAgICAgPyAnJ1xuICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICkgK1xuICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgKGlzRXNjYXBpbmdcbiAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgIDogJydcbiAgICApICtcbiAgICAoaXNFdmFsdWF0aW5nXG4gICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICA6ICc7XFxuJ1xuICAgICkgK1xuICAgIHNvdXJjZSArXG4gICAgJ3JldHVybiBfX3BcXG59JztcblxuICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSkuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgfSk7XG5cbiAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICB0aHJvdyByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byBpbnZva2UgYGZ1bmNgLCByZXR1cm5pbmcgZWl0aGVyIHRoZSByZXN1bHQgb3IgdGhlIGNhdWdodCBlcnJvclxuICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsaXR5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGBmdW5jYCByZXN1bHQgb3IgZXJyb3Igb2JqZWN0LlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBhdm9pZCB0aHJvd2luZyBlcnJvcnMgZm9yIGludmFsaWQgc2VsZWN0b3JzXG4gKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAqICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICogfSwgJz5fPicpO1xuICpcbiAqIGlmIChfLmlzRXJyb3IoZWxlbWVudHMpKSB7XG4gKiAgIGVsZW1lbnRzID0gW107XG4gKiB9XG4gKi9cbnZhciBhdHRlbXB0ID0gcmVzdFBhcmFtKGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gaXNFcnJvcihlKSA/IGUgOiBuZXcgRXJyb3IoZSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRlbXBsYXRlO1xuIiwiLyoqXG4gKiBsb2Rhc2ggMy4xLjEgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTYgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNiBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGVzY2FwZSA9IHJlcXVpcmUoJ2xvZGFzaC5lc2NhcGUnKSxcbiAgICByZUludGVycG9sYXRlID0gcmVxdWlyZSgnbG9kYXNoLl9yZWludGVycG9sYXRlJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG52YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZztcblxuLyoqXG4gKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICogZW1iZWRkZWQgUnVieSAoRVJCKS4gQ2hhbmdlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlXG4gKiBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAdHlwZSBPYmplY3RcbiAqL1xudmFyIHRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgKlxuICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAqIEB0eXBlIFJlZ0V4cFxuICAgKi9cbiAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICpcbiAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgKiBAdHlwZSBSZWdFeHBcbiAgICovXG4gICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAqIEB0eXBlIFJlZ0V4cFxuICAgKi9cbiAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAvKipcbiAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgKlxuICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAqIEB0eXBlIHN0cmluZ1xuICAgKi9cbiAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICpcbiAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgKiBAdHlwZSBPYmplY3RcbiAgICovXG4gICdpbXBvcnRzJzoge1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKi9cbiAgICAnXyc6IHsgJ2VzY2FwZSc6IGVzY2FwZSB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGVTZXR0aW5ncztcbiIsIlxuLyoqXG4gKiBFeHBvc2UgYHJlbmRlcigpYC5gXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVuZGVyO1xuXG4vKipcbiAqIEV4cG9zZSBgY29tcGlsZSgpYC5cbiAqL1xuXG5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlO1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gbXVzdGFjaGUgYHN0cmAgd2l0aCBgb2JqYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJlbmRlcihzdHIsIG9iaikge1xuICBvYmogPSBvYmogfHwge307XG4gIHZhciBmbiA9IGNvbXBpbGUoc3RyKTtcbiAgcmV0dXJuIGZuKG9iaik7XG59XG5cbi8qKlxuICogQ29tcGlsZSB0aGUgZ2l2ZW4gYHN0cmAgdG8gYSBgRnVuY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjb21waWxlKHN0cikge1xuICB2YXIganMgPSBbXTtcbiAgdmFyIHRva3MgPSBwYXJzZShzdHIpO1xuICB2YXIgdG9rO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rcy5sZW5ndGg7ICsraSkge1xuICAgIHRvayA9IHRva3NbaV07XG4gICAgaWYgKGkgJSAyID09IDApIHtcbiAgICAgIGpzLnB1c2goJ1wiJyArIHRvay5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykgKyAnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0b2tbMF0pIHtcbiAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgdG9rID0gdG9rLnNsaWNlKDEpO1xuICAgICAgICAgIGpzLnB1c2goJykgKyAnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnXic6XG4gICAgICAgICAgdG9rID0gdG9rLnNsaWNlKDEpO1xuICAgICAgICAgIGFzc2VydFByb3BlcnR5KHRvayk7XG4gICAgICAgICAganMucHVzaCgnICsgc2VjdGlvbihvYmosIFwiJyArIHRvayArICdcIiwgdHJ1ZSwgJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgIHRvayA9IHRvay5zbGljZSgxKTtcbiAgICAgICAgICBhc3NlcnRQcm9wZXJ0eSh0b2spO1xuICAgICAgICAgIGpzLnB1c2goJyArIHNlY3Rpb24ob2JqLCBcIicgKyB0b2sgKyAnXCIsIGZhbHNlLCAnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgdG9rID0gdG9rLnNsaWNlKDEpO1xuICAgICAgICAgIGFzc2VydFByb3BlcnR5KHRvayk7XG4gICAgICAgICAganMucHVzaCgnICsgb2JqLicgKyB0b2sgKyAnICsgJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYXNzZXJ0UHJvcGVydHkodG9rKTtcbiAgICAgICAgICBqcy5wdXNoKCcgKyBlc2NhcGUob2JqLicgKyB0b2sgKyAnKSArICcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGpzID0gJ1xcbidcbiAgICArIGluZGVudChlc2NhcGUudG9TdHJpbmcoKSkgKyAnO1xcblxcbidcbiAgICArIGluZGVudChzZWN0aW9uLnRvU3RyaW5nKCkpICsgJztcXG5cXG4nXG4gICAgKyAnICByZXR1cm4gJyArIGpzLmpvaW4oJycpLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKTtcblxuICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvYmonLCBqcyk7XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgYHByb3BgIGlzIGEgdmFsaWQgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGFzc2VydFByb3BlcnR5KHByb3ApIHtcbiAgaWYgKCFwcm9wLm1hdGNoKC9eW1xcdy5dKyQvKSkgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHByb3BlcnR5IFwiJyArIHByb3AgKyAnXCInKTtcbn1cblxuLyoqXG4gKiBQYXJzZSBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KC9cXHtcXHt8XFx9XFx9Lyk7XG59XG5cbi8qKlxuICogSW5kZW50IGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGluZGVudChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eL2dtLCAnICAnKTtcbn1cblxuLyoqXG4gKiBTZWN0aW9uIGhhbmRsZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtCb29sZWFufSBuZWdhdGVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlY3Rpb24ob2JqLCBwcm9wLCBuZWdhdGUsIHN0cikge1xuICB2YXIgdmFsID0gb2JqW3Byb3BdO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgdmFsKSByZXR1cm4gdmFsLmNhbGwob2JqLCBzdHIpO1xuICBpZiAobmVnYXRlKSB2YWwgPSAhdmFsO1xuICBpZiAodmFsKSByZXR1cm4gc3RyO1xuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBnaXZlbiBgaHRtbGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGVzY2FwZShodG1sKSB7XG4gIHJldHVybiBTdHJpbmcoaHRtbClcbiAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn1cbiIsInZhciBNQVhfRFQgPSA2MFxudmFyIE1JTl9EVCA9IDEwMDAgLyA2MFxuXG5mdW5jdGlvbiBfZGVsdGEoIG1heER0LCBtaW5EdCApIHtcblx0dmFyIG5ld1RpbWUsIGR0XG5cblx0bmV3VGltZSA9IERhdGUubm93KClcblx0ZHQgPSBuZXdUaW1lIC0gdGhpcy5ub3dcblxuXHRkdCA9IE1hdGgubWluKCBkdCwgTUFYX0RUIClcblx0ZHQgPSBNYXRoLm1heCggZHQsIE1JTl9EVCApXG5cblx0dGhpcy5lbGFwc2VkICs9IGR0XG5cdHRoaXMubm93ID0gbmV3VGltZVxuXG5cdHJldHVybiBkdFxufVxuXG5mdW5jdGlvbiBfc3RhcnQoKSB7XG5cdHRoaXMubm93ID0gRGF0ZS5ub3coKVxufVxuXG5mdW5jdGlvbiBfcmVzZXQoKSB7XG5cdHRoaXMubm93ID0gMFxuXHR0aGlzLmVsYXBzZWQgPSAwXG59XG5cbmZ1bmN0aW9uIF9nZXRWYWx1ZSgga2V5ICkge1xuXHRyZXR1cm4gdGhpc1trZXldXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2xvY2soKSB7XG5cblx0dmFyIHN0YXRlID0ge1xuXHRcdG5vdyA6IDAsXG5cdFx0ZWxhcHNlZCA6IDBcblx0fVxuXHRcblx0cmV0dXJuIHtcblx0XHRzdGFydFx0OiBfc3RhcnQuYmluZCggc3RhdGUgKSxcblx0XHRyZXNldFx0OiBfcmVzZXQuYmluZCggc3RhdGUgKSxcblx0XHRub3dcdFx0OiBfZ2V0VmFsdWUuYmluZCggc3RhdGUsIFwibm93XCIgKSxcblx0XHRlbGFwc2VkXHQ6IF9nZXRWYWx1ZS5iaW5kKCBzdGF0ZSwgXCJlbGFwc2VkXCIgKSxcblx0XHRkZWx0YVx0OiBfZGVsdGEuYmluZCggc3RhdGUgKSxcblx0fVxufVxuIiwidmFyIFJhZiA9IHJlcXVpcmUoJy4vcmFmJykoKVxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxudmFyIENyZWF0ZUNsb2NrID0gcmVxdWlyZSgnLi9jbG9jaycpXG5cbmZ1bmN0aW9uIF9zdGFydEZuKCBsb29wLCBjbG9jaywgY3VycmVudCApIHtcblx0XG5cdHJldHVybiBmdW5jdGlvbiBzdGFydCgpIHtcblx0XHRpZiggIWN1cnJlbnQuc3RhcnRlZCApIHtcblx0XHRcdGlmKCAhY3VycmVudC5jbG9ja1N0YXJ0ZWQgKSB7XG5cdFx0XHRcdGNsb2NrLnN0YXJ0KClcblx0XHRcdH1cblx0XHRcdGxvb3AoKVxuXHRcdFx0Y3VycmVudC5zdGFydGVkID0gdHJ1ZVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBfc3RvcEZuKCBjdXJyZW50ICkge1xuXHRcblx0cmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG5cdFx0UmFmLmNhbmNlbCggY3VycmVudC5yYWZIYW5kbGUgKVxuXHRcdGN1cnJlbnQuc3RhcnRlZCA9IGZhbHNlXG5cdH1cbn1cblxuZnVuY3Rpb24gX2xvb3BGbiggZW1pdHRlciwgY2xvY2ssIGN1c3RvbWl6ZUV2ZW50LCBjdXJyZW50ICkge1xuXHRcblx0Ly8gU2hhcmUgZXZlbnQgdG8gbWluaW1pemUgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdHZhciBldmVudCA9IHtcblx0XHRkdCAgICAgIDogMCxcblx0XHR1bml0RHQgIDogMCxcblx0XHRub3cgICAgIDogMCxcblx0XHRlbGFwc2VkIDogMFxuXHR9XG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24gcnVuTG9vcCgpIHtcblx0XHRcblx0XHRjdXJyZW50LnJhZkhhbmRsZSA9IFJhZi5pbnZva2UoIHJ1bkxvb3AgKVxuXHRcdFxuXHRcdGV2ZW50LmR0ICAgICAgPSBjbG9jay5kZWx0YSgpLFxuXHRcdGV2ZW50LnVuaXREdCAgPSBldmVudC5kdCAvIDE2LjY2NjY2NjY3LFxuXHRcdGV2ZW50Lm5vdyAgICAgPSBjbG9jay5ub3coKSxcblx0XHRldmVudC5lbGFwc2VkID0gY2xvY2suZWxhcHNlZCgpXG5cdFx0XG5cdFx0Y3VzdG9taXplRXZlbnQoIGV2ZW50IClcblx0XHRcblx0XHRlbWl0dGVyLmVtaXQoXCJ1cGRhdGVcIiwgZXZlbnQpXG5cdFx0ZW1pdHRlci5lbWl0KFwidXBkYXRlZG9uZVwiLCBldmVudClcblx0XHRlbWl0dGVyLmVtaXQoXCJkcmF3XCIsIGV2ZW50KVxuXHRcdGVtaXR0ZXIuZW1pdChcImRyYXdkb25lXCIsIGV2ZW50KVxuXHR9XG59XG5cbnZhciBwYXNzVGhyb3VnaCA9IGZ1bmN0aW9uKCBhICkgeyByZXR1cm4gYSB9XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb25maWd1cmVQb2VtTG9vcCggcHJvcHMgKSB7XG5cdFxuXHR2YXIgZW1pdHRlciwgY3VzdG9taXplRXZlbnRcblx0XG5cdGlmKCB0eXBlb2YgcHJvcHMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0ZW1pdHRlciA9IHByb3BzLmVtaXR0ZXJcblx0XHRjdXN0b21pemVFdmVudCA9IHByb3BzLmN1c3RvbWl6ZUV2ZW50XG5cdH1cblx0ZW1pdHRlciAgICAgICAgPSBlbWl0dGVyICAgICAgICA/IGVtaXR0ZXIgICAgICAgIDogbmV3IEV2ZW50RW1pdHRlcigpXG5cdGN1c3RvbWl6ZUV2ZW50ID0gY3VzdG9taXplRXZlbnQgPyBjdXN0b21pemVFdmVudCA6IHBhc3NUaHJvdWdoICAgICAgIFxuXHRcblx0dmFyIGNsb2NrICAgICAgICAgID0gQ3JlYXRlQ2xvY2soKVxuXHRcblx0dmFyIGN1cnJlbnQgPSB7XG5cdFx0Y2xvY2tTdGFydGVkIDogZmFsc2UsXG5cdFx0c3RhcnRlZDogZmFsc2UsXG5cdFx0cmFmSGFuZGxlOiBudWxsXG5cdH1cblx0XG5cdHZhciBsb29wID0gX2xvb3BGbiggZW1pdHRlciwgY2xvY2ssIGN1c3RvbWl6ZUV2ZW50LCBjdXJyZW50IClcblx0XG5cdHJldHVybiB7XG5cdFx0c3RhcnRcdDogX3N0YXJ0Rm4oIGxvb3AsIGNsb2NrLCBjdXJyZW50ICksXG5cdFx0c3RvcFx0OiBfc3RvcEZuKCBjdXJyZW50ICksXG5cdFx0cmVzZXRcdDogY2xvY2sucmVzZXQsXG5cdFx0ZW1pdHRlciA6IGVtaXR0ZXJcblx0fVxufSIsImZ1bmN0aW9uIF9nZXROYXRpdmVSQUYoKSB7XG5cdFxuXHR2YXIgcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHR2YXIgY2FuY2VsID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdHZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXVxuXHRcblx0Zm9yKCB2YXIgeCA9IDA7ICFyYWYgJiYgeCA8IHZlbmRvcnMubGVuZ3RoOyArK3ggKSB7XG5cdFx0cmFmID0gd2luZG93W3ZlbmRvcnNbeF0rJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddXG5cdFx0Y2FuY2VsID0gd2luZG93W3ZlbmRvcnNbeF0rJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgd2luZG93W3ZlbmRvcnNbeF0rJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddXG5cdH1cblx0XG5cdHJldHVybiB7XG5cdFx0aW52b2tlIDogcmFmLmJpbmQod2luZG93KSxcblx0XHRjYW5jZWwgOiBjYW5jZWwuYmluZCh3aW5kb3cpXG5cdH1cbn1cblxuZnVuY3Rpb24gX2ludm9rZUZuKCkge1xuXHRcblx0dmFyIGxhc3RUaW1lID0gMFxuXHRcblx0cmV0dXJuIGZ1bmN0aW9uIGludm9rZShjYWxsYmFjaywgZWxlbWVudCkge1xuXHRcdFxuXHRcdHZhciBjdXJyVGltZSAgID0gbmV3IERhdGUoKS5nZXRUaW1lKClcblx0XHR2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKVxuXHRcdFxuXHRcdHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0Y2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKVxuXHRcdH0sIHRpbWVUb0NhbGwpXG5cdFx0XG5cdFx0bGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGxcblx0XHRcblx0XHRyZXR1cm4gaWRcblx0fVxufVxuXG5mdW5jdGlvbiBfY2FuY2VsKCBpZCApIHtcblx0Y2xlYXJUaW1lb3V0KCBpZCApXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlUkFGKCkge1xuXHRcblx0dmFyIHJhZiA9IF9nZXROYXRpdmVSQUYoKVxuIFxuIFx0cmFmLmludm9rZSA9IHJhZi5pbnZva2UgPyByYWYuaW52b2tlIDogX2ludm9rZUZuKClcbiBcdHJhZi5jYW5jZWwgPSByYWYuY2FuY2VsID8gcmFmLmNhbmNlbCA6IF9jYW5jZWwoKVxuXHRcblx0cmV0dXJuIHtcblx0XHRpbnZva2UgOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0XHRyZXR1cm4gcmFmLmludm9rZSggY2FsbGJhY2sgKVxuXHRcdH0sXG5cdFx0Y2FuY2VsIDogZnVuY3Rpb24gY2FuY2VsKCBpZCApIHtcblx0XHRcdHJhZi5jYW5jZWwoIGlkIClcblx0XHR9XG5cdH1cbn0iLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIElzT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoLmlzb2JqZWN0Jyk7XG52YXIgRWFjaCA9IHJlcXVpcmUoJ2xvZGFzaC5mb3JlYWNoJyk7XG52YXIgRXh0ZW5kID0gcmVxdWlyZSgnbG9kYXNoLmFzc2lnbicpO1xuXG52YXIgbG9hZCA9IGZ1bmN0aW9uKCBtYW5pZmVzdHMsIGdsb2JhbE1hbmlmZXN0LCBnZXRHcmFwaCwgZW1pdHRlciApIHtcblx0XG5cdHJldHVybiBmdW5jdGlvbiggbmV3U2x1ZyApIHtcblxuXHRcdHZhciBvbGRTbHVnID0gdGhpcy5zbHVnO1xuXG5cdFx0dmFyIG5ld01hbmlmZXN0ID0gbWFuaWZlc3RzW25ld1NsdWddO1xuXHRcdHZhciBvbGRNYW5pZmVzdCA9IHRoaXMubWFuaWZlc3Q7XG5cdFx0XG5cdFx0aWYoICFJc09iamVjdCggbmV3TWFuaWZlc3QgKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiggdGhpcy5zbHVnICkge1xuXHRcdFx0ZW1pdHRlci5lbWl0KFwidW5sb2FkXCIsIHtcblx0XHRcdFx0c2x1ZyA6IG9sZFNsdWcsXG5cdFx0XHRcdG1hbmlmZXN0IDogb2xkTWFuaWZlc3Rcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRcblx0XHR2YXIgZ3JhcGggPSBnZXRHcmFwaCggbmV3TWFuaWZlc3QsIG5ld1NsdWcgKTtcblx0XHRwYXJzZU1hbmlmZXN0KCBnbG9iYWxNYW5pZmVzdCwgZ3JhcGggKTtcblx0XHRwYXJzZU1hbmlmZXN0KCBuZXdNYW5pZmVzdCwgZ3JhcGggKTtcblxuXHRcdHRoaXMubWFuaWZlc3QgPSBuZXdNYW5pZmVzdDtcblx0XHR0aGlzLnNsdWcgPSBuZXdTbHVnO1xuXHRcdFxuXHRcdGVtaXR0ZXIuZW1pdChcImxvYWRcIiwge1xuXHRcdFx0c2x1Z1x0XHRcdDogbmV3U2x1Zyxcblx0XHRcdGdsb2JhbE1hbmlmZXN0XHQ6IGdsb2JhbE1hbmlmZXN0LFxuXHRcdFx0bWFuaWZlc3RcdFx0OiBuZXdNYW5pZmVzdCxcblx0XHRcdGdyYXBoXHRcdFx0OiBncmFwaFxuXHRcdH0pO1xuXHRcdFxuXHRcdHJldHVybiBncmFwaDtcblx0fTtcblx0XG59O1xuXG52YXIgcGFyc2VNYW5pZmVzdCA9IGZ1bmN0aW9uKCBtYW5pZmVzdCwgZ3JhcGggKSB7XG5cdFxuXHRFYWNoKCBtYW5pZmVzdC5jb21wb25lbnRzLCBmdW5jdGlvbiBsb2FkQ29tcG9uZW50KCB2YWx1ZSwga2V5ICkge1xuXHRcdFxuXHRcdHZhciBwcm9wZXJ0aWVzO1xuXHRcdFxuXHRcdGlmKElzT2JqZWN0KCB2YWx1ZSApKSB7XG5cdFx0XHRcblx0XHRcdHByb3BlcnRpZXMgPSBJc09iamVjdCggdmFsdWUucHJvcGVydGllcyApID8gdmFsdWUucHJvcGVydGllcyA6IHt9O1xuXHRcdFx0XG5cdFx0XHRpZiggSXNPYmplY3QoIHZhbHVlLmZ1bmN0aW9uICkgKSB7XG5cdFx0XHRcdGdyYXBoWyBrZXkgXSA9IHZhbHVlLmZ1bmN0aW9uKCBncmFwaCwgcHJvcGVydGllcyApO1xuXHRcdFx0fSBlbHNlIGlmKCBJc09iamVjdCggdmFsdWUuY29uc3RydWN0ICkgKSB7XG5cdFx0XHRcdGdyYXBoWyBrZXkgXSA9IG5ldyB2YWx1ZS5jb25zdHJ1Y3QoIGdyYXBoLCBwcm9wZXJ0aWVzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRncmFwaFsga2V5IF0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRncmFwaFsga2V5IF0gPSB2YWx1ZTtcblx0XHR9XG5cdFx0XG5cdH0pO1xuXHRcblx0cmV0dXJuIGdyYXBoO1xufTtcblxudmFyIGNyZWF0ZUJsYW5rT2JqZWN0ID0gZnVuY3Rpb24oKSB7IHJldHVybiB7fTsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggbWFuaWZlc3RzLCBwcm9wZXJ0aWVzICkge1xuXG5cdHZhciBjb25maWcgPSBFeHRlbmQoe1xuXHRcdGdsb2JhbE1hbmlmZXN0OiB7fSxcblx0XHRnZXRHcmFwaDogY3JlYXRlQmxhbmtPYmplY3QsXG5cdFx0ZW1pdHRlcjogbmV3IEV2ZW50RW1pdHRlcigpXG5cdH0sIHByb3BlcnRpZXMpO1xuXHRcblx0dmFyIHN0YXRlID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHtcblx0XHRzbHVnIDogbnVsbCxcblx0XHRtYW5pZmVzdCA6IG51bGxcblx0fSk7XG5cdFxuXHRyZXR1cm4ge1xuXHRcdGxvYWQgOiBsb2FkKCBtYW5pZmVzdHMsIGNvbmZpZy5nbG9iYWxNYW5pZmVzdCwgY29uZmlnLmdldEdyYXBoLCBjb25maWcuZW1pdHRlciApLmJpbmQoIHN0YXRlICksXG5cdFx0ZW1pdHRlciA6IGNvbmZpZy5lbWl0dGVyXG5cdH1cblx0XG59OyIsInZhciBNYXAgPSByZXF1aXJlKCdsb2Rhc2gubWFwJyk7XG5cbnZhciBjb2xvcnMgPSB7XG5cdFxuXHRoZXhUb0FycmF5IDogZnVuY3Rpb24oIGhleENvbG9yICkge1xuXHRcdFxuXHRcdHZhciBzdHJpbmcgPSBjb2xvcnMuaGV4VG9TdHJpbmcoIGhleENvbG9yICk7XG5cdFx0XG5cdFx0cmV0dXJuIFtcblx0XHQgICAgcGFyc2VJbnQoc3RyaW5nWzFdK3N0cmluZ1syXSwgMTYpLFxuXHRcdFx0cGFyc2VJbnQoc3RyaW5nWzNdK3N0cmluZ1s0XSwgMTYpLFxuXHRcdFx0cGFyc2VJbnQoc3RyaW5nWzVdK3N0cmluZ1s2XSwgMTYpXG5cdFx0XTtcblx0XHRcblx0fSxcblx0XG5cdGFycmF5VG9IZXggOiBmdW5jdGlvbiggY29sb3IgKSB7XG5cdFx0XG5cdFx0dmFyIHN0cmluZ1Jlc3VsdCA9IE1hcCggY29sb3IsIGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0XG5cdFx0XHR2YXIgcyA9IHBhcnNlSW50KCBjLCAxMCApLnRvU3RyaW5nKDE2KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIHMubGVuZ3RoID4gMSA/IHMgOiBcIjBcIitzO1xuXHRcdFx0XG5cdFx0fSkuam9pbignJyk7XG5cdFx0XG5cdFx0cmV0dXJuIHBhcnNlSW50KCBzdHJpbmdSZXN1bHQsIDE2ICk7XG5cdFx0XG5cdH0sXG5cdFxuXHRsaWdodG5lc3MgOiBmdW5jdGlvbiggaGV4Q29sb3IsIHVuaXRJICkge1xuXHRcblx0XHQvLyBvaCBteSBkZWFyIGxvcmRcblx0XHRcblx0XHRpZiggdHlwZW9mIGhleENvbG9yICE9PSBcIm51bWJlclwiICkgdGhyb3cgbmV3IEVycm9yKFwiaGV4Q29sb3IgbXVzdCBiZSBpbiB0aGUgZm9ybSBvZiAweDU0QUZGRlwiKTtcblx0XHRpZiggaGV4Q29sb3IgPCAweDAwMDAwMCB8fCBoZXhDb2xvciA+IDB4ZmZmZmZmICkgdGhyb3cgbmV3IEVycm9yKFwiaGV4Q29sb3IgaXMgb3V0IG9mIHJhbmdlXCIpO1xuXHRcdFxuXHRcdHZhciBjb2xvciA9IGNvbG9ycy5oZXhUb0FycmF5KCBoZXhDb2xvciApO1xuXHRcdHZhciBibGVuZFZhbHVlID0gMjU1O1xuXHRcblx0XHRpZiggdW5pdEkgPCAwICkge1xuXHRcdFx0dW5pdEkgKj0gLTE7XG5cdFx0XHRibGVuZFZhbHVlID0gMDtcblx0XHR9XG5cdFx0XG5cdFx0dmFyIHJlc3VsdCA9IE1hcCggY29sb3IsIGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gYyAqICggMSAtIHVuaXRJICkgKyBibGVuZFZhbHVlICogdW5pdEk7XG5cdFx0XHRcblx0XHR9KTtcblx0XHRcblx0XHRyZXR1cm4gY29sb3JzLmFycmF5VG9IZXgoIHJlc3VsdCApO1xuXHRcdFxuXHR9LFxuXHRcblx0bWl4IDogZnVuY3Rpb24oIGhleENvbG9yMSwgaGV4Q29sb3IyLCB1bml0SSApIHtcblx0XHRcblx0XHR2YXIgY29sb3IxID0gY29sb3JzLmhleFRvQXJyYXkoIGhleENvbG9yMSApO1xuXHRcdHZhciBjb2xvcjIgPSBjb2xvcnMuaGV4VG9BcnJheSggaGV4Q29sb3IyICk7XG5cdFx0XG5cdFx0dmFyIHJlc3VsdCA9IE1hcCggY29sb3IxLCBmdW5jdGlvbiggYzEsIGkgKSB7XG5cdFx0XHRcblx0XHRcdHJldHVybiBjMSAqICgxIC0gdW5pdEkpICsgY29sb3IyW2ldICogdW5pdEk7XG5cdFx0XHRcdFx0XHRcblx0XHR9KTtcblx0XHRcblx0XHRyZXR1cm4gY29sb3JzLmFycmF5VG9IZXgoIHJlc3VsdCApO1xuXHR9LFxuXG5cdGhleFRvU3RyaW5nIDogZnVuY3Rpb24oIGhleENvbG9yICkge1xuXHRcblx0XHR2YXIgc3RyaW5nID0gcGFyc2VJbnQoaGV4Q29sb3IsIDEwKS50b1N0cmluZyggMTYgKTtcblx0XG5cdFx0d2hpbGUoIHN0cmluZy5sZW5ndGggPCA2ICkge1xuXHRcdFx0c3RyaW5nID0gXCIwXCIgKyBzdHJpbmc7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gXCIjXCIgKyBzdHJpbmc7XG5cdH1cdFxuXHRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb2xvcnM7IiwidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBpbnNlcnRDc3MgPSByZXF1aXJlKCdpbnNlcnQtY3NzJyk7XG52YXIgQ2xhc3NMaXN0ID0gcmVxdWlyZShcImNsYXNzLWxpc3RcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGNvbG9ycyA9IHJlcXVpcmUoJy4vY29sb3JzJyk7XG5cbnZhciBQYWlycyA9IHJlcXVpcmUoJ2xvZGFzaC5wYWlycycpO1xudmFyIEZpbHRlciA9IHJlcXVpcmUoJ2xvZGFzaC5maWx0ZXInKTtcbnZhciBTb3J0QnkgPSByZXF1aXJlKCdsb2Rhc2guc29ydGJ5Jyk7XG52YXIgRm9yRWFjaCA9IHJlcXVpcmUoJ2xvZGFzaC5mb3JlYWNoJyk7XG52YXIgVGVtcGxhdGUgPSByZXF1aXJlKCdsb2Rhc2gudGVtcGxhdGUnKTtcbnZhciBNYXBWYWx1ZXMgPSByZXF1aXJlKCdsb2Rhc2gubWFwdmFsdWVzJyk7XG52YXIgUmVkdWNlID0gcmVxdWlyZSgnbG9kYXNoLnJlZHVjZScpO1xudmFyIElzRWxlbWVudCA9IHJlcXVpcmUoJ2xvZGFzaC5pc2VsZW1lbnQnKTtcbnZhciBFeHRlbmQgPSByZXF1aXJlKCdsb2Rhc2guYXNzaWduJyk7XG5cbnZhciBfbWVudVRlbXBsYXRlID0gbnVsbDtcbnZhciBfY3NzVGVtcGxhdGUgPSBudWxsO1xudmFyIF9sZXZlbFRlbXBsYXRlID0gbnVsbDtcblxuXG52YXIgc29ydEFuZEZpbHRlck1hbmlmZXN0cyA9IGZ1bmN0aW9uKCBtYW5pZmVzdHMgKSB7XG5cdFxuXHR2YXIgcGFpcnMgPSBQYWlycyggbWFuaWZlc3RzIClcblx0XG5cdHZhciB2aXNpYmxlID0gRmlsdGVyKCBwYWlycywgZnVuY3Rpb24oa2V5cGFpcikge1xuXHRcdHJldHVybiBrZXlwYWlyWzFdLnZpc2libGUgIT09IGZhbHNlO1xuXHR9KVxuXHRcblx0dmFyIHNvcnRlZCA9IFNvcnRCeSggdmlzaWJsZSwgZnVuY3Rpb24oIGtleXBhaXIgKSB7XG5cdFx0cmV0dXJuIGtleXBhaXJbMV0ub3JkZXI7XG5cdH0pXG5cdFxuXHRyZXR1cm4gc29ydGVkO1xufTtcblxudmFyIGhhbmRsZXJzID0gKGZ1bmN0aW9uKCkge1xuXHRcblx0dmFyIGJvZHlDbGFzcyA9IENsYXNzTGlzdCggZG9jdW1lbnQuYm9keSApO1xuXHR2YXIgaXNPcGVuID0gZmFsc2U7XG5cdHZhciBlbWl0dGVyID0gbnVsbDtcblx0dmFyIHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cdFxuXHR2YXIgdG9nZ2xlID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0aWYoIGUgKSBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0aXNPcGVuID8gY2xvc2UoKSA6IG9wZW4oKTtcblx0fTtcblx0XG5cdHZhciBjbG9zZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGJvZHlDbGFzcy5yZW1vdmUoJ3BvZW0tbWVudS1vcGVuJyk7XG5cdFx0ZW1pdHRlci5lbWl0KCdjbG9zZScpO1xuXHRcdGlzT3BlbiA9IGZhbHNlO1xuXHR9O1xuXHRcblx0dmFyIG9wZW4gPSBmdW5jdGlvbigpIHtcblx0XHRib2R5Q2xhc3MuYWRkKCdwb2VtLW1lbnUtb3BlbicpO1xuXHRcdGVtaXR0ZXIuZW1pdCgnb3BlbicpO1xuXHRcdGlzT3BlbiA9IHRydWU7XG5cdH07XG5cdFxuXHR2YXIgbG9hZExldmVsID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZW1pdHRlci5lbWl0KCdsb2FkJywge1xuXHRcdFx0c2x1ZyA6IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNsdWcnKVxuXHRcdH0pO1xuXHRcdGNsb3NlKCk7XG5cdH07XG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24oIGNvbmZpZywgY3VycmVudEVtaXR0ZXIsIGRpdiApIHtcblxuXHRcdGVtaXR0ZXIgPSBjdXJyZW50RW1pdHRlcjtcblx0XHRwcmV2ZW50RGVmYXVsdCA9IGNvbmZpZy5wcmV2ZW50RGVmYXVsdDtcblx0XHRcblx0XHR2YXIgYnV0dG9uID0gZGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BvZW0tbWVudS1idXJnZXInKVswXTtcblx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdG9nZ2xlLCBmYWxzZSApO1xuXHRcdFxuXHRcdHZhciBsZXZlbExpbmtzID0gZGl2XG5cdFx0XHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9lbS1tZW51LWxldmVscycpWzBdXG5cdFx0XHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtcblx0XHRcblx0XHRGb3JFYWNoKCBsZXZlbExpbmtzLCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBsb2FkTGV2ZWwsIGZhbHNlICk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0ZGl2XHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9lbS1tZW51LWJsb2NrZXInKVswXVxuXHRcdFx0LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGNsb3NlLCBmYWxzZSApO1xuXHRcdFxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gdG9nZ2xlTWVudUhhbmRsZXIoIGUgKSB7XG5cdFx0XHRpZiggZS5rZXlDb2RlICE9PSBjb25maWcudG9nZ2xlS2V5ICkgcmV0dXJuO1xuXHRcdFx0dG9nZ2xlKGUpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdHJldHVybiB7XG5cdFx0XHRjbG9zZSA6IGNsb3NlLFxuXHRcdFx0b3BlbiA6IG9wZW5cblx0XHR9O1xuXHR9O1xuXHRcbn0pKCk7XG5cbnZhciBsb2FkVGVtcGxhdGVzT25jZSA9IChmdW5jdGlvbigpIHtcblx0XG5cdHZhciBmaXJzdFJ1biA9IHRydWU7XG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0aWYoIGZpcnN0UnVuICkge1xuXHRcdFx0XG5cdFx0XHRmaXJzdFJ1biA9IGZhbHNlO1xuXHRcdFx0XG5cdFx0XHRfbWVudVRlbXBsYXRlID0gVGVtcGxhdGUoXG5cdFx0XHRcdGZzLnJlYWRGaWxlU3luYyggX19kaXJuYW1lICsgJy8uLi90ZW1wbGF0ZXMvbWVudS5odG1sJyApXG5cdFx0XHQpO1xuXHRcdFx0XG5cdFx0XHRfbGV2ZWxUZW1wbGF0ZSA9IFRlbXBsYXRlKFxuXHRcdFx0XHRmcy5yZWFkRmlsZVN5bmMoIF9fZGlybmFtZSArICcvLi4vdGVtcGxhdGVzL2xldmVsLmh0bWwnIClcblx0XHRcdCk7XG5cdFx0XHRcblx0XHRcdF9jc3NUZW1wbGF0ZSA9IFRlbXBsYXRlKFxuXHRcdFx0XHRmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi90ZW1wbGF0ZXMvc3R5bGUuY3NzJylcblx0XHRcdCk7XG5cdFx0XHRcblx0XHR9XG5cdH07XG5cdFxufSkoKTtcblxudmFyIHJ1bkNzc1RlbXBsYXRlcyA9IGZ1bmN0aW9uKCBjb25maWcgKSB7XG5cdFxuXHR2YXIgZGlyZWN0aW9uID0gY29uZmlnLnByaW1hcnlDb2xvciA+IGNvbmZpZy5tZW51Q29sb3IgPyAxIDogLTE7XG5cdFxuXHR2YXIgY3NzID0gX2Nzc1RlbXBsYXRlKE1hcFZhbHVlcyh7XG5cdFx0XG5cdFx0aGFtYnVyZ2VyXHRcdDogY29uZmlnLmhhbWJ1cmdlckNvbG9yLFxuXHRcdHByaW1hcnlBY3RpdmVcdDogY29uZmlnLnByaW1hcnlDb2xvcixcblx0XHR0ZXh0XHRcdFx0OiBjb25maWcudGV4dENvbG9yLFxuXHRcdG1lbnVcdFx0XHQ6IGNvbmZpZy5tZW51Q29sb3IsXG5cdFx0XG5cdFx0dGV4dEFjdGl2ZVx0XHQ6IGNvbG9ycy5saWdodG5lc3MoIGNvbmZpZy50ZXh0Q29sb3IsXHRcdGRpcmVjdGlvbiAqIDAuMSApLFxuXHRcdG1lbnVEYXJrXHRcdDogY29sb3JzLmxpZ2h0bmVzcyggY29uZmlnLm1lbnVDb2xvcixcdFx0ZGlyZWN0aW9uICogLTAuMiApLFxuXHRcdG1lbnVMaWdodFx0XHQ6IGNvbG9ycy5saWdodG5lc3MoIGNvbmZpZy5tZW51Q29sb3IsXHRcdGRpcmVjdGlvbiAqIDAuMiApLFxuXHRcdFxuXHRcdHByaW1hcnlcdFx0XHQ6IGNvbG9ycy5taXgoIGNvbmZpZy5wcmltYXJ5Q29sb3IsIGNvbmZpZy5tZW51Q29sb3IsIDAuMiApLFxuXHRcdGxldmVsXHRcdFx0OiBjb2xvcnMubWl4KCBjb25maWcucHJpbWFyeUNvbG9yLCBjb25maWcubWVudUNvbG9yLCAwLjkgKSxcblx0XHRsZXZlbEFjdGl2ZVx0XHQ6IGNvbG9ycy5taXgoIGNvbmZpZy5wcmltYXJ5Q29sb3IsIGNvbmZpZy5tZW51Q29sb3IsIDAuNiApXG5cdFx0XG5cdH0sIGNvbG9ycy5oZXhUb1N0cmluZyApKTtcblx0XG5cdGluc2VydENzcyggY3NzICk7XG5cdFxufTtcblxudmFyIHJ1bkh0bWxUZW1wbGF0ZXMgPSBmdW5jdGlvbiggbWFuaWZlc3RLZXlWYWx1ZVBhaXJzLCBjb25maWcgKSB7XG5cdFx0XG5cdHZhciBsZXZlbHMgPSBSZWR1Y2UoIG1hbmlmZXN0S2V5VmFsdWVQYWlycywgZnVuY3Rpb24oIG1lbW8sIGtleVBhaXIgKSB7XG5cdFx0cmV0dXJuIG1lbW8gKyBfbGV2ZWxUZW1wbGF0ZSh7XG5cdFx0XHRzbHVnOiBrZXlQYWlyWzBdLFxuXHRcdFx0bWFuaWZlc3Q6IGtleVBhaXJbMV1cblx0XHR9KVxuXHR9LCBcIlwiKTtcblx0XG5cdHZhciBodG1sID0gX21lbnVUZW1wbGF0ZSh7XG5cdFx0bGV2ZWxzIDogbGV2ZWxzXG5cdH0pO1xuXHRcdFxuXHQvL0F0dGFjaCBlbGVtZW50c1xuXHR2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcblx0ZnVuY3Rpb24gYXBwZW5kT3JTZXRJbm5lckh0bWwoIGVsLCBjb250ZW50cyApIHtcblx0XHRpZiggSXNFbGVtZW50KCBjb250ZW50cyApICkge1xuXHRcdFx0ZWwuYXBwZW5kQ2hpbGQoIGNvbnRlbnRzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsLmlubmVySFRNTCA9IGNvbnRlbnRzO1xuXHRcdH1cblx0fVxuXHRcblx0YXBwZW5kT3JTZXRJbm5lckh0bWwoIGRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb2VtLW1lbnUtdG9wJylbMF0sXHRcdFx0XHRjb25maWcudG9wICk7XG5cdGFwcGVuZE9yU2V0SW5uZXJIdG1sKCBkaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9lbS1tZW51LWxldmVscy10b3AnKVswXSxcdFx0Y29uZmlnLmJlZm9yZUxldmVscyApO1xuXHRhcHBlbmRPclNldElubmVySHRtbCggZGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BvZW0tbWVudS1sZXZlbHMtYm90dG9tJylbMF0sXHRcdGNvbmZpZy5hZnRlckxldmVscyApO1xuXHRhcHBlbmRPclNldElubmVySHRtbCggZGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BvZW0tbWVudS1ib3R0b20nKVswXSxcdFx0XHRjb25maWcuYm90dG9tICk7XG5cdFxuXHRkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSggZGl2LCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQgKTtcblx0XG5cdHJldHVybiBkaXY7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lbnUoIG1hbmlmZXN0cywgcHJvcGVydGllcyApIHtcblxuXHRsb2FkVGVtcGxhdGVzT25jZSgpO1xuXG5cdHZhciBjb25maWcgPSBFeHRlbmQoe1xuXHRcdGhhbWJ1cmdlckNvbG9yXHRcdFx0XHQ6IDB4ZmZmZmZmLFxuXHRcdHByaW1hcnlDb2xvclx0XHRcdFx0OiAweDU0QUZGRixcblx0XHR0ZXh0Q29sb3JcdFx0XHRcdFx0OiAweDlGQzZFMSxcblx0XHRtZW51Q29sb3JcdFx0XHRcdFx0OiAweDI3MkUzNCxcblx0XHR0b3BcdFx0XHRcdFx0XHRcdDogXCJQb2VtXCIsXG5cdFx0YmVmb3JlTGV2ZWxzXHRcdFx0XHQ6IFwiXCIsXG5cdFx0YWZ0ZXJMZXZlbHNcdFx0XHRcdFx0OiBcIlwiLFxuXHRcdGJvdHRvbVx0XHRcdFx0XHRcdDogXCJcIixcblx0XHRwcmV2ZW50RGVmYXVsdExldmVsTGlua3NcdDogdHJ1ZSxcblx0XHR0b2dnbGVLZXlcdFx0XHRcdFx0OiAyNyAvL2VzY2FwZVxuXHR9LCBwcm9wZXJ0aWVzKTtcblx0XG4gICAgdmFyIGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdHZhciBtYW5pZmVzdEtleVZhbHVlUGFpcnMgPSBzb3J0QW5kRmlsdGVyTWFuaWZlc3RzKCBtYW5pZmVzdHMgKVxuXHRcblx0cnVuQ3NzVGVtcGxhdGVzKCBjb25maWcgKTtcblx0dmFyIGRpdiA9IHJ1bkh0bWxUZW1wbGF0ZXMoIG1hbmlmZXN0S2V5VmFsdWVQYWlycywgY29uZmlnICk7XG4gICAgdmFyIGNvbW1hbmRzID0gaGFuZGxlcnMoIGNvbmZpZywgZW1pdHRlciwgZGl2ICk7XG5cdFxuXHRyZXR1cm4ge1xuXHRcdGVtaXR0ZXIgOiBlbWl0dGVyLFxuXHRcdGNsb3NlIDogY29tbWFuZHMuY2xvc2UsXG5cdFx0b3BlbiA6IGNvbW1hbmRzLm9wZW5cblx0fTtcblx0XG59OyIsInZhciBsb2NhbGZvcmFnZSA9IHJlcXVpcmUoJ2xvY2FsZm9yYWdlJyk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIG11dGVVSSA9IHJlcXVpcmUoJy4vdWknKTtcbnZhciBleHRlbmQgPSByZXF1aXJlKCdleHRlbmQnKTtcblxudmFyIGRpc3BhdGNoQ2hhbmdlZCA9IGZ1bmN0aW9uKCBlbWl0dGVyLCBtdXRlZFZhbHVlICkge1xuXG5cdGVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgbXV0ZWRWYWx1ZSApO1xuXHRcblx0aWYoIG11dGVkVmFsdWUgPT09IHRydWUgKSB7XG5cdFx0ZW1pdHRlci5lbWl0KCdtdXRlJyk7XG5cdH0gZWxzZSB7XG5cdFx0ZW1pdHRlci5lbWl0KCd1bm11dGUnKTtcblx0fVxufTtcblxudmFyIHVwZGF0ZUZyb21Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiggZXhwb3J0cywgZW1pdHRlciApIHtcblx0XG5cdGxvY2FsZm9yYWdlLmdldEl0ZW0oJ3BvZW0tbXV0ZScsIGZ1bmN0aW9uKCBlcnIsIHZhbHVlICkge1xuXHRcdFxuXHRcdHZhciBjdXJyZW50TXV0ZSA9IGV4cG9ydHMubXV0ZWQoKTtcblxuXHRcdGlmKCBlcnIgfHwgKHZhbHVlICE9PSBmYWxzZSAmJiB2YWx1ZSAhPT0gdHJ1ZSApICkge1xuXHRcdFx0ZXhwb3J0cy5tdXRlZCggZmFsc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdCBcdGV4cG9ydHMubXV0ZWQoIHZhbHVlICk7XG5cdFx0fVxuXHRcdFxuXHR9LmJpbmQodGhpcykpO1xuXHRcbn07XG5cbnZhciBrZXlib2FyZFNob3J0Y3V0ID0gZnVuY3Rpb24oIHN0YXRlLCB0b2dnbGUsIGNvbmZpZyApIHtcblx0XG5cdGlmKCBjb25maWcua2V5Q29kZSAhPT0gZmFsc2UgKSB7XG5cdFx0XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiBtdXRlQXVkaW9CeUtlYm9hcmQoIGUgKSB7XG5cdFxuXHRcdFx0aWYoIGUua2V5Q29kZSAhPT0gY29uZmlnLmtleUNvZGUgKSByZXR1cm47XG5cdFx0XHR0b2dnbGUoKTtcblx0XG5cdFx0fSk7XG5cdH1cbn07XG5cbnZhciBnZXRTZXRNdXRlZCA9IGZ1bmN0aW9uKCBzdGF0ZSwgZW1pdHRlciApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcblx0XHRpZiggdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0aWYoIHZhbHVlICE9PSBzdGF0ZS5tdXRlZCApIHtcblx0XHRcdFx0XG5cdFx0XHRcdHN0YXRlLm11dGVkID0gdmFsdWU7XG5cdFx0XHRcdGxvY2FsZm9yYWdlLnNldEl0ZW0oICdwb2VtLW11dGUnLCBzdGF0ZS5tdXRlZCApO1xuXHRcdFx0XHRkaXNwYXRjaENoYW5nZWQoIGVtaXR0ZXIsIHN0YXRlLm11dGVkICk7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gc3RhdGUubXV0ZWQ7XG5cdH1cbn07XG5cbnZhciBtdXRlID0gZnVuY3Rpb24oIHByb3BlcnRpZXMgKSB7XG5cdFxuXHR2YXIgY29uZmlnID0gZXh0ZW5kKHtcblx0XHRtdXRlZCA6IGZhbHNlLFxuXHRcdGtleUNvZGUgOiA4M1xuXHR9KTtcblx0XG5cdHZhciBzdGF0ZSA9IHtcblx0XHRtdXRlZCA6IGNvbmZpZy5tdXRlZFxuXHR9O1xuXHRcblx0dmFyIGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cdHZhciBtdXRlZCA9IGdldFNldE11dGVkKCBzdGF0ZSwgZW1pdHRlciApO1xuXHR2YXIgdG9nZ2xlID0gZnVuY3Rpb24oKSB7IG11dGVkKCAhbXV0ZWQoKSApOyB9XG5cdFxuXHRrZXlib2FyZFNob3J0Y3V0KCBzdGF0ZSwgdG9nZ2xlLCBjb25maWcgKTtcblx0XG5cdHZhciBleHBvcnRzID0ge1xuXHRcdG11dGVkIDogbXV0ZWQsXG5cdFx0dG9nZ2xlIDogdG9nZ2xlLFxuXHRcdGVtaXR0ZXIgOiBlbWl0dGVyLFxuXHRcdGVsIDogbnVsbFxuXHR9O1xuXG5cdHVwZGF0ZUZyb21Mb2NhbFN0b3JhZ2UoIGV4cG9ydHMsIGVtaXR0ZXIgKTtcblx0ZXhwb3J0cy5lbCA9IG11dGVVSSggZXhwb3J0cyApXG5cdFxuXHRyZXR1cm4gZXhwb3J0cztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbXV0ZTtcbiIsInZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxudmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KGFycikge1xuXHRpZiAodHlwZW9mIEFycmF5LmlzQXJyYXkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpO1xuXHR9XG5cblx0cmV0dXJuIHRvU3RyLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbnZhciBpc1BsYWluT2JqZWN0ID0gZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgaGFzT3duQ29uc3RydWN0b3IgPSBoYXNPd24uY2FsbChvYmosICdjb25zdHJ1Y3RvcicpO1xuXHR2YXIgaGFzSXNQcm90b3R5cGVPZiA9IG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IucHJvdG90eXBlICYmIGhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdpc1Byb3RvdHlwZU9mJyk7XG5cdC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3Rcblx0aWYgKG9iai5jb25zdHJ1Y3RvciAmJiAhaGFzT3duQ29uc3RydWN0b3IgJiYgIWhhc0lzUHJvdG90eXBlT2YpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdHZhciBrZXk7XG5cdGZvciAoa2V5IGluIG9iaikgeyAvKiovIH1cblxuXHRyZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3VuZGVmaW5lZCcgfHwgaGFzT3duLmNhbGwob2JqLCBrZXkpO1xufTtcblxuLy8gSWYgbmFtZSBpcyAnX19wcm90b19fJywgYW5kIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBhdmFpbGFibGUsIGRlZmluZSBfX3Byb3RvX18gYXMgYW4gb3duIHByb3BlcnR5IG9uIHRhcmdldFxudmFyIHNldFByb3BlcnR5ID0gZnVuY3Rpb24gc2V0UHJvcGVydHkodGFyZ2V0LCBvcHRpb25zKSB7XG5cdGlmIChkZWZpbmVQcm9wZXJ0eSAmJiBvcHRpb25zLm5hbWUgPT09ICdfX3Byb3RvX18nKSB7XG5cdFx0ZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBvcHRpb25zLm5hbWUsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHR2YWx1ZTogb3B0aW9ucy5uZXdWYWx1ZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0dGFyZ2V0W29wdGlvbnMubmFtZV0gPSBvcHRpb25zLm5ld1ZhbHVlO1xuXHR9XG59O1xuXG4vLyBSZXR1cm4gdW5kZWZpbmVkIGluc3RlYWQgb2YgX19wcm90b19fIGlmICdfX3Byb3RvX18nIGlzIG5vdCBhbiBvd24gcHJvcGVydHlcbnZhciBnZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIGdldFByb3BlcnR5KG9iaiwgbmFtZSkge1xuXHRpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHtcblx0XHRpZiAoIWhhc093bi5jYWxsKG9iaiwgbmFtZSkpIHtcblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fSBlbHNlIGlmIChnT1BEKSB7XG5cdFx0XHQvLyBJbiBlYXJseSB2ZXJzaW9ucyBvZiBub2RlLCBvYmpbJ19fcHJvdG9fXyddIGlzIGJ1Z2d5IHdoZW4gb2JqIGhhc1xuXHRcdFx0Ly8gX19wcm90b19fIGFzIGFuIG93biBwcm9wZXJ0eS4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHdvcmtzLlxuXHRcdFx0cmV0dXJuIGdPUEQob2JqLCBuYW1lKS52YWx1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb2JqW25hbWVdO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleHRlbmQoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmU7XG5cdHZhciB0YXJnZXQgPSBhcmd1bWVudHNbMF07XG5cdHZhciBpID0gMTtcblx0dmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdHZhciBkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbMV0gfHwge307XG5cdFx0Ly8gc2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdGkgPSAyO1xuXHR9XG5cdGlmICh0YXJnZXQgPT0gbnVsbCB8fCAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJykpIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuXHRcdFx0XHRzcmMgPSBnZXRQcm9wZXJ0eSh0YXJnZXQsIG5hbWUpO1xuXHRcdFx0XHRjb3B5ID0gZ2V0UHJvcGVydHkob3B0aW9ucywgbmFtZSk7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAodGFyZ2V0ICE9PSBjb3B5KSB7XG5cdFx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdFx0aWYgKGRlZXAgJiYgY29weSAmJiAoaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBpc0FycmF5KGNvcHkpKSkpIHtcblx0XHRcdFx0XHRcdGlmIChjb3B5SXNBcnJheSkge1xuXHRcdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGlzUGxhaW5PYmplY3Qoc3JjKSA/IHNyYyA6IHt9O1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHRcdHNldFByb3BlcnR5KHRhcmdldCwgeyBuYW1lOiBuYW1lLCBuZXdWYWx1ZTogZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KSB9KTtcblxuXHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjb3B5ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0c2V0UHJvcGVydHkodGFyZ2V0LCB7IG5hbWU6IG5hbWUsIG5ld1ZhbHVlOiBjb3B5IH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuIiwidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBDbGFzc0xpc3QgPSByZXF1aXJlKFwiY2xhc3MtbGlzdFwiKTtcbnZhciBpbnNlcnRDc3MgPSByZXF1aXJlKCdpbnNlcnQtY3NzJyk7XG5cbnZhciBfaHRtbCA9IGZzLnJlYWRGaWxlU3luYyggX19kaXJuYW1lICsgXCIvdGVtcGxhdGUuaHRtbFwiICk7XG52YXIgX2NzcyA9IGZzLnJlYWRGaWxlU3luYyggX19kaXJuYW1lICsgXCIvc3R5bGUuY3NzXCIgKTtcbnZhciBfY3NzSW5zZXJ0ZWQgPSBmYWxzZTtcblxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KCBodG1sLCBjbGFzc05hbWUgKSB7XG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdHJldHVybiBkaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lIClbMF1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtdXRlRWwoIG11dGUgKSB7XG5cdFxuXHR2YXIgZWwgPSBjcmVhdGVFbGVtZW50KCBfaHRtbCwgJ3BvZW0tbXV0ZScgKTtcblx0dmFyIGVsQ2xhc3MgPSBDbGFzc0xpc3QoIGVsICk7XG5cdFxuXHRpZiggIV9jc3NJbnNlcnRlZCApIHtcblx0XHRpbnNlcnRDc3MoIF9jc3MgKTtcblx0XHRfY3NzSW5zZXJ0ZWQgPSB0cnVlO1xuXHR9XG5cdFxuXHR2YXIgdXBkYXRlQ2xhc3MgPSBmdW5jdGlvbigpIHtcblx0XHRpZiggbXV0ZS5tdXRlZCgpICkge1xuXHRcdFx0ZWxDbGFzcy5yZW1vdmUoJ3BvZW0tbXV0ZS11bm11dGVkJyk7XG5cdFx0XHRlbENsYXNzLmFkZCgncG9lbS1tdXRlLW11dGVkJyk7XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbENsYXNzLnJlbW92ZSgncG9lbS1tdXRlLW11dGVkJyk7XG5cdFx0XHRlbENsYXNzLmFkZCgncG9lbS1tdXRlLXVubXV0ZWQnKTtcblx0XHR9XG5cdH07XG5cdFx0XG5cdG11dGUuZW1pdHRlci5vbiggJ2NoYW5nZScsIHVwZGF0ZUNsYXNzICk7XG5cdHVwZGF0ZUNsYXNzKCk7XG5cdFxuXHRcblx0ZWwuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0bXV0ZS50b2dnbGUoKTtcblx0XHR1cGRhdGVDbGFzcygpO1xuXHRcdFxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHR9LCB0cnVlKTtcblx0XG5cdHJldHVybiBlbDtcbn07IiwiLypqc2xpbnQgb25ldmFyOnRydWUsIHVuZGVmOnRydWUsIG5ld2NhcDp0cnVlLCByZWdleHA6dHJ1ZSwgYml0d2lzZTp0cnVlLCBtYXhlcnI6NTAsIGluZGVudDo0LCB3aGl0ZTpmYWxzZSwgbm9tZW46ZmFsc2UsIHBsdXNwbHVzOmZhbHNlICovXG4vKmdsb2JhbCBkZWZpbmU6ZmFsc2UsIHJlcXVpcmU6ZmFsc2UsIGV4cG9ydHM6ZmFsc2UsIG1vZHVsZTpmYWxzZSwgc2lnbmFsczpmYWxzZSAqL1xuXG4vKiogQGxpY2Vuc2VcbiAqIEpTIFNpZ25hbHMgPGh0dHA6Ly9taWxsZXJtZWRlaXJvcy5naXRodWIuY29tL2pzLXNpZ25hbHMvPlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBBdXRob3I6IE1pbGxlciBNZWRlaXJvc1xuICogVmVyc2lvbjogMS4wLjAgLSBCdWlsZDogMjY4ICgyMDEyLzExLzI5IDA1OjQ4IFBNKVxuICovXG5cbihmdW5jdGlvbihnbG9iYWwpe1xuXG4gICAgLy8gU2lnbmFsQmluZGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgdGhhdCByZXByZXNlbnRzIGEgYmluZGluZyBiZXR3ZWVuIGEgU2lnbmFsIGFuZCBhIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqIDxiciAvPi0gPHN0cm9uZz5UaGlzIGlzIGFuIGludGVybmFsIGNvbnN0cnVjdG9yIGFuZCBzaG91bGRuJ3QgYmUgY2FsbGVkIGJ5IHJlZ3VsYXIgdXNlcnMuPC9zdHJvbmc+XG4gICAgICogPGJyIC8+LSBpbnNwaXJlZCBieSBKb2EgRWJlcnQgQVMzIFNpZ25hbEJpbmRpbmcgYW5kIFJvYmVydCBQZW5uZXIncyBTbG90IGNsYXNzZXMuXG4gICAgICogQGF1dGhvciBNaWxsZXIgTWVkZWlyb3NcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAbmFtZSBTaWduYWxCaW5kaW5nXG4gICAgICogQHBhcmFtIHtTaWduYWx9IHNpZ25hbCBSZWZlcmVuY2UgdG8gU2lnbmFsIG9iamVjdCB0aGF0IGxpc3RlbmVyIGlzIGN1cnJlbnRseSBib3VuZCB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBIYW5kbGVyIGZ1bmN0aW9uIGJvdW5kIHRvIHRoZSBzaWduYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc09uY2UgSWYgYmluZGluZyBzaG91bGQgYmUgZXhlY3V0ZWQganVzdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbbGlzdGVuZXJDb250ZXh0XSBDb250ZXh0IG9uIHdoaWNoIGxpc3RlbmVyIHdpbGwgYmUgZXhlY3V0ZWQgKG9iamVjdCB0aGF0IHNob3VsZCByZXByZXNlbnQgdGhlIGB0aGlzYCB2YXJpYWJsZSBpbnNpZGUgbGlzdGVuZXIgZnVuY3Rpb24pLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJpb3JpdHldIFRoZSBwcmlvcml0eSBsZXZlbCBvZiB0aGUgZXZlbnQgbGlzdGVuZXIuIChkZWZhdWx0ID0gMCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2lnbmFsQmluZGluZyhzaWduYWwsIGxpc3RlbmVyLCBpc09uY2UsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlciBmdW5jdGlvbiBib3VuZCB0byB0aGUgc2lnbmFsLlxuICAgICAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGlzdGVuZXIgPSBsaXN0ZW5lcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYmluZGluZyBzaG91bGQgYmUgZXhlY3V0ZWQganVzdCBvbmNlLlxuICAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pc09uY2UgPSBpc09uY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRleHQgb24gd2hpY2ggbGlzdGVuZXIgd2lsbCBiZSBleGVjdXRlZCAob2JqZWN0IHRoYXQgc2hvdWxkIHJlcHJlc2VudCB0aGUgYHRoaXNgIHZhcmlhYmxlIGluc2lkZSBsaXN0ZW5lciBmdW5jdGlvbikuXG4gICAgICAgICAqIEBtZW1iZXJPZiBTaWduYWxCaW5kaW5nLnByb3RvdHlwZVxuICAgICAgICAgKiBAbmFtZSBjb250ZXh0XG4gICAgICAgICAqIEB0eXBlIE9iamVjdHx1bmRlZmluZWR8bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbGlzdGVuZXJDb250ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gU2lnbmFsIG9iamVjdCB0aGF0IGxpc3RlbmVyIGlzIGN1cnJlbnRseSBib3VuZCB0by5cbiAgICAgICAgICogQHR5cGUgU2lnbmFsXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaWduYWwgPSBzaWduYWw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3RlbmVyIHByaW9yaXR5XG4gICAgICAgICAqIEB0eXBlIE51bWJlclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuICAgIH1cblxuICAgIFNpZ25hbEJpbmRpbmcucHJvdG90eXBlID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBiaW5kaW5nIGlzIGFjdGl2ZSBhbmQgc2hvdWxkIGJlIGV4ZWN1dGVkLlxuICAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICAqL1xuICAgICAgICBhY3RpdmUgOiB0cnVlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IHBhcmFtZXRlcnMgcGFzc2VkIHRvIGxpc3RlbmVyIGR1cmluZyBgU2lnbmFsLmRpc3BhdGNoYCBhbmQgYFNpZ25hbEJpbmRpbmcuZXhlY3V0ZWAuIChjdXJyaWVkIHBhcmFtZXRlcnMpXG4gICAgICAgICAqIEB0eXBlIEFycmF5fG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtcyA6IG51bGwsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgbGlzdGVuZXIgcGFzc2luZyBhcmJpdHJhcnkgcGFyYW1ldGVycy5cbiAgICAgICAgICogPHA+SWYgYmluZGluZyB3YXMgYWRkZWQgdXNpbmcgYFNpZ25hbC5hZGRPbmNlKClgIGl0IHdpbGwgYmUgYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gc2lnbmFsIGRpc3BhdGNoIHF1ZXVlLCB0aGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgZm9yIHRoZSBzaWduYWwgZGlzcGF0Y2guPC9wPlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFyYW1zQXJyXSBBcnJheSBvZiBwYXJhbWV0ZXJzIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgbGlzdGVuZXJcbiAgICAgICAgICogQHJldHVybiB7Kn0gVmFsdWUgcmV0dXJuZWQgYnkgdGhlIGxpc3RlbmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhlY3V0ZSA6IGZ1bmN0aW9uIChwYXJhbXNBcnIpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVyUmV0dXJuLCBwYXJhbXM7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUgJiYgISF0aGlzLl9saXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucGFyYW1zPyB0aGlzLnBhcmFtcy5jb25jYXQocGFyYW1zQXJyKSA6IHBhcmFtc0FycjtcbiAgICAgICAgICAgICAgICBoYW5kbGVyUmV0dXJuID0gdGhpcy5fbGlzdGVuZXIuYXBwbHkodGhpcy5jb250ZXh0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc09uY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlclJldHVybjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0YWNoIGJpbmRpbmcgZnJvbSBzaWduYWwuXG4gICAgICAgICAqIC0gYWxpYXMgdG86IG15U2lnbmFsLnJlbW92ZShteUJpbmRpbmcuZ2V0TGlzdGVuZXIoKSk7XG4gICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufG51bGx9IEhhbmRsZXIgZnVuY3Rpb24gYm91bmQgdG8gdGhlIHNpZ25hbCBvciBgbnVsbGAgaWYgYmluZGluZyB3YXMgcHJldmlvdXNseSBkZXRhY2hlZC5cbiAgICAgICAgICovXG4gICAgICAgIGRldGFjaCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQm91bmQoKT8gdGhpcy5fc2lnbmFsLnJlbW92ZSh0aGlzLl9saXN0ZW5lciwgdGhpcy5jb250ZXh0KSA6IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBiaW5kaW5nIGlzIHN0aWxsIGJvdW5kIHRvIHRoZSBzaWduYWwgYW5kIGhhdmUgYSBsaXN0ZW5lci5cbiAgICAgICAgICovXG4gICAgICAgIGlzQm91bmQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCEhdGhpcy5fc2lnbmFsICYmICEhdGhpcy5fbGlzdGVuZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiBTaWduYWxCaW5kaW5nIHdpbGwgb25seSBiZSBleGVjdXRlZCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNPbmNlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzT25jZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7RnVuY3Rpb259IEhhbmRsZXIgZnVuY3Rpb24gYm91bmQgdG8gdGhlIHNpZ25hbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RlbmVyIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtTaWduYWx9IFNpZ25hbCB0aGF0IGxpc3RlbmVyIGlzIGN1cnJlbnRseSBib3VuZCB0by5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNpZ25hbCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaWduYWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZSBpbnN0YW5jZSBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfZGVzdHJveSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zaWduYWw7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXI7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb250ZXh0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdG9TdHJpbmcgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tTaWduYWxCaW5kaW5nIGlzT25jZTonICsgdGhpcy5faXNPbmNlICsnLCBpc0JvdW5kOicrIHRoaXMuaXNCb3VuZCgpICsnLCBhY3RpdmU6JyArIHRoaXMuYWN0aXZlICsgJ10nO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG5cbi8qZ2xvYmFsIFNpZ25hbEJpbmRpbmc6ZmFsc2UqL1xuXG4gICAgLy8gU2lnbmFsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCBmbk5hbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCAnbGlzdGVuZXIgaXMgYSByZXF1aXJlZCBwYXJhbSBvZiB7Zm59KCkgYW5kIHNob3VsZCBiZSBhIEZ1bmN0aW9uLicucmVwbGFjZSgne2ZufScsIGZuTmFtZSkgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1c3RvbSBldmVudCBicm9hZGNhc3RlclxuICAgICAqIDxiciAvPi0gaW5zcGlyZWQgYnkgUm9iZXJ0IFBlbm5lcidzIEFTMyBTaWduYWxzLlxuICAgICAqIEBuYW1lIFNpZ25hbFxuICAgICAqIEBhdXRob3IgTWlsbGVyIE1lZGVpcm9zXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2lnbmFsKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgQXJyYXkuPFNpZ25hbEJpbmRpbmc+XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IFtdO1xuICAgICAgICB0aGlzLl9wcmV2UGFyYW1zID0gbnVsbDtcblxuICAgICAgICAvLyBlbmZvcmNlIGRpc3BhdGNoIHRvIGF3YXlzIHdvcmsgb24gc2FtZSBjb250ZXh0ICgjNDcpXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBTaWduYWwucHJvdG90eXBlLmRpc3BhdGNoLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgU2lnbmFsLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2lnbmFscyBWZXJzaW9uIE51bWJlclxuICAgICAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqL1xuICAgICAgICBWRVJTSU9OIDogJzEuMC4wJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgU2lnbmFsIHNob3VsZCBrZWVwIHJlY29yZCBvZiBwcmV2aW91c2x5IGRpc3BhdGNoZWQgcGFyYW1ldGVycyBhbmRcbiAgICAgICAgICogYXV0b21hdGljYWxseSBleGVjdXRlIGxpc3RlbmVyIGR1cmluZyBgYWRkKClgL2BhZGRPbmNlKClgIGlmIFNpZ25hbCB3YXNcbiAgICAgICAgICogYWxyZWFkeSBkaXNwYXRjaGVkIGJlZm9yZS5cbiAgICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAgKi9cbiAgICAgICAgbWVtb3JpemUgOiBmYWxzZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3Nob3VsZFByb3BhZ2F0ZSA6IHRydWUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIFNpZ25hbCBpcyBhY3RpdmUgYW5kIHNob3VsZCBicm9hZGNhc3QgZXZlbnRzLlxuICAgICAgICAgKiA8cD48c3Ryb25nPklNUE9SVEFOVDo8L3N0cm9uZz4gU2V0dGluZyB0aGlzIHByb3BlcnR5IGR1cmluZyBhIGRpc3BhdGNoIHdpbGwgb25seSBhZmZlY3QgdGhlIG5leHQgZGlzcGF0Y2gsIGlmIHlvdSB3YW50IHRvIHN0b3AgdGhlIHByb3BhZ2F0aW9uIG9mIGEgc2lnbmFsIHVzZSBgaGFsdCgpYCBpbnN0ZWFkLjwvcD5cbiAgICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZlIDogdHJ1ZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBpc09uY2VcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtsaXN0ZW5lckNvbnRleHRdXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJpb3JpdHldXG4gICAgICAgICAqIEByZXR1cm4ge1NpZ25hbEJpbmRpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfcmVnaXN0ZXJMaXN0ZW5lciA6IGZ1bmN0aW9uIChsaXN0ZW5lciwgaXNPbmNlLCBsaXN0ZW5lckNvbnRleHQsIHByaW9yaXR5KSB7XG5cbiAgICAgICAgICAgIHZhciBwcmV2SW5kZXggPSB0aGlzLl9pbmRleE9mTGlzdGVuZXIobGlzdGVuZXIsIGxpc3RlbmVyQ29udGV4dCksXG4gICAgICAgICAgICAgICAgYmluZGluZztcblxuICAgICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nID0gdGhpcy5fYmluZGluZ3NbcHJldkluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZGluZy5pc09uY2UoKSAhPT0gaXNPbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IGNhbm5vdCBhZGQnKyAoaXNPbmNlPyAnJyA6ICdPbmNlJykgKycoKSB0aGVuIGFkZCcrICghaXNPbmNlPyAnJyA6ICdPbmNlJykgKycoKSB0aGUgc2FtZSBsaXN0ZW5lciB3aXRob3V0IHJlbW92aW5nIHRoZSByZWxhdGlvbnNoaXAgZmlyc3QuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nID0gbmV3IFNpZ25hbEJpbmRpbmcodGhpcywgbGlzdGVuZXIsIGlzT25jZSwgbGlzdGVuZXJDb250ZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQmluZGluZyhiaW5kaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5tZW1vcml6ZSAmJiB0aGlzLl9wcmV2UGFyYW1zKXtcbiAgICAgICAgICAgICAgICBiaW5kaW5nLmV4ZWN1dGUodGhpcy5fcHJldlBhcmFtcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiaW5kaW5nO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1NpZ25hbEJpbmRpbmd9IGJpbmRpbmdcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9hZGRCaW5kaW5nIDogZnVuY3Rpb24gKGJpbmRpbmcpIHtcbiAgICAgICAgICAgIC8vc2ltcGxpZmllZCBpbnNlcnRpb24gc29ydFxuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLl9iaW5kaW5ncy5sZW5ndGg7XG4gICAgICAgICAgICBkbyB7IC0tbjsgfSB3aGlsZSAodGhpcy5fYmluZGluZ3Nbbl0gJiYgYmluZGluZy5fcHJpb3JpdHkgPD0gdGhpcy5fYmluZGluZ3Nbbl0uX3ByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzLnNwbGljZShuICsgMSwgMCwgYmluZGluZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9pbmRleE9mTGlzdGVuZXIgOiBmdW5jdGlvbiAobGlzdGVuZXIsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBuID0gdGhpcy5fYmluZGluZ3MubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGN1cjtcbiAgICAgICAgICAgIHdoaWxlIChuLS0pIHtcbiAgICAgICAgICAgICAgICBjdXIgPSB0aGlzLl9iaW5kaW5nc1tuXTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyLl9saXN0ZW5lciA9PT0gbGlzdGVuZXIgJiYgY3VyLmNvbnRleHQgPT09IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBpZiBsaXN0ZW5lciB3YXMgYXR0YWNoZWQgdG8gU2lnbmFsLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIFNpZ25hbCBoYXMgdGhlIHNwZWNpZmllZCBsaXN0ZW5lci5cbiAgICAgICAgICovXG4gICAgICAgIGhhcyA6IGZ1bmN0aW9uIChsaXN0ZW5lciwgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lciwgY29udGV4dCkgIT09IC0xO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgc2lnbmFsLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBTaWduYWwgaGFuZGxlciBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtsaXN0ZW5lckNvbnRleHRdIENvbnRleHQgb24gd2hpY2ggbGlzdGVuZXIgd2lsbCBiZSBleGVjdXRlZCAob2JqZWN0IHRoYXQgc2hvdWxkIHJlcHJlc2VudCB0aGUgYHRoaXNgIHZhcmlhYmxlIGluc2lkZSBsaXN0ZW5lciBmdW5jdGlvbikuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJpb3JpdHldIFRoZSBwcmlvcml0eSBsZXZlbCBvZiB0aGUgZXZlbnQgbGlzdGVuZXIuIExpc3RlbmVycyB3aXRoIGhpZ2hlciBwcmlvcml0eSB3aWxsIGJlIGV4ZWN1dGVkIGJlZm9yZSBsaXN0ZW5lcnMgd2l0aCBsb3dlciBwcmlvcml0eS4gTGlzdGVuZXJzIHdpdGggc2FtZSBwcmlvcml0eSBsZXZlbCB3aWxsIGJlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgd2VyZSBhZGRlZC4gKGRlZmF1bHQgPSAwKVxuICAgICAgICAgKiBAcmV0dXJuIHtTaWduYWxCaW5kaW5nfSBBbiBPYmplY3QgcmVwcmVzZW50aW5nIHRoZSBiaW5kaW5nIGJldHdlZW4gdGhlIFNpZ25hbCBhbmQgbGlzdGVuZXIuXG4gICAgICAgICAqL1xuICAgICAgICBhZGQgOiBmdW5jdGlvbiAobGlzdGVuZXIsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIsICdhZGQnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyLCBmYWxzZSwgbGlzdGVuZXJDb250ZXh0LCBwcmlvcml0eSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBsaXN0ZW5lciB0byB0aGUgc2lnbmFsIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWQgYWZ0ZXIgZmlyc3QgZXhlY3V0aW9uICh3aWxsIGJlIGV4ZWN1dGVkIG9ubHkgb25jZSkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFNpZ25hbCBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xpc3RlbmVyQ29udGV4dF0gQ29udGV4dCBvbiB3aGljaCBsaXN0ZW5lciB3aWxsIGJlIGV4ZWN1dGVkIChvYmplY3QgdGhhdCBzaG91bGQgcmVwcmVzZW50IHRoZSBgdGhpc2AgdmFyaWFibGUgaW5zaWRlIGxpc3RlbmVyIGZ1bmN0aW9uKS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcmlvcml0eV0gVGhlIHByaW9yaXR5IGxldmVsIG9mIHRoZSBldmVudCBsaXN0ZW5lci4gTGlzdGVuZXJzIHdpdGggaGlnaGVyIHByaW9yaXR5IHdpbGwgYmUgZXhlY3V0ZWQgYmVmb3JlIGxpc3RlbmVycyB3aXRoIGxvd2VyIHByaW9yaXR5LiBMaXN0ZW5lcnMgd2l0aCBzYW1lIHByaW9yaXR5IGxldmVsIHdpbGwgYmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgb3JkZXIgYXMgdGhleSB3ZXJlIGFkZGVkLiAoZGVmYXVsdCA9IDApXG4gICAgICAgICAqIEByZXR1cm4ge1NpZ25hbEJpbmRpbmd9IEFuIE9iamVjdCByZXByZXNlbnRpbmcgdGhlIGJpbmRpbmcgYmV0d2VlbiB0aGUgU2lnbmFsIGFuZCBsaXN0ZW5lci5cbiAgICAgICAgICovXG4gICAgICAgIGFkZE9uY2UgOiBmdW5jdGlvbiAobGlzdGVuZXIsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIsICdhZGRPbmNlJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcihsaXN0ZW5lciwgdHJ1ZSwgbGlzdGVuZXJDb250ZXh0LCBwcmlvcml0eSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBkaXNwYXRjaCBxdWV1ZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgSGFuZGxlciBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIEV4ZWN1dGlvbiBjb250ZXh0IChzaW5jZSB5b3UgY2FuIGFkZCB0aGUgc2FtZSBoYW5kbGVyIG11bHRpcGxlIHRpbWVzIGlmIGV4ZWN1dGluZyBpbiBhIGRpZmZlcmVudCBjb250ZXh0KS5cbiAgICAgICAgICogQHJldHVybiB7RnVuY3Rpb259IExpc3RlbmVyIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmUgOiBmdW5jdGlvbiAobGlzdGVuZXIsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIsICdyZW1vdmUnKTtcblxuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleE9mTGlzdGVuZXIobGlzdGVuZXIsIGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3NbaV0uX2Rlc3Ryb3koKTsgLy9ubyByZWFzb24gdG8gYSBTaWduYWxCaW5kaW5nIGV4aXN0IGlmIGl0IGlzbid0IGF0dGFjaGVkIHRvIGEgc2lnbmFsXG4gICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBTaWduYWwuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVBbGwgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbiA9IHRoaXMuX2JpbmRpbmdzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChuLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5nc1tuXS5fZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MubGVuZ3RoID0gMDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoZSBTaWduYWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXROdW1MaXN0ZW5lcnMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9wIHByb3BhZ2F0aW9uIG9mIHRoZSBldmVudCwgYmxvY2tpbmcgdGhlIGRpc3BhdGNoIHRvIG5leHQgbGlzdGVuZXJzIG9uIHRoZSBxdWV1ZS5cbiAgICAgICAgICogPHA+PHN0cm9uZz5JTVBPUlRBTlQ6PC9zdHJvbmc+IHNob3VsZCBiZSBjYWxsZWQgb25seSBkdXJpbmcgc2lnbmFsIGRpc3BhdGNoLCBjYWxsaW5nIGl0IGJlZm9yZS9hZnRlciBkaXNwYXRjaCB3b24ndCBhZmZlY3Qgc2lnbmFsIGJyb2FkY2FzdC48L3A+XG4gICAgICAgICAqIEBzZWUgU2lnbmFsLnByb3RvdHlwZS5kaXNhYmxlXG4gICAgICAgICAqL1xuICAgICAgICBoYWx0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvdWxkUHJvcGFnYXRlID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoL0Jyb2FkY2FzdCBTaWduYWwgdG8gYWxsIGxpc3RlbmVycyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAgICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcmFtc10gUGFyYW1ldGVycyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgdG8gZWFjaCBoYW5kbGVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcGF0Y2ggOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoISB0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcmFtc0FyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgbiA9IHRoaXMuX2JpbmRpbmdzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBiaW5kaW5ncztcblxuICAgICAgICAgICAgaWYgKHRoaXMubWVtb3JpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2UGFyYW1zID0gcGFyYW1zQXJyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoISBuKSB7XG4gICAgICAgICAgICAgICAgLy9zaG91bGQgY29tZSBhZnRlciBtZW1vcml6ZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmluZGluZ3MgPSB0aGlzLl9iaW5kaW5ncy5zbGljZSgpOyAvL2Nsb25lIGFycmF5IGluIGNhc2UgYWRkL3JlbW92ZSBpdGVtcyBkdXJpbmcgZGlzcGF0Y2hcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFByb3BhZ2F0ZSA9IHRydWU7IC8vaW4gY2FzZSBgaGFsdGAgd2FzIGNhbGxlZCBiZWZvcmUgZGlzcGF0Y2ggb3IgZHVyaW5nIHRoZSBwcmV2aW91cyBkaXNwYXRjaC5cblxuICAgICAgICAgICAgLy9leGVjdXRlIGFsbCBjYWxsYmFja3MgdW50aWwgZW5kIG9mIHRoZSBsaXN0IG9yIHVudGlsIGEgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgIG9yIHN0b3BzIHByb3BhZ2F0aW9uXG4gICAgICAgICAgICAvL3JldmVyc2UgbG9vcCBzaW5jZSBsaXN0ZW5lcnMgd2l0aCBoaWdoZXIgcHJpb3JpdHkgd2lsbCBiZSBhZGRlZCBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0XG4gICAgICAgICAgICBkbyB7IG4tLTsgfSB3aGlsZSAoYmluZGluZ3Nbbl0gJiYgdGhpcy5fc2hvdWxkUHJvcGFnYXRlICYmIGJpbmRpbmdzW25dLmV4ZWN1dGUocGFyYW1zQXJyKSAhPT0gZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JnZXQgbWVtb3JpemVkIGFyZ3VtZW50cy5cbiAgICAgICAgICogQHNlZSBTaWduYWwubWVtb3JpemVcbiAgICAgICAgICovXG4gICAgICAgIGZvcmdldCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLl9wcmV2UGFyYW1zID0gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGFsbCBiaW5kaW5ncyBmcm9tIHNpZ25hbCBhbmQgZGVzdHJveSBhbnkgcmVmZXJlbmNlIHRvIGV4dGVybmFsIG9iamVjdHMgKGRlc3Ryb3kgU2lnbmFsIG9iamVjdCkuXG4gICAgICAgICAqIDxwPjxzdHJvbmc+SU1QT1JUQU5UOjwvc3Ryb25nPiBjYWxsaW5nIGFueSBtZXRob2Qgb24gdGhlIHNpZ25hbCBpbnN0YW5jZSBhZnRlciBjYWxsaW5nIGRpc3Bvc2Ugd2lsbCB0aHJvdyBlcnJvcnMuPC9wPlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcG9zZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fYmluZGluZ3M7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcHJldlBhcmFtcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRvU3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdbU2lnbmFsIGFjdGl2ZTonKyB0aGlzLmFjdGl2ZSArJyBudW1MaXN0ZW5lcnM6JysgdGhpcy5nZXROdW1MaXN0ZW5lcnMoKSArJ10nO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG5cbiAgICAvLyBOYW1lc3BhY2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNpZ25hbHMgbmFtZXNwYWNlXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBuYW1lIHNpZ25hbHNcbiAgICAgKi9cbiAgICB2YXIgc2lnbmFscyA9IFNpZ25hbDtcblxuICAgIC8qKlxuICAgICAqIEN1c3RvbSBldmVudCBicm9hZGNhc3RlclxuICAgICAqIEBzZWUgU2lnbmFsXG4gICAgICovXG4gICAgLy8gYWxpYXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IChzZWUgI2doLTQ0KVxuICAgIHNpZ25hbHMuU2lnbmFsID0gU2lnbmFsO1xuXG5cblxuICAgIC8vZXhwb3J0cyB0byBtdWx0aXBsZSBlbnZpcm9ubWVudHNcbiAgICBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpeyAvL0FNRFxuICAgICAgICBkZWZpbmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc2lnbmFsczsgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyl7IC8vbm9kZVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHNpZ25hbHM7XG4gICAgfSBlbHNlIHsgLy9icm93c2VyXG4gICAgICAgIC8vdXNlIHN0cmluZyBiZWNhdXNlIG9mIEdvb2dsZSBjbG9zdXJlIGNvbXBpbGVyIEFEVkFOQ0VEX01PREVcbiAgICAgICAgLypqc2xpbnQgc3ViOnRydWUgKi9cbiAgICAgICAgZ2xvYmFsWydzaWduYWxzJ10gPSBzaWduYWxzO1xuICAgIH1cblxufSh0aGlzKSk7XG4iLCJ2YXIgcmVzb2x2ZSA9IHJlcXVpcmUoJ3NvdW5kY2xvdWQtcmVzb2x2ZScpXG52YXIgZm9udHMgPSByZXF1aXJlKCdnb29nbGUtZm9udHMnKVxudmFyIG1pbnN0YWNoZSA9IHJlcXVpcmUoJ21pbnN0YWNoZScpXG52YXIgaW5zZXJ0ID0gcmVxdWlyZSgnaW5zZXJ0LWNzcycpXG52YXIgZnMgPSByZXF1aXJlKCdmcycpXG5cbnZhciBpY29ucyA9IHtcbiAgICBibGFjazogJ2h0dHA6Ly9kZXZlbG9wZXJzLnNvdW5kY2xvdWQuY29tL2Fzc2V0cy9sb2dvX2JsYWNrLnBuZydcbiAgLCB3aGl0ZTogJ2h0dHA6Ly9kZXZlbG9wZXJzLnNvdW5kY2xvdWQuY29tL2Fzc2V0cy9sb2dvX3doaXRlLnBuZydcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYWRnZVxuZnVuY3Rpb24gbm9vcChlcnIpeyBpZiAoZXJyKSB0aHJvdyBlcnIgfVxuXG52YXIgaW5zZXJ0ZWQgPSBmYWxzZVxudmFyIGd3ZmFkZGVkID0gZmFsc2VcbnZhciB0ZW1wbGF0ZSA9IG51bGxcblxuZnVuY3Rpb24gYmFkZ2Uob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgaWYgKCFpbnNlcnRlZCkgaW5zZXJ0KFwiLm5wbS1zY2Itd3JhcCB7XFxuICBmb250LWZhbWlseTogJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBmb250LXdlaWdodDogMjAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDk5OTtcXG59XFxuXFxuLm5wbS1zY2Itd3JhcCBhIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGNvbG9yOiAjMDAwO1xcbn1cXG4ubnBtLXNjYi13aGl0ZVxcbi5ucG0tc2NiLXdyYXAgYSB7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuXFxuLm5wbS1zY2ItaW5uZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAtMTIwcHg7IGxlZnQ6IDA7XFxuICBwYWRkaW5nOiA4cHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTUwcHg7XFxuICB6LWluZGV4OiAyO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiB3aWR0aCAwLjVzIGN1YmljLWJlemllcigxLCAwLCAwLCAxKSwgdG9wIDAuNXM7XFxuICAgICAtbW96LXRyYW5zaXRpb246IHdpZHRoIDAuNXMgY3ViaWMtYmV6aWVyKDEsIDAsIDAsIDEpLCB0b3AgMC41cztcXG4gICAgICAtbXMtdHJhbnNpdGlvbjogd2lkdGggMC41cyBjdWJpYy1iZXppZXIoMSwgMCwgMCwgMSksIHRvcCAwLjVzO1xcbiAgICAgICAtby10cmFuc2l0aW9uOiB3aWR0aCAwLjVzIGN1YmljLWJlemllcigxLCAwLCAwLCAxKSwgdG9wIDAuNXM7XFxuICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuNXMgY3ViaWMtYmV6aWVyKDEsIDAsIDAsIDEpLCB0b3AgMC41cztcXG59XFxuLm5wbS1zY2Itd3JhcDpob3Zlclxcbi5ucG0tc2NiLWlubmVyIHtcXG4gIHRvcDogMDtcXG59XFxuXFxuLm5wbS1zY2ItYXJ0d29yayB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDE2cHg7IGxlZnQ6IDE2cHg7XFxuICB3aWR0aDogMTA0cHg7IGhlaWdodDogMTA0cHg7XFxuICBib3gtc2hhZG93OiAwIDAgOHB4IC0zcHggIzAwMDtcXG4gIG91dGxpbmU6IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMSk7XFxuICB6LWluZGV4OiAyO1xcbn1cXG4ubnBtLXNjYi13aGl0ZVxcbi5ucG0tc2NiLWFydHdvcmsge1xcbiAgb3V0bGluZTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKTtcXG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IC0ycHggcmdiYSgyNTUsMjU1LDI1NSwwLjkpO1xcbn1cXG5cXG4ubnBtLXNjYi1pbmZvIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMTZweDtcXG4gIGxlZnQ6IDEyMHB4O1xcbiAgd2lkdGg6IDMwMHB4O1xcbiAgei1pbmRleDogMTtcXG59XFxuXFxuLm5wbS1zY2ItaW5mbyA+IGEge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5ucG0tc2NiLW5vdy1wbGF5aW5nIHtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxMnB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDUwMHB4O1xcbiAgei1pbmRleDogMTtcXG4gIHBhZGRpbmc6IDE1cHggMDtcXG4gIHRvcDogMDsgbGVmdDogMTM4cHg7XFxuICBvcGFjaXR5OiAxO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzO1xcbiAgICAgLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzO1xcbiAgICAgIC1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzO1xcbiAgICAgICAtby10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzO1xcbiAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzO1xcbn1cXG5cXG4ubnBtLXNjYi13cmFwOmhvdmVyXFxuLm5wbS1zY2Itbm93LXBsYXlpbmcge1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuLm5wbS1zY2Itd2hpdGVcXG4ubnBtLXNjYi1ub3ctcGxheWluZyB7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuLm5wbS1zY2Itbm93LXBsYXlpbmcgPiBhIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG4ubnBtLXNjYi1pbmZvID4gYSA+IHAge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZy1ib3R0b206IDAuMjVlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM1ZW07XFxuICBtYXJnaW4tbGVmdDogMWVtO1xcbiAgZm9udC1zaXplOiAxZW07XFxufVxcblxcbi5ucG0tc2NiLXRpdGxlIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG4ubnBtLXNjYi1pY29uIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMTIwcHg7XFxuICBwYWRkaW5nLXRvcDogMC43NWVtO1xcbiAgbGVmdDogMTZweDtcXG59XFxuXCIpLCBpbnNlcnRlZCA9IHRydWVcbiAgaWYgKCF0ZW1wbGF0ZSkgdGVtcGxhdGUgPSBtaW5zdGFjaGUuY29tcGlsZShcIjxkaXYgY2xhc3M9XFxcIm5wbS1zY2Itd3JhcFxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJucG0tc2NiLWlubmVyXFxcIj5cXG4gICAgPGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGhyZWY9XFxcInt7dXJscy5zb25nfX1cXFwiPlxcbiAgICAgIDxpbWcgY2xhc3M9XFxcIm5wbS1zY2ItaWNvblxcXCIgc3JjPVxcXCJ7e2ljb259fVxcXCI+XFxuICAgICAgPGltZyBjbGFzcz1cXFwibnBtLXNjYi1hcnR3b3JrXFxcIiBzcmM9XFxcInt7YXJ0d29ya319XFxcIj5cXG4gICAgPC9hPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJucG0tc2NiLWluZm9cXFwiPlxcbiAgICAgIDxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBocmVmPVxcXCJ7e3VybHMuc29uZ319XFxcIj5cXG4gICAgICAgIDxwIGNsYXNzPVxcXCJucG0tc2NiLXRpdGxlXFxcIj57e3RpdGxlfX08L3A+XFxuICAgICAgPC9hPlxcbiAgICAgIDxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBocmVmPVxcXCJ7e3VybHMuYXJ0aXN0fX1cXFwiPlxcbiAgICAgICAgPHAgY2xhc3M9XFxcIm5wbS1zY2ItYXJ0aXN0XFxcIj57e2FydGlzdH19PC9wPlxcbiAgICAgIDwvYT5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm5wbS1zY2Itbm93LXBsYXlpbmdcXFwiPlxcbiAgICBOb3cgUGxheWluZzpcXG4gICAgPGEgaHJlZj1cXFwie3t1cmxzLnNvbmd9fVxcXCI+e3t0aXRsZX19PC9hPlxcbiAgICBieVxcbiAgICA8YSBocmVmPVxcXCJ7e3VybHMuYXJ0aXN0fX1cXFwiPnt7YXJ0aXN0fX08L2E+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIilcblxuICBpZiAoIWd3ZmFkZGVkICYmIG9wdGlvbnMuZ2V0Rm9udHMpIHtcbiAgICBmb250cy5hZGQoeyAnT3BlbiBTYW5zJzogWzMwMCwgNjAwXSB9KVxuICAgIGd3ZmFkZGVkID0gdHJ1ZVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wXG5cbiAgdmFyIGRpdiAgID0gb3B0aW9ucy5lbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB2YXIgaWNvbiAgPSAhKCdkYXJrJyBpbiBvcHRpb25zKSB8fCBvcHRpb25zLmRhcmsgPyAnYmxhY2snIDogJ3doaXRlJ1xuICB2YXIgaWQgICAgPSBvcHRpb25zLmNsaWVudF9pZFxuICB2YXIgc29uZyAgPSBvcHRpb25zLnNvbmdcblxuICByZXNvbHZlKGlkLCBzb25nLCBmdW5jdGlvbihlcnIsIGpzb24pIHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKVxuICAgIGlmIChqc29uLmtpbmQgIT09ICd0cmFjaycpIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdzb3VuZGNsb3VkLWJhZGdlIG9ubHkgc3VwcG9ydHMgaW5kaXZpZHVhbCB0cmFja3MgYXQgdGhlIG1vbWVudCdcbiAgICApXG5cbiAgICBkaXYuY2xhc3NMaXN0W1xuICAgICAgaWNvbiA9PT0gJ2JsYWNrJyA/ICdyZW1vdmUnIDogJ2FkZCdcbiAgICBdKCducG0tc2NiLXdoaXRlJylcblxuICAgIGRpdi5pbm5lckhUTUwgPSB0ZW1wbGF0ZSh7XG4gICAgICAgIGFydHdvcms6IGpzb24uYXJ0d29ya191cmwgfHwganNvbi51c2VyLmF2YXRhcl91cmxcbiAgICAgICwgYXJ0aXN0OiBqc29uLnVzZXIudXNlcm5hbWVcbiAgICAgICwgdGl0bGU6IGpzb24udGl0bGVcbiAgICAgICwgaWNvbjogaWNvbnNbaWNvbl1cbiAgICAgICwgdXJsczoge1xuICAgICAgICAgIHNvbmc6IGpzb24ucGVybWFsaW5rX3VybFxuICAgICAgICAsIGFydGlzdDoganNvbi51c2VyLnBlcm1hbGlua191cmxcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpXG5cbiAgICBjYWxsYmFjayhudWxsLCBqc29uLnN0cmVhbV91cmwgKyAnP2NsaWVudF9pZD0nICsgaWQsIGpzb24sIGRpdilcbiAgfSlcblxuICByZXR1cm4gZGl2XG59XG4iLCJ2YXIgaW5zZXJ0ZWQgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gICAgaWYgKGluc2VydGVkLmluZGV4T2YoY3NzKSA+PSAwKSByZXR1cm47XG4gICAgaW5zZXJ0ZWQucHVzaChjc3MpO1xuICAgIFxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgZWxlbS5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICBcbiAgICBpZiAoZG9jdW1lbnQuaGVhZC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShlbGVtLCBkb2N1bWVudC5oZWFkLmNoaWxkTm9kZXNbMF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICB9XG59O1xuIiwidmFyIHFzICA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJylcbnZhciB4aHIgPSByZXF1aXJlKCd4aHInKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmVcblxuZnVuY3Rpb24gcmVzb2x2ZShpZCwgZ29hbCwgY2FsbGJhY2spIHtcbiAgdmFyIHVyaSA9ICdodHRwOi8vYXBpLnNvdW5kY2xvdWQuY29tL3Jlc29sdmUuanNvbj8nICsgcXMuc3RyaW5naWZ5KHtcbiAgICAgIHVybDogZ29hbFxuICAgICwgY2xpZW50X2lkOiBpZFxuICB9KVxuXG4gIHhocih7XG4gICAgICB1cmk6IHVyaVxuICAgICwgbWV0aG9kOiAnR0VUJ1xuICB9LCBmdW5jdGlvbihlcnIsIHJlcywgYm9keSkge1xuICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpXG4gICAgdHJ5IHtcbiAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZSlcbiAgICB9XG4gICAgaWYgKGJvZHkuZXJyb3JzKSByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFxuICAgICAgYm9keS5lcnJvcnNbMF0uZXJyb3JfbWVzc2FnZVxuICAgICkpXG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGJvZHkpXG4gIH0pXG59XG4iLCJ2YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cy8nKVxuXG52YXIgYWxsRXZlbnRzID0gW1xuICAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnLCAndG91Y2hjYW5jZWwnLFxuICAnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJ1xuXVxuXG52YXIgUk9PVCA9IHsgbGVmdDogMCwgdG9wOiAwIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYW5kbGVyIChlbGVtZW50LCBvcHQpIHtcbiAgb3B0ID0gb3B0IHx8IHt9XG4gIGVsZW1lbnQgPSBlbGVtZW50IHx8IHdpbmRvd1xuXG4gIHZhciBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKVxuICBlbWl0dGVyLnRhcmdldCA9IG9wdC50YXJnZXQgfHwgZWxlbWVudFxuXG4gIHZhciB0b3VjaCA9IG51bGxcbiAgdmFyIGZpbHRlcmVkID0gb3B0LmZpbHRlcmVkXG5cbiAgdmFyIGV2ZW50cyA9IGFsbEV2ZW50c1xuXG4gIC8vIG9ubHkgYSBzdWJzZXQgb2YgZXZlbnRzXG4gIGlmICh0eXBlb2Ygb3B0LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgZXZlbnRzID0gYWxsRXZlbnRzLmZpbHRlcihmdW5jdGlvbiAodHlwZSkge1xuICAgICAgcmV0dXJuIHR5cGUuaW5kZXhPZihvcHQudHlwZSkgPT09IDBcbiAgICB9KVxuICB9XG5cbiAgLy8gZ3JhYiB0aGUgZXZlbnQgZnVuY3Rpb25zXG4gIHZhciBmdW5jcyA9IGV2ZW50cy5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgbmFtZSA9IG5vcm1hbGl6ZSh0eXBlKVxuICAgIHZhciBmbiA9IGZ1bmN0aW9uIChldikge1xuICAgICAgdmFyIGNsaWVudCA9IGV2XG4gICAgICBpZiAoL150b3VjaC8udGVzdCh0eXBlKSkge1xuICAgICAgICBpZiAoL150b3VjaGVuZCQvLnRlc3QodHlwZSkgJiYgb3B0LnByZXZlbnRTaW11bGF0ZWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZmlsdGVyZWQpIHtcbiAgICAgICAgICBjbGllbnQgPSBnZXRGaWx0ZXJlZFRvdWNoKGV2LCB0eXBlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWVudCA9IGdldFRhcmdldFRvdWNoKGV2LmNoYW5nZWRUb3VjaGVzLCBlbWl0dGVyLnRhcmdldClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IDJEIHBvc2l0aW9uXG4gICAgICB2YXIgcG9zID0gb2Zmc2V0KGNsaWVudCwgZW1pdHRlci50YXJnZXQpXG5cbiAgICAgIC8vIGRpc3BhdGNoIHRoZSBub3JtYWxpemVkIGV2ZW50IHRvIG91ciBlbWl0dGVyXG4gICAgICBlbWl0dGVyLmVtaXQobmFtZSwgZXYsIHBvcylcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGZuIH1cbiAgfSlcblxuICBlbWl0dGVyLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSAoKSB7XG4gICAgZnVuY3MuZm9yRWFjaChsaXN0ZW5lcnMoZWxlbWVudCwgdHJ1ZSkpXG5cbiAgICByZXR1cm4gZW1pdHRlclxuICB9XG5cbiAgZW1pdHRlci5kaXNhYmxlID0gZnVuY3Rpb24gZGlzcG9zZSAoKSB7XG4gICAgdG91Y2ggPSBudWxsXG4gICAgZnVuY3MuZm9yRWFjaChsaXN0ZW5lcnMoZWxlbWVudCwgZmFsc2UpKVxuXG4gICAgcmV0dXJuIGVtaXR0ZXJcbiAgfVxuXG4gIC8vIGluaXRpYWxseSBlbmFibGVkXG4gIGVtaXR0ZXIuZW5hYmxlKClcbiAgcmV0dXJuIGVtaXR0ZXJcblxuICBmdW5jdGlvbiBnZXRGaWx0ZXJlZFRvdWNoIChldiwgdHlwZSkge1xuICAgIHZhciBjbGllbnRcblxuICAgIC8vIGNsZWFyIHRvdWNoIGlmIGl0IHdhcyBsaWZ0ZWQgb3IgY2FuY2VsZWRcbiAgICBpZiAodG91Y2ggJiYgL150b3VjaChlbmR8Y2FuY2VsKS8udGVzdCh0eXBlKSkge1xuICAgICAgLy8gYWxsb3cgZW5kIGV2ZW50IHRvIHRyaWdnZXIgb24gdHJhY2tlZCB0b3VjaFxuICAgICAgY2xpZW50ID0gZ2V0VG91Y2goZXYuY2hhbmdlZFRvdWNoZXMsIHRvdWNoLmlkZW50aWZpZXIgfHwgMClcbiAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgdG91Y2ggPSBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghdG91Y2ggJiYgL150b3VjaHN0YXJ0Ly50ZXN0KHR5cGUpKSB7XG4gICAgICAvLyBub3QgeWV0IHRyYWNraW5nIGFueSB0b3VjaGVzLCBwaWNrIG9uZSBmcm9tIHRhcmdldFxuICAgICAgdG91Y2ggPSBjbGllbnQgPSBnZXRUYXJnZXRUb3VjaChldi5jaGFuZ2VkVG91Y2hlcywgZW1pdHRlci50YXJnZXQpXG4gICAgfSBlbHNlIGlmICh0b3VjaCkge1xuICAgIC8vIGdldCB0aGUgdHJhY2tlZCB0b3VjaFxuICAgICAgY2xpZW50ID0gZ2V0VG91Y2goZXYuY2hhbmdlZFRvdWNoZXMsIHRvdWNoLmlkZW50aWZpZXIgfHwgMClcbiAgICB9XG5cbiAgICByZXR1cm4gY2xpZW50XG4gIH1cbn1cblxuLy8gZ2V0IDJEIGNsaWVudCBwb3NpdGlvbiBvZiB0b3VjaC9tb3VzZSBldmVudFxuZnVuY3Rpb24gb2Zmc2V0IChldiwgdGFyZ2V0KSB7XG4gIHZhciBjeCA9IGV2LmNsaWVudFggfHwgMFxuICB2YXIgY3kgPSBldi5jbGllbnRZIHx8IDBcbiAgdmFyIHJlY3QgPSBib3VuZHModGFyZ2V0KVxuICByZXR1cm4gWyBjeCAtIHJlY3QubGVmdCwgY3kgLSByZWN0LnRvcCBdXG59XG5cbi8vIHNpbmNlIHdlIGFyZSBhZGRpbmcgZXZlbnRzIHRvIGEgcGFyZW50IHdlIGNhbid0IHJlbHkgb24gdGFyZ2V0VG91Y2hlc1xuZnVuY3Rpb24gZ2V0VGFyZ2V0VG91Y2ggKHRvdWNoZXMsIHRhcmdldCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodG91Y2hlcykuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQudGFyZ2V0ID09PSB0YXJnZXRcbiAgfSlbMF0gfHwgdG91Y2hlc1swXVxufVxuXG5mdW5jdGlvbiBnZXRUb3VjaCAodG91Y2hlcywgaWQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRvdWNoZXNbaV0uaWRlbnRpZmllciA9PT0gaWQpIHtcbiAgICAgIHJldHVybiB0b3VjaGVzW2ldXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIGxpc3RlbmVycyAoZSwgZW5hYmxlZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZW5hYmxlZCkgZS5hZGRFdmVudExpc3RlbmVyKGRhdGEudHlwZSwgZGF0YS5saXN0ZW5lciwgeyBwYXNzaXZlOiBmYWxzZSB9KVxuICAgIGVsc2UgZS5yZW1vdmVFdmVudExpc3RlbmVyKGRhdGEudHlwZSwgZGF0YS5saXN0ZW5lciwgeyBwYXNzaXZlOiBmYWxzZSB9KVxuICB9XG59XG5cbi8vIG5vcm1hbGl6ZSB0b3VjaHN0YXJ0L21vdXNlZG93biB0byBcInN0YXJ0XCIgZXRjXG5mdW5jdGlvbiBub3JtYWxpemUgKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5yZXBsYWNlKC9eKHRvdWNofG1vdXNlKS8sICcnKVxuICAgIC5yZXBsYWNlKC91cCQvLCAnZW5kJylcbiAgICAucmVwbGFjZSgvZG93biQvLCAnc3RhcnQnKVxufVxuXG5mdW5jdGlvbiBib3VuZHMgKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQgPT09IHdpbmRvdyB8fFxuICAgICAgZWxlbWVudCA9PT0gZG9jdW1lbnQgfHxcbiAgICAgIGVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gUk9PVFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIH1cbn1cbiIsInZhciB3aW5kb3cgPSByZXF1aXJlKFwiZ2xvYmFsL3dpbmRvd1wiKVxudmFyIG9uY2UgPSByZXF1aXJlKFwib25jZVwiKVxuXG52YXIgbWVzc2FnZXMgPSB7XG4gICAgXCIwXCI6IFwiSW50ZXJuYWwgWE1MSHR0cFJlcXVlc3QgRXJyb3JcIixcbiAgICBcIjRcIjogXCI0eHggQ2xpZW50IEVycm9yXCIsXG4gICAgXCI1XCI6IFwiNXh4IFNlcnZlciBFcnJvclwiXG59XG5cbnZhciBYSFIgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgfHwgbm9vcFxudmFyIFhEUiA9IFwid2l0aENyZWRlbnRpYWxzXCIgaW4gKG5ldyBYSFIoKSkgP1xuICAgICAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgOiB3aW5kb3cuWERvbWFpblJlcXVlc3RcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVYSFJcblxuZnVuY3Rpb24gY3JlYXRlWEhSKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7IHVyaTogb3B0aW9ucyB9XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICBjYWxsYmFjayA9IG9uY2UoY2FsbGJhY2spXG5cbiAgICB2YXIgeGhyXG5cbiAgICBpZiAob3B0aW9ucy5jb3JzKSB7XG4gICAgICAgIHhociA9IG5ldyBYRFIoKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHhociA9IG5ldyBYSFIoKVxuICAgIH1cblxuICAgIHZhciB1cmkgPSB4aHIudXJsID0gb3B0aW9ucy51cmlcbiAgICB2YXIgbWV0aG9kID0geGhyLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCJcbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLmRhdGFcbiAgICB2YXIgaGVhZGVycyA9IHhoci5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9XG4gICAgdmFyIGlzSnNvbiA9IGZhbHNlXG5cbiAgICBpZiAoXCJqc29uXCIgaW4gb3B0aW9ucykge1xuICAgICAgICBpc0pzb24gPSB0cnVlXG4gICAgICAgIGhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5qc29uKVxuICAgIH1cblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSByZWFkeXN0YXRlY2hhbmdlXG4gICAgeGhyLm9ubG9hZCA9IGxvYWRcbiAgICB4aHIub25lcnJvciA9IGVycm9yXG4gICAgLy8gSUU5IG11c3QgaGF2ZSBvbnByb2dyZXNzIGJlIHNldCB0byBhIHVuaXF1ZSBmdW5jdGlvbi5cbiAgICB4aHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gSUUgbXVzdCBkaWVcbiAgICB9XG4gICAgLy8gaGF0ZSBJRVxuICAgIHhoci5vbnRpbWVvdXQgPSBub29wXG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmkpXG4gICAgaWYgKG9wdGlvbnMuY29ycykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgIH1cbiAgICB4aHIudGltZW91dCA9IFwidGltZW91dFwiIGluIG9wdGlvbnMgPyBvcHRpb25zLnRpbWVvdXQgOiA1MDAwXG5cbiAgICBpZiAoIHhoci5zZXRSZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgeGhyLnNlbmQoYm9keSlcblxuICAgIHJldHVybiB4aHJcblxuICAgIGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2UoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgbG9hZCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICB2YXIgZXJyb3IgPSBudWxsXG4gICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzQ29kZSA9IHhoci5zdGF0dXNcbiAgICAgICAgdmFyIGJvZHkgPSB4aHIuYm9keSA9IHhoci5yZXNwb25zZSB8fFxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVGV4dCB8fCB4aHIucmVzcG9uc2VYTUxcblxuICAgICAgICBpZiAoc3RhdHVzID09PSAwIHx8IChzdGF0dXMgPj0gNDAwICYmIHN0YXR1cyA8IDYwMCkpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0geGhyLnJlc3BvbnNlVGV4dCB8fFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzW1N0cmluZyh4aHIuc3RhdHVzKS5jaGFyQXQoMCldXG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKVxuXG4gICAgICAgICAgICBlcnJvci5zdGF0dXNDb2RlID0geGhyLnN0YXR1c1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSnNvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBib2R5ID0geGhyLmJvZHkgPSBKU09OLnBhcnNlKGJvZHkpXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIHhociwgYm9keSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlcnJvcihldnQpIHtcbiAgICAgICAgY2FsbGJhY2soZXZ0LCB4aHIpXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuIiwibW9kdWxlLmV4cG9ydHMgPSBvbmNlXG5cbm9uY2UucHJvdG8gPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ29uY2UnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbmNlKHRoaXMpXG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcbn0pXG5cbmZ1bmN0aW9uIG9uY2UgKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZVxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVyblxuICAgIGNhbGxlZCA9IHRydWVcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG59XG4iXX0=
